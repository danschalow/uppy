"use strict";
(function(){var Hae=Object.create;var Lp=Object.defineProperty;var Vae=Object.getOwnPropertyDescriptor;var Wae=Object.getOwnPropertyNames;var Gae=Object.getPrototypeOf,Kae=Object.prototype.hasOwnProperty;var qA=function(t){return Lp(t,"__esModule",{value:!0})};var S=function(t,e){return function(){return t&&(e=t(t=0)),e}};var h=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},RA=function(t,e){for(var r in e)Lp(t,r,{get:e[r],enumerable:!0})},EA=function(t,e,r,n){if(e&&typeof e=="object"||typeof e=="function")for(var i=Wae(e),a=0,o=i.length,u;a<o;a++)u=i[a],!Kae.call(t,u)&&(r||u!=="default")&&Lp(t,u,{get:function(s){return e[s]}.bind(null,u),enumerable:!(n=Vae(e,u))||n.enumerable});return t},Cr=function(t,e){return EA(qA(Lp(t!=null?Hae(Gae(t)):{},"default",!e&&t&&t.__esModule?{get:function(){return t.default},enumerable:!0}:{value:t,enumerable:!0})),t)},ee=function(t){return function(e,r){return t&&t.get(e)||(r=EA(qA({}),e,1),t&&t.set(e,r),r)}}(typeof WeakMap!="undefined"?new WeakMap:0);var z=h(function(Nft,TA){function ro(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ro=function(r){return typeof r}:ro=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ro(t)}var zp=function(e){return e&&e.Math==Math&&e};TA.exports=zp((typeof globalThis=="undefined"?"undefined":ro(globalThis))=="object"&&globalThis)||zp((typeof window=="undefined"?"undefined":ro(window))=="object"&&window)||zp((typeof self=="undefined"?"undefined":ro(self))=="object"&&self)||zp((typeof global=="undefined"?"undefined":ro(global))=="object"&&global)||function(){return this}()||Function("return this")()});var oe=h(function(Bft,AA){AA.exports=function(t){try{return!!t()}catch(e){return!0}}});var Re=h(function(Lft,IA){var Yae=oe();IA.exports=!Yae(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var le=h(function(zft,kA){var kl=Function.prototype.call;kA.exports=kl.bind?kl.bind(kl):function(){return kl.apply(kl,arguments)}});var xl=h(function(CA){"use strict";var xA={}.propertyIsEnumerable,FA=Object.getOwnPropertyDescriptor,Xae=FA&&!xA.call({1:2},1);CA.f=Xae?function(e){var r=FA(this,e);return!!r&&r.enumerable}:xA});var ln=h(function(Hft,DA){DA.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var ae=h(function(Vft,jA){var UA=Function.prototype,u_=UA.bind,s_=UA.call,Jae=u_&&u_.bind(s_);jA.exports=u_?function(t){return t&&Jae(s_,t)}:function(t){return t&&function(){return s_.apply(t,arguments)}}});var lr=h(function(Wft,NA){var MA=ae(),Qae=MA({}.toString),Zae=MA("".slice);NA.exports=function(t){return Zae(Qae(t),8,-1)}});var no=h(function(Gft,BA){var eoe=z(),toe=ae(),roe=oe(),noe=lr(),l_=eoe.Object,ioe=toe("".split);BA.exports=roe(function(){return!l_("z").propertyIsEnumerable(0)})?function(t){return noe(t)=="String"?ioe(t,""):l_(t)}:l_});var Rt=h(function(Kft,LA){var aoe=z(),ooe=aoe.TypeError;LA.exports=function(t){if(t==null)throw ooe("Can't call method on "+t);return t}});var Jt=h(function(Yft,zA){var uoe=no(),soe=Rt();zA.exports=function(t){return uoe(soe(t))}});var Ee=h(function(Xft,$A){$A.exports=function(t){return typeof t=="function"}});var we=h(function(Jft,HA){function $p(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$p=function(r){return typeof r}:$p=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$p(t)}var loe=Ee();HA.exports=function(t){return $p(t)=="object"?t!==null:loe(t)}});var xe=h(function(Qft,VA){var c_=z(),coe=Ee(),foe=function(e){return coe(e)?e:void 0};VA.exports=function(t,e){return arguments.length<2?foe(c_[t]):c_[t]&&c_[t][e]}});var Qt=h(function(Zft,WA){var poe=ae();WA.exports=poe({}.isPrototypeOf)});var pi=h(function(ept,GA){var doe=xe();GA.exports=doe("navigator","userAgent")||""});var io=h(function(tpt,ZA){var KA=z(),f_=pi(),YA=KA.process,XA=KA.Deno,JA=YA&&YA.versions||XA&&XA.version,QA=JA&&JA.v8,cn,Hp;QA&&(cn=QA.split("."),Hp=cn[0]>0&&cn[0]<4?1:+(cn[0]+cn[1]));!Hp&&f_&&(cn=f_.match(/Edge\/(\d+)/),(!cn||cn[1]>=74)&&(cn=f_.match(/Chrome\/(\d+)/),cn&&(Hp=+cn[1])));ZA.exports=Hp});var Vp=h(function(rpt,t2){var e2=io(),hoe=oe();t2.exports=!!Object.getOwnPropertySymbols&&!hoe(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e2&&e2<41})});var p_=h(function(npt,r2){function Wp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wp=function(r){return typeof r}:Wp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wp(t)}var voe=Vp();r2.exports=voe&&!Symbol.sham&&Wp(Symbol.iterator)=="symbol"});var mu=h(function(ipt,n2){function Gp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gp=function(r){return typeof r}:Gp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gp(t)}var yoe=z(),goe=xe(),moe=Ee(),boe=Qt(),_oe=p_(),woe=yoe.Object;n2.exports=_oe?function(t){return Gp(t)=="symbol"}:function(t){var e=goe("Symbol");return moe(e)&&boe(e.prototype,woe(t))}});var bu=h(function(apt,i2){var Soe=z(),Ooe=Soe.String;i2.exports=function(t){try{return Ooe(t)}catch(e){return"Object"}}});var de=h(function(opt,a2){var Poe=z(),qoe=Ee(),Roe=bu(),Eoe=Poe.TypeError;a2.exports=function(t){if(qoe(t))return t;throw Eoe(Roe(t)+" is not a function")}});var Ft=h(function(upt,o2){var Toe=de();o2.exports=function(t,e){var r=t[e];return r==null?void 0:Toe(r)}});var y_=h(function(spt,u2){var Aoe=z(),d_=le(),h_=Ee(),v_=we(),Ioe=Aoe.TypeError;u2.exports=function(t,e){var r,n;if(e==="string"&&h_(r=t.toString)&&!v_(n=d_(r,t))||h_(r=t.valueOf)&&!v_(n=d_(r,t))||e!=="string"&&h_(r=t.toString)&&!v_(n=d_(r,t)))return n;throw Ioe("Can't convert object to primitive value")}});var he=h(function(lpt,s2){s2.exports=!1});var Kp=h(function(cpt,c2){var l2=z(),koe=Object.defineProperty;c2.exports=function(t,e){try{koe(l2,t,{value:e,configurable:!0,writable:!0})}catch(r){l2[t]=e}return e}});var Fl=h(function(fpt,p2){var xoe=z(),Foe=Kp(),f2="__core-js_shared__",Coe=xoe[f2]||Foe(f2,{});p2.exports=Coe});var _u=h(function(ppt,h2){var Doe=he(),d2=Fl();(h2.exports=function(t,e){return d2[t]||(d2[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.19.3",mode:Doe?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})});var Fe=h(function(dpt,v2){var Uoe=z(),joe=Rt(),Moe=Uoe.Object;v2.exports=function(t){return Moe(joe(t))}});var Le=h(function(hpt,y2){var Noe=ae(),Boe=Fe(),Loe=Noe({}.hasOwnProperty);y2.exports=Object.hasOwn||function(e,r){return Loe(Boe(e),r)}});var wu=h(function(vpt,g2){var zoe=ae(),$oe=0,Hoe=Math.random(),Voe=zoe(1 .toString);g2.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Voe(++$oe+Hoe,36)}});var be=h(function(ypt,S2){var Woe=z(),Goe=_u(),m2=Le(),Koe=wu(),b2=Vp(),_2=p_(),Su=Goe("wks"),ao=Woe.Symbol,w2=ao&&ao.for,Yoe=_2?ao:ao&&ao.withoutSetter||Koe;S2.exports=function(t){if(!m2(Su,t)||!(b2||typeof Su[t]=="string")){var e="Symbol."+t;b2&&m2(ao,t)?Su[t]=ao[t]:_2&&w2?Su[t]=w2(e):Su[t]=Yoe(e)}return Su[t]}});var g_=h(function(gpt,q2){var Xoe=z(),Joe=le(),O2=we(),P2=mu(),Qoe=Ft(),Zoe=y_(),eue=be(),tue=Xoe.TypeError,rue=eue("toPrimitive");q2.exports=function(t,e){if(!O2(t)||P2(t))return t;var r=Qoe(t,rue),n;if(r){if(e===void 0&&(e="default"),n=Joe(r,t,e),!O2(n)||P2(n))return n;throw tue("Can't convert object to primitive value")}return e===void 0&&(e="number"),Zoe(t,e)}});var di=h(function(mpt,R2){var nue=g_(),iue=mu();R2.exports=function(t){var e=nue(t,"string");return iue(e)?e:e+""}});var Cl=h(function(bpt,T2){var aue=z(),E2=we(),m_=aue.document,oue=E2(m_)&&E2(m_.createElement);T2.exports=function(t){return oue?m_.createElement(t):{}}});var b_=h(function(_pt,A2){var uue=Re(),sue=oe(),lue=Cl();A2.exports=!uue&&!sue(function(){return Object.defineProperty(lue("div"),"a",{get:function(){return 7}}).a!=7})});var Ct=h(function(k2){var cue=Re(),fue=le(),pue=xl(),due=ln(),hue=Jt(),vue=di(),yue=Le(),gue=b_(),I2=Object.getOwnPropertyDescriptor;k2.f=cue?I2:function(e,r){if(e=hue(e),r=vue(r),gue)try{return I2(e,r)}catch(n){}if(yue(e,r))return due(!fue(pue.f,e,r),e[r])}});var W=h(function(Spt,F2){var x2=z(),mue=we(),bue=x2.String,_ue=x2.TypeError;F2.exports=function(t){if(mue(t))return t;throw _ue(bue(t)+" is not an object")}});var Ne=h(function(U2){var wue=z(),Sue=Re(),Oue=b_(),C2=W(),Pue=di(),que=wue.TypeError,D2=Object.defineProperty;U2.f=Sue?D2:function(e,r,n){if(C2(e),r=Pue(r),C2(n),Oue)try{return D2(e,r,n)}catch(i){}if("get"in n||"set"in n)throw que("Accessors not supported");return"value"in n&&(e[r]=n.value),e}});var Et=h(function(Ppt,j2){var Rue=Re(),Eue=Ne(),Tue=ln();j2.exports=Rue?function(t,e,r){return Eue.f(t,e,Tue(1,r))}:function(t,e,r){return t[e]=r,t}});var Dl=h(function(qpt,M2){var Aue=ae(),Iue=Ee(),__=Fl(),kue=Aue(Function.toString);Iue(__.inspectSource)||(__.inspectSource=function(t){return kue(t)});M2.exports=__.inspectSource});var w_=h(function(Rpt,B2){var xue=z(),Fue=Ee(),Cue=Dl(),N2=xue.WeakMap;B2.exports=Fue(N2)&&/native code/.test(Cue(N2))});var Ul=h(function(Ept,z2){var Due=_u(),Uue=wu(),L2=Due("keys");z2.exports=function(t){return L2[t]||(L2[t]=Uue(t))}});var Ou=h(function(Tpt,$2){$2.exports={}});var We=h(function(Apt,K2){var jue=w_(),H2=z(),S_=ae(),Mue=we(),Nue=Et(),O_=Le(),P_=Fl(),Bue=Ul(),Lue=Ou(),V2="Object already initialized",q_=H2.TypeError,zue=H2.WeakMap,Yp,jl,Xp,$ue=function(e){return Xp(e)?jl(e):Yp(e,{})},Hue=function(e){return function(r){var n;if(!Mue(r)||(n=jl(r)).type!==e)throw q_("Incompatible receiver, "+e+" required");return n}};jue||P_.state?(na=P_.state||(P_.state=new zue),W2=S_(na.get),R_=S_(na.has),G2=S_(na.set),Yp=function(e,r){if(R_(na,e))throw new q_(V2);return r.facade=e,G2(na,e,r),r},jl=function(e){return W2(na,e)||{}},Xp=function(e){return R_(na,e)}):(oo=Bue("state"),Lue[oo]=!0,Yp=function(e,r){if(O_(e,oo))throw new q_(V2);return r.facade=e,Nue(e,oo,r),r},jl=function(e){return O_(e,oo)?e[oo]:{}},Xp=function(e){return O_(e,oo)});var na,W2,R_,G2,oo;K2.exports={set:Yp,get:jl,has:Xp,enforce:$ue,getterFor:Hue}});var ia=h(function(Ipt,X2){var E_=Re(),Vue=Le(),Y2=Function.prototype,Wue=E_&&Object.getOwnPropertyDescriptor,T_=Vue(Y2,"name"),Gue=T_&&function(){}.name==="something",Kue=T_&&(!E_||E_&&Wue(Y2,"name").configurable);X2.exports={EXISTS:T_,PROPER:Gue,CONFIGURABLE:Kue}});var st=h(function(kpt,eI){var Yue=z(),J2=Ee(),Xue=Le(),Q2=Et(),Jue=Kp(),Que=Dl(),Z2=We(),Zue=ia().CONFIGURABLE,ese=Z2.get,tse=Z2.enforce,rse=String(String).split("String");(eI.exports=function(t,e,r,n){var i=n?!!n.unsafe:!1,a=n?!!n.enumerable:!1,o=n?!!n.noTargetGet:!1,u=n&&n.name!==void 0?n.name:e,s;if(J2(r)&&(String(u).slice(0,7)==="Symbol("&&(u="["+String(u).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Xue(r,"name")||Zue&&r.name!==u)&&Q2(r,"name",u),s=tse(r),s.source||(s.source=rse.join(typeof u=="string"?u:""))),t===Yue){a?t[e]=r:Jue(e,r);return}else i?!o&&t[e]&&(a=!0):delete t[e];a?t[e]=r:Q2(t,e,r)})(Function.prototype,"toString",function(){return J2(this)&&ese(this).source||Que(this)})});var Vt=h(function(xpt,tI){var nse=Math.ceil,ise=Math.floor;tI.exports=function(t){var e=+t;return e!==e||e===0?0:(e>0?ise:nse)(e)}});var hi=h(function(Fpt,rI){var ase=Vt(),ose=Math.max,use=Math.min;rI.exports=function(t,e){var r=ase(t);return r<0?ose(r+e,0):use(r,e)}});var _r=h(function(Cpt,nI){var sse=Vt(),lse=Math.min;nI.exports=function(t){return t>0?lse(sse(t),9007199254740991):0}});var Ge=h(function(Dpt,iI){var cse=_r();iI.exports=function(t){return cse(t.length)}});var Ml=h(function(Upt,oI){var fse=Jt(),pse=hi(),dse=Ge(),aI=function(e){return function(r,n,i){var a=fse(r),o=dse(a),u=pse(i,o),s;if(e&&n!=n){for(;o>u;)if(s=a[u++],s!=s)return!0}else for(;o>u;u++)if((e||u in a)&&a[u]===n)return e||u||0;return!e&&-1}};oI.exports={includes:aI(!0),indexOf:aI(!1)}});var I_=h(function(jpt,sI){var hse=ae(),A_=Le(),vse=Jt(),yse=Ml().indexOf,gse=Ou(),uI=hse([].push);sI.exports=function(t,e){var r=vse(t),n=0,i=[],a;for(a in r)!A_(gse,a)&&A_(r,a)&&uI(i,a);for(;e.length>n;)A_(r,a=e[n++])&&(~yse(i,a)||uI(i,a));return i}});var Jp=h(function(Mpt,lI){lI.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var vi=h(function(cI){var mse=I_(),bse=Jp(),_se=bse.concat("length","prototype");cI.f=Object.getOwnPropertyNames||function(e){return mse(e,_se)}});var Qp=h(function(fI){fI.f=Object.getOwnPropertySymbols});var Zp=h(function(Lpt,pI){var wse=xe(),Sse=ae(),Ose=vi(),Pse=Qp(),qse=W(),Rse=Sse([].concat);pI.exports=wse("Reflect","ownKeys")||function(e){var r=Ose.f(qse(e)),n=Pse.f;return n?Rse(r,n(e)):r}});var ed=h(function(zpt,dI){var Ese=Le(),Tse=Zp(),Ase=Ct(),Ise=Ne();dI.exports=function(t,e){for(var r=Tse(e),n=Ise.f,i=Ase.f,a=0;a<r.length;a++){var o=r[a];Ese(t,o)||n(t,o,i(e,o))}}});var Pu=h(function($pt,hI){var kse=oe(),xse=Ee(),Fse=/#|\.prototype\./,Nl=function(e,r){var n=Dse[Cse(e)];return n==jse?!0:n==Use?!1:xse(r)?kse(r):!!r},Cse=Nl.normalize=function(t){return String(t).replace(Fse,".").toLowerCase()},Dse=Nl.data={},Use=Nl.NATIVE="N",jse=Nl.POLYFILL="P";hI.exports=Nl});var P=h(function(Hpt,vI){function Bl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bl=function(r){return typeof r}:Bl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bl(t)}var k_=z(),Mse=Ct().f,Nse=Et(),Bse=st(),Lse=Kp(),zse=ed(),$se=Pu();vI.exports=function(t,e){var r=t.target,n=t.global,i=t.stat,a,o,u,s,l,c;if(n?o=k_:i?o=k_[r]||Lse(r,{}):o=(k_[r]||{}).prototype,o)for(u in e){if(l=e[u],t.noTargetGet?(c=Mse(o,u),s=c&&c.value):s=o[u],a=$se(n?u:r+(i?".":"#")+u,t.forced),!a&&s!==void 0){if(Bl(l)==Bl(s))continue;zse(l,s)}(t.sham||s&&s.sham)&&Nse(l,"sham",!0),Bse(o,u,l,t)}}});var Ke=h(function(Vpt,mI){function td(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?td=function(r){return typeof r}:td=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},td(t)}var x_=Function.prototype,yI=x_.apply,Hse=x_.bind,gI=x_.call;mI.exports=(typeof Reflect=="undefined"?"undefined":td(Reflect))=="object"&&Reflect.apply||(Hse?gI.bind(yI):function(){return gI.apply(yI,arguments)})});var uo=h(function(Wpt,bI){var Vse=lr();bI.exports=Array.isArray||function(e){return Vse(e)=="Array"}});var rd=h(function(Gpt,wI){var Wse=be(),Gse=Wse("toStringTag"),_I={};_I[Gse]="z";wI.exports=String(_I)==="[object z]"});var aa=h(function(Kpt,SI){var Kse=z(),Yse=rd(),Xse=Ee(),nd=lr(),Jse=be(),Qse=Jse("toStringTag"),Zse=Kse.Object,ele=nd(function(){return arguments}())=="Arguments",tle=function(e,r){try{return e[r]}catch(n){}};SI.exports=Yse?nd:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=tle(e=Zse(t),Qse))=="string"?r:ele?nd(e):(n=nd(e))=="Object"&&Xse(e.callee)?"Arguments":n}});var Be=h(function(Ypt,OI){var rle=z(),nle=aa(),ile=rle.String;OI.exports=function(t){if(nle(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return ile(t)}});var so=h(function(Xpt,PI){var ale=I_(),ole=Jp();PI.exports=Object.keys||function(e){return ale(e,ole)}});var id=h(function(Jpt,qI){var ule=Re(),sle=Ne(),lle=W(),cle=Jt(),fle=so();qI.exports=ule?Object.defineProperties:function(e,r){lle(e);for(var n=cle(r),i=fle(r),a=i.length,o=0,u;a>o;)sle.f(e,u=i[o++],n[u]);return e}});var F_=h(function(Qpt,RI){var ple=xe();RI.exports=ple("document","documentElement")});var Dt=h(function(Zpt,FI){var dle=W(),hle=id(),EI=Jp(),vle=Ou(),yle=F_(),gle=Cl(),mle=Ul(),TI=">",AI="<",C_="prototype",D_="script",II=mle("IE_PROTO"),U_=function(){},kI=function(e){return AI+D_+TI+e+AI+"/"+D_+TI},xI=function(e){e.write(kI("")),e.close();var r=e.parentWindow.Object;return e=null,r},ble=function(){var e=gle("iframe"),r="java"+D_+":",n;return e.style.display="none",yle.appendChild(e),e.src=String(r),n=e.contentWindow.document,n.open(),n.write(kI("document.F=Object")),n.close(),n.F},ad,od=function(){try{ad=new ActiveXObject("htmlfile")}catch(r){}od=typeof document!="undefined"?document.domain&&ad?xI(ad):ble():xI(ad);for(var e=EI.length;e--;)delete od[C_][EI[e]];return od()};vle[II]=!0;FI.exports=Object.create||function(e,r){var n;return e!==null?(U_[C_]=dle(e),n=new U_,U_[C_]=null,n[II]=e):n=od(),r===void 0?n:hle(n,r)}});var yi=h(function(edt,CI){"use strict";var _le=di(),wle=Ne(),Sle=ln();CI.exports=function(t,e,r){var n=_le(e);n in t?wle.f(t,n,Sle(0,r)):t[n]=r}});var lo=h(function(tdt,UI){var Ole=z(),DI=hi(),Ple=Ge(),qle=yi(),Rle=Ole.Array,Ele=Math.max;UI.exports=function(t,e,r){for(var n=Ple(t),i=DI(e,n),a=DI(r===void 0?n:r,n),o=Rle(Ele(a-i,0)),u=0;i<a;i++,u++)qle(o,u,t[i]);return o.length=u,o}});var sd=h(function(rdt,NI){function ud(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ud=function(r){return typeof r}:ud=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ud(t)}var Tle=lr(),Ale=Jt(),jI=vi().f,Ile=lo(),MI=(typeof window=="undefined"?"undefined":ud(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],kle=function(e){try{return jI(e)}catch(r){return Ile(MI)}};NI.exports.f=function(e){return MI&&Tle(e)=="Window"?kle(e):jI(Ale(e))}});var oa=h(function(ndt,BI){var xle=ae();BI.exports=xle([].slice)});var j_=h(function(LI){var Fle=be();LI.f=Fle});var $I=h(function(adt,zI){var Cle=z();zI.exports=Cle});var at=h(function(odt,VI){var HI=$I(),Dle=Le(),Ule=j_(),jle=Ne().f;VI.exports=function(t){var e=HI.Symbol||(HI.Symbol={});Dle(e,t)||jle(e,t,{value:Ule.f(t)})}});var Dr=h(function(udt,GI){var Mle=Ne().f,Nle=Le(),Ble=be(),WI=Ble("toStringTag");GI.exports=function(t,e,r){t&&!Nle(t=r?t:t.prototype,WI)&&Mle(t,WI,{configurable:!0,value:e})}});var Ye=h(function(sdt,XI){var KI=ae(),Lle=de(),YI=KI(KI.bind);XI.exports=function(t,e){return Lle(t),e===void 0?t:YI?YI(t,e):function(){return t.apply(e,arguments)}}});var co=h(function(ldt,ek){var zle=ae(),$le=oe(),JI=Ee(),Hle=aa(),Vle=xe(),Wle=Dl(),QI=function(){},Gle=[],ZI=Vle("Reflect","construct"),M_=/^\s*(?:class|function)\b/,Kle=zle(M_.exec),Yle=!M_.exec(QI),Ll=function(e){if(!JI(e))return!1;try{return ZI(QI,Gle,e),!0}catch(r){return!1}},Xle=function(e){if(!JI(e))return!1;switch(Hle(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Yle||!!Kle(M_,Wle(e))};ek.exports=!ZI||$le(function(){var t;return Ll(Ll.call)||!Ll(Object)||!Ll(function(){t=!0})||t})?Xle:Ll});var ik=h(function(cdt,nk){var Jle=z(),tk=uo(),Qle=co(),Zle=we(),ece=be(),tce=ece("species"),rk=Jle.Array;nk.exports=function(t){var e;return tk(t)&&(e=t.constructor,Qle(e)&&(e===rk||tk(e.prototype))?e=void 0:Zle(e)&&(e=e[tce],e===null&&(e=void 0))),e===void 0?rk:e}});var fo=h(function(fdt,ak){var rce=ik();ak.exports=function(t,e){return new(rce(t))(e===0?0:e)}});var Tt=h(function(pdt,uk){var nce=Ye(),ice=ae(),ace=no(),oce=Fe(),uce=Ge(),sce=fo(),ok=ice([].push),ua=function(e){var r=e==1,n=e==2,i=e==3,a=e==4,o=e==6,u=e==7,s=e==5||o;return function(l,c,f,p){for(var d=oce(l),v=ace(d),g=nce(c,f),m=uce(v),_=0,O=p||sce,E=r?O(l,m):n||u?O(l,0):void 0,F,j;m>_;_++)if((s||_ in v)&&(F=v[_],j=g(F,_,d),e))if(r)E[_]=j;else if(j)switch(e){case 3:return!0;case 5:return F;case 6:return _;case 2:ok(E,F)}else switch(e){case 4:return!1;case 7:ok(E,F)}return o?-1:i||a?a:E}};uk.exports={forEach:ua(0),map:ua(1),filter:ua(2),some:ua(3),every:ua(4),find:ua(5),findIndex:ua(6),filterReject:ua(7)}});var qu,N_,lce,cce,zl,fce,pce,Ru,po,B_,dt,dce,hce,vce,yce,L_,z_,gce,ld,$_,sk,H_,$l,lk,mce,ck,V_,fk,pk,dk,bce,cd,Hl,_ce,hk,vk,yk,wce,Sce,Oce,gk,fd,cr,pd,Vl,mk,Pce,bk,Ur,gi,sa,_k,W_,Wl,wk,la,Sk,qce,Ok,mi,Gl,G_,K_,Rce,Y_,X_,J_,dd,Pk,Ece,Q_,qk,Rk,Z_,Ek,Tk,Ak=S(function(){"use strict";qu=P(),N_=z(),lce=xe(),cce=Ke(),zl=le(),fce=ae(),pce=he(),Ru=Re(),po=Vp(),B_=oe(),dt=Le(),dce=uo(),hce=Ee(),vce=we(),yce=Qt(),L_=mu(),z_=W(),gce=Fe(),ld=Jt(),$_=di(),sk=Be(),H_=ln(),$l=Dt(),lk=so(),mce=vi(),ck=sd(),V_=Qp(),fk=Ct(),pk=Ne(),dk=xl(),bce=oa(),cd=st(),Hl=_u(),_ce=Ul(),hk=Ou(),vk=wu(),yk=be(),wce=j_(),Sce=at(),Oce=Dr(),gk=We(),fd=Tt().forEach,cr=_ce("hidden"),pd="Symbol",Vl="prototype",mk=yk("toPrimitive"),Pce=gk.set,bk=gk.getterFor(pd),Ur=Object[Vl],gi=N_.Symbol,sa=gi&&gi[Vl],_k=N_.TypeError,W_=N_.QObject,Wl=lce("JSON","stringify"),wk=fk.f,la=pk.f,Sk=ck.f,qce=dk.f,Ok=fce([].push),mi=Hl("symbols"),Gl=Hl("op-symbols"),G_=Hl("string-to-symbol-registry"),K_=Hl("symbol-to-string-registry"),Rce=Hl("wks"),Y_=!W_||!W_[Vl]||!W_[Vl].findChild,X_=Ru&&B_(function(){return $l(la({},"a",{get:function(){return la(this,"a",{value:7}).a}})).a!=7})?function(t,e,r){var n=wk(Ur,e);n&&delete Ur[e],la(t,e,r),n&&t!==Ur&&la(Ur,e,n)}:la,J_=function(e,r){var n=mi[e]=$l(sa);return Pce(n,{type:pd,tag:e,description:r}),Ru||(n.description=r),n},dd=function(e,r,n){e===Ur&&dd(Gl,r,n),z_(e);var i=$_(r);return z_(n),dt(mi,i)?(n.enumerable?(dt(e,cr)&&e[cr][i]&&(e[cr][i]=!1),n=$l(n,{enumerable:H_(0,!1)})):(dt(e,cr)||la(e,cr,H_(1,{})),e[cr][i]=!0),X_(e,i,n)):la(e,i,n)},Pk=function(e,r){z_(e);var n=ld(r),i=lk(n).concat(Z_(n));return fd(i,function(a){(!Ru||zl(Q_,n,a))&&dd(e,a,n[a])}),e},Ece=function(e,r){return r===void 0?$l(e):Pk($l(e),r)},Q_=function(e){var r=$_(e),n=zl(qce,this,r);return this===Ur&&dt(mi,r)&&!dt(Gl,r)?!1:n||!dt(this,r)||!dt(mi,r)||dt(this,cr)&&this[cr][r]?n:!0},qk=function(e,r){var n=ld(e),i=$_(r);if(!(n===Ur&&dt(mi,i)&&!dt(Gl,i))){var a=wk(n,i);return a&&dt(mi,i)&&!(dt(n,cr)&&n[cr][i])&&(a.enumerable=!0),a}},Rk=function(e){var r=Sk(ld(e)),n=[];return fd(r,function(i){!dt(mi,i)&&!dt(hk,i)&&Ok(n,i)}),n},Z_=function(e){var r=e===Ur,n=Sk(r?Gl:ld(e)),i=[];return fd(n,function(a){dt(mi,a)&&(!r||dt(Ur,a))&&Ok(i,mi[a])}),i};po||(gi=function(){if(yce(sa,this))throw _k("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:sk(arguments[0]),r=vk(e),n=function i(a){this===Ur&&zl(i,Gl,a),dt(this,cr)&&dt(this[cr],r)&&(this[cr][r]=!1),X_(this,r,H_(1,a))};return Ru&&Y_&&X_(Ur,r,{configurable:!0,set:n}),J_(r,e)},sa=gi[Vl],cd(sa,"toString",function(){return bk(this).tag}),cd(gi,"withoutSetter",function(t){return J_(vk(t),t)}),dk.f=Q_,pk.f=dd,fk.f=qk,mce.f=ck.f=Rk,V_.f=Z_,wce.f=function(t){return J_(yk(t),t)},Ru&&(la(sa,"description",{configurable:!0,get:function(){return bk(this).description}}),pce||cd(Ur,"propertyIsEnumerable",Q_,{unsafe:!0})));qu({global:!0,wrap:!0,forced:!po,sham:!po},{Symbol:gi});fd(lk(Rce),function(t){Sce(t)});qu({target:pd,stat:!0,forced:!po},{for:function(e){var r=sk(e);if(dt(G_,r))return G_[r];var n=gi(r);return G_[r]=n,K_[n]=r,n},keyFor:function(e){if(!L_(e))throw _k(e+" is not a symbol");if(dt(K_,e))return K_[e]},useSetter:function(){Y_=!0},useSimple:function(){Y_=!1}});qu({target:"Object",stat:!0,forced:!po,sham:!Ru},{create:Ece,defineProperty:dd,defineProperties:Pk,getOwnPropertyDescriptor:qk});qu({target:"Object",stat:!0,forced:!po},{getOwnPropertyNames:Rk,getOwnPropertySymbols:Z_});qu({target:"Object",stat:!0,forced:B_(function(){V_.f(1)})},{getOwnPropertySymbols:function(e){return V_.f(gce(e))}});Wl&&(Ek=!po||B_(function(){var t=gi();return Wl([t])!="[null]"||Wl({a:t})!="{}"||Wl(Object(t))!="{}"}),qu({target:"JSON",stat:!0,forced:Ek},{stringify:function(e,r,n){var i=bce(arguments),a=r;if(!(!vce(r)&&e===void 0||L_(e)))return dce(r)||(r=function(u,s){if(hce(a)&&(s=zl(a,this,u,s)),!L_(s))return s}),i[1]=r,cce(Wl,null,i)}}));sa[mk]||(Tk=sa.valueOf,cd(sa,mk,function(t){return zl(Tk,this)}));Oce(gi,pd);hk[cr]=!0});var Tce,Ace,Ice,hd,kce,xce,Fce,Cce,Dce,Uce,bi,ho,ew,Kl,Ik,kk,xk,Fk,Ck,Dk,Uk=S(function(){"use strict";Tce=P(),Ace=Re(),Ice=z(),hd=ae(),kce=Le(),xce=Ee(),Fce=Qt(),Cce=Be(),Dce=Ne().f,Uce=ed(),bi=Ice.Symbol,ho=bi&&bi.prototype;Ace&&xce(bi)&&(!("description"in ho)||bi().description!==void 0)&&(ew={},Kl=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:Cce(arguments[0]),r=Fce(ho,this)?new bi(e):e===void 0?bi():bi(e);return e===""&&(ew[r]=!0),r},Uce(Kl,bi),Kl.prototype=ho,ho.constructor=Kl,Ik=String(bi("test"))=="Symbol(test)",kk=hd(ho.toString),xk=hd(ho.valueOf),Fk=/^Symbol\((.*)\)[^)]+$/,Ck=hd("".replace),Dk=hd("".slice),Dce(ho,"description",{configurable:!0,get:function(){var e=xk(this),r=kk(e);if(kce(ew,e))return"";var n=Ik?Dk(r,7,-1):Ck(r,Fk,"$1");return n===""?void 0:n}}),Tce({global:!0,forced:!0},{Symbol:Kl}))});var jce,jk=S(function(){jce=at();jce("asyncIterator")});var Mce,Mk=S(function(){Mce=at();Mce("hasInstance")});var Nce,Nk=S(function(){Nce=at();Nce("isConcatSpreadable")});var Bce,Bk=S(function(){Bce=at();Bce("iterator")});var Lce,Lk=S(function(){Lce=at();Lce("match")});var zce,zk=S(function(){zce=at();zce("matchAll")});var $ce,$k=S(function(){$ce=at();$ce("replace")});var Hce,Hk=S(function(){Hce=at();Hce("search")});var Vce,Vk=S(function(){Vce=at();Vce("species")});var Wce,Wk=S(function(){Wce=at();Wce("split")});var Gce,Gk=S(function(){Gce=at();Gce("toPrimitive")});var Kce,Kk=S(function(){Kce=at();Kce("toStringTag")});var Yce,Yk=S(function(){Yce=at();Yce("unscopables")});var vd=h(function(ddt,Xk){var Xce=oe();Xk.exports=!Xce(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var Ut=h(function(hdt,Qk){var Jce=z(),Qce=Le(),Zce=Ee(),efe=Fe(),tfe=Ul(),rfe=vd(),Jk=tfe("IE_PROTO"),tw=Jce.Object,nfe=tw.prototype;Qk.exports=rfe?tw.getPrototypeOf:function(t){var e=efe(t);if(Qce(e,Jk))return e[Jk];var r=e.constructor;return Zce(r)&&e instanceof r?r.prototype:e instanceof tw?nfe:null}});var rw=h(function(vdt,ex){function yd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yd=function(r){return typeof r}:yd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yd(t)}var Zk=z(),ife=Ee(),afe=Zk.String,ofe=Zk.TypeError;ex.exports=function(t){if(yd(t)=="object"||ife(t))return t;throw ofe("Can't set "+afe(t)+" as a prototype")}});var _i=h(function(ydt,tx){var ufe=ae(),sfe=W(),lfe=rw();tx.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=ufe(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch(n){}return function(i,a){return sfe(i),lfe(a),t?r(i,a):i.__proto__=a,i}}():void 0)});var ix=h(function(gdt,nx){var nw=ae(),cfe=lo(),ffe=nw("".replace),pfe=nw("".split),dfe=nw([].join),iw=function(t){return String(Error(t).stack)}("zxcasd"),rx=/\n\s*at [^:]*:[^\n]*/,hfe=rx.test(iw),vfe=/@[^\n]*\n/.test(iw)&&!/zxcasd/.test(iw);nx.exports=function(t,e){if(typeof t!="string")return t;if(hfe)for(;e--;)t=ffe(t,rx,"");else if(vfe)return dfe(cfe(pfe(t,"\n"),e),"\n");return t}});var ox=h(function(mdt,ax){var yfe=we(),gfe=Et();ax.exports=function(t,e){yfe(e)&&"cause"in e&&gfe(t,"cause",e.cause)}});var Eu=h(function(bdt,ux){ux.exports={}});var gd=h(function(_dt,sx){var mfe=be(),bfe=Eu(),_fe=mfe("iterator"),wfe=Array.prototype;sx.exports=function(t){return t!==void 0&&(bfe.Array===t||wfe[_fe]===t)}});var wi=h(function(wdt,cx){var Sfe=aa(),lx=Ft(),Ofe=Eu(),Pfe=be(),qfe=Pfe("iterator");cx.exports=function(t){if(t!=null)return lx(t,qfe)||lx(t,"@@iterator")||Ofe[Sfe(t)]}});var fn=h(function(Sdt,fx){var Rfe=z(),Efe=le(),Tfe=de(),Afe=W(),Ife=bu(),kfe=wi(),xfe=Rfe.TypeError;fx.exports=function(t,e){var r=arguments.length<2?kfe(t):e;if(Tfe(r))return Afe(Efe(r,t));throw xfe(Ife(t)+" is not iterable")}});var Yl=h(function(Odt,dx){var Ffe=le(),px=W(),Cfe=Ft();dx.exports=function(t,e,r){var n,i;px(t);try{if(n=Cfe(t,"return"),!n){if(e==="throw")throw r;return r}n=Ffe(n,t)}catch(a){i=!0,n=a}if(e==="throw")throw r;if(i)throw n;return px(n),r}});var ge=h(function(Pdt,gx){function md(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?md=function(r){return typeof r}:md=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},md(t)}var Dfe=z(),Ufe=Ye(),jfe=le(),Mfe=W(),Nfe=bu(),Bfe=gd(),Lfe=Ge(),hx=Qt(),zfe=fn(),$fe=wi(),vx=Yl(),Hfe=Dfe.TypeError,bd=function(e,r){this.stopped=e,this.result=r},yx=bd.prototype;gx.exports=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),u=Ufe(e,n),s,l,c,f,p,d,v,g=function(O){return s&&vx(s,"normal",O),new bd(!0,O)},m=function(O){return i?(Mfe(O),o?u(O[0],O[1],g):u(O[0],O[1])):o?u(O,g):u(O)};if(a)s=t;else{if(l=$fe(t),!l)throw Hfe(Nfe(t)+" is not iterable");if(Bfe(l)){for(c=0,f=Lfe(t);f>c;c++)if(p=m(t[c]),p&&hx(yx,p))return p;return new bd(!1)}s=zfe(t,l)}for(d=s.next;!(v=jfe(d,s)).done;){try{p=m(v.value)}catch(_){vx(s,"throw",_)}if(md(p)=="object"&&p&&hx(yx,p))return p}return new bd(!1)}});var bx=h(function(qdt,mx){var Vfe=Be();mx.exports=function(t,e){return t===void 0?arguments.length<2?"":e:Vfe(t)}});var wx=h(function(Rdt,_x){var Wfe=oe(),Gfe=ln();_x.exports=!Wfe(function(){var t=Error("a");return"stack"in t?(Object.defineProperty(t,"stack",Gfe(1,7)),t.stack!==7):!0})});var uw=h(function(){"use strict";var Kfe=P(),Yfe=z(),Xfe=Qt(),Jfe=Ut(),_d=_i(),Qfe=ed(),Sx=Dt(),wd=Et(),aw=ln(),Zfe=ix(),epe=ox(),tpe=ge(),rpe=bx(),npe=be(),ipe=wx(),ape=npe("toStringTag"),Sd=Yfe.Error,ope=[].push,Xl=function(e,r){var n=arguments.length>2?arguments[2]:void 0,i=Xfe(ow,this),a;_d?a=_d(new Sd(void 0),i?Jfe(this):ow):(a=i?this:Sx(ow),wd(a,ape,"Error")),wd(a,"message",rpe(r,"")),ipe&&wd(a,"stack",Zfe(a.stack,1)),epe(a,n);var o=[];return tpe(e,ope,{that:o}),wd(a,"errors",o),a};_d?_d(Xl,Sd):Qfe(Xl,Sd);var ow=Xl.prototype=Sx(Sd.prototype,{constructor:aw(1,Xl),message:aw(1,""),name:aw(1,"AggregateError")});Kfe({global:!0},{AggregateError:Xl})});var Tu=h(function(Adt,Ox){var upe=oe(),spe=be(),lpe=io(),cpe=spe("species");Ox.exports=function(t){return lpe>=51||!upe(function(){var e=[],r=e.constructor={};return r[cpe]=function(){return{foo:1}},e[t](Boolean).foo!==1})}});var fpe,ppe,dpe,hpe,vpe,ype,gpe,Px,mpe,bpe,_pe,wpe,qx,Rx,Ex,Tx,Spe,Ope,Ppe,qpe,Ax=S(function(){"use strict";fpe=P(),ppe=z(),dpe=oe(),hpe=uo(),vpe=we(),ype=Fe(),gpe=Ge(),Px=yi(),mpe=fo(),bpe=Tu(),_pe=be(),wpe=io(),qx=_pe("isConcatSpreadable"),Rx=9007199254740991,Ex="Maximum allowed index exceeded",Tx=ppe.TypeError,Spe=wpe>=51||!dpe(function(){var t=[];return t[qx]=!1,t.concat()[0]!==t}),Ope=bpe("concat"),Ppe=function(e){if(!vpe(e))return!1;var r=e[qx];return r!==void 0?!!r:hpe(e)},qpe=!Spe||!Ope;fpe({target:"Array",proto:!0,forced:qpe},{concat:function(e){var r=ype(this),n=mpe(r,0),i=0,a,o,u,s,l;for(a=-1,u=arguments.length;a<u;a++)if(l=a===-1?r:arguments[a],Ppe(l)){if(s=gpe(l),i+s>Rx)throw Tx(Ex);for(o=0;o<s;o++,i++)o in l&&Px(n,i,l[o])}else{if(i>=Rx)throw Tx(Ex);Px(n,i++,l)}return n.length=i,n}})});var lw=h(function(Idt,Ix){"use strict";var Rpe=Fe(),sw=hi(),Epe=Ge(),Tpe=Math.min;Ix.exports=[].copyWithin||function(e,r){var n=Rpe(this),i=Epe(n),a=sw(e,i),o=sw(r,i),u=arguments.length>2?arguments[2]:void 0,s=Tpe((u===void 0?i:sw(u,i))-o,i-a),l=1;for(o<a&&a<o+s&&(l=-1,o+=s-1,a+=s-1);s-- >0;)o in n?n[a]=n[o]:delete n[a],a+=l,o+=l;return n}});var Wt=h(function(kdt,kx){var Ape=be(),Ipe=Dt(),kpe=Ne(),cw=Ape("unscopables"),fw=Array.prototype;fw[cw]==null&&kpe.f(fw,cw,{configurable:!0,value:Ipe(null)});kx.exports=function(t){fw[cw][t]=!0}});var xpe,Fpe,Cpe,xx=S(function(){xpe=P(),Fpe=lw(),Cpe=Wt();xpe({target:"Array",proto:!0},{copyWithin:Fpe});Cpe("copyWithin")});var Od=h(function(xdt,Cx){"use strict";var Dpe=Fe(),Fx=hi(),Upe=Ge();Cx.exports=function(e){for(var r=Dpe(this),n=Upe(r),i=arguments.length,a=Fx(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,u=o===void 0?n:Fx(o,n);u>a;)r[a++]=e;return r}});var jpe,Mpe,Npe,Dx=S(function(){jpe=P(),Mpe=Od(),Npe=Wt();jpe({target:"Array",proto:!0},{fill:Mpe});Npe("fill")});var Bpe,Lpe,zpe,$pe,Ux=S(function(){"use strict";Bpe=P(),Lpe=Tt().filter,zpe=Tu(),$pe=zpe("filter");Bpe({target:"Array",proto:!0,forced:!$pe},{filter:function(e){return Lpe(this,e,arguments.length>1?arguments[1]:void 0)}})});var Hpe,Vpe,Wpe,pw,jx,Mx=S(function(){"use strict";Hpe=P(),Vpe=Tt().find,Wpe=Wt(),pw="find",jx=!0;pw in[]&&Array(1)[pw](function(){jx=!1});Hpe({target:"Array",proto:!0,forced:jx},{find:function(e){return Vpe(this,e,arguments.length>1?arguments[1]:void 0)}});Wpe(pw)});var Gpe,Kpe,Ype,dw,Nx,Bx=S(function(){"use strict";Gpe=P(),Kpe=Tt().findIndex,Ype=Wt(),dw="findIndex",Nx=!0;dw in[]&&Array(1)[dw](function(){Nx=!1});Gpe({target:"Array",proto:!0,forced:Nx},{findIndex:function(e){return Kpe(this,e,arguments.length>1?arguments[1]:void 0)}});Ype(dw)});var hw=h(function(Fdt,Lx){"use strict";var Xpe=z(),Jpe=uo(),Qpe=Ge(),Zpe=Ye(),ede=Xpe.TypeError,tde=function t(e,r,n,i,a,o,u,s){for(var l=a,c=0,f=u?Zpe(u,s):!1,p,d;c<i;){if(c in n){if(p=f?f(n[c],c,r):n[c],o>0&&Jpe(p))d=Qpe(p),l=t(e,r,p,d,l,o-1)-1;else{if(l>=9007199254740991)throw ede("Exceed the acceptable array length");e[l]=p}l++}c++}return l};Lx.exports=tde});var rde,nde,ide,ade,ode,ude,zx=S(function(){"use strict";rde=P(),nde=hw(),ide=Fe(),ade=Ge(),ode=Vt(),ude=fo();rde({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,r=ide(this),n=ade(r),i=ude(r,0);return i.length=nde(i,r,r,n,0,e===void 0?1:ode(e)),i}})});var sde,lde,cde,fde,pde,dde,$x=S(function(){"use strict";sde=P(),lde=hw(),cde=de(),fde=Fe(),pde=Ge(),dde=fo();sde({target:"Array",proto:!0},{flatMap:function(e){var r=fde(this),n=pde(r),i;return cde(e),i=dde(r,0),i.length=lde(i,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),i}})});var Pd=h(function(Cdt,Hx){var hde=W(),vde=Yl();Hx.exports=function(t,e,r,n){try{return n?e(hde(r)[0],r[1]):e(r)}catch(i){vde(t,"throw",i)}}});var vw=h(function(Ddt,Gx){"use strict";var yde=z(),gde=Ye(),mde=le(),bde=Fe(),_de=Pd(),wde=gd(),Sde=co(),Ode=Ge(),Vx=yi(),Pde=fn(),qde=wi(),Wx=yde.Array;Gx.exports=function(e){var r=bde(e),n=Sde(this),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0;o&&(a=gde(a,i>2?arguments[2]:void 0));var u=qde(r),s=0,l,c,f,p,d,v;if(u&&!(this==Wx&&wde(u)))for(p=Pde(r,u),d=p.next,c=n?new this:[];!(f=mde(d,p)).done;s++)v=o?_de(p,a,[f.value,s],!0):f.value,Vx(c,s,v);else for(l=Ode(r),c=n?new this(l):Wx(l);l>s;s++)v=o?a(r[s],s):r[s],Vx(c,s,v);return c.length=s,c}});var Jl=h(function(Udt,Jx){var Rde=be(),Kx=Rde("iterator"),Yx=!1;try{Xx=0,yw={next:function(){return{done:!!Xx++}},return:function(){Yx=!0}},yw[Kx]=function(){return this},Array.from(yw,function(){throw 2})}catch(t){}var Xx,yw;Jx.exports=function(t,e){if(!e&&!Yx)return!1;var r=!1;try{var n={};n[Kx]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(i){}return r}});var Ede,Tde,Ade,Ide,Qx=S(function(){Ede=P(),Tde=vw(),Ade=Jl(),Ide=!Ade(function(t){Array.from(t)});Ede({target:"Array",stat:!0,forced:Ide},{from:Tde})});var kde,xde,Fde,Zx=S(function(){"use strict";kde=P(),xde=Ml().includes,Fde=Wt();kde({target:"Array",proto:!0},{includes:function(e){return xde(this,e,arguments.length>1?arguments[1]:void 0)}});Fde("includes")});var Au=h(function(jdt,rF){"use strict";var Cde=oe(),Dde=Ee(),Ude=Dt(),eF=Ut(),jde=st(),Mde=be(),Nde=he(),gw=Mde("iterator"),tF=!1,Si,mw,bw;[].keys&&(bw=[].keys(),"next"in bw?(mw=eF(eF(bw)),mw!==Object.prototype&&(Si=mw)):tF=!0);var Bde=Si==null||Cde(function(){var t={};return Si[gw].call(t)!==t});Bde?Si={}:Nde&&(Si=Ude(Si));Dde(Si[gw])||jde(Si,gw,function(){return this});rF.exports={IteratorPrototype:Si,BUGGY_SAFARI_ITERATORS:tF}});var ca=h(function(Mdt,nF){"use strict";var Lde=Au().IteratorPrototype,zde=Dt(),$de=ln(),Hde=Dr(),Vde=Eu(),Wde=function(){return this};nF.exports=function(t,e,r,n){var i=e+" Iterator";return t.prototype=zde(Lde,{next:$de(+!n,r)}),Hde(t,i,!1,!0),Vde[i]=Wde,t}});var Ed=h(function(Ndt,dF){"use strict";var Gde=P(),Kde=le(),qd=he(),iF=ia(),Yde=Ee(),Xde=ca(),aF=Ut(),oF=_i(),Jde=Dr(),Qde=Et(),_w=st(),Zde=be(),uF=Eu(),sF=Au(),ehe=iF.PROPER,the=iF.CONFIGURABLE,lF=sF.IteratorPrototype,Rd=sF.BUGGY_SAFARI_ITERATORS,Ql=Zde("iterator"),cF="keys",Zl="values",fF="entries",pF=function(){return this};dF.exports=function(t,e,r,n,i,a,o){Xde(r,e,n);var u=function(O){if(O===i&&p)return p;if(!Rd&&O in c)return c[O];switch(O){case cF:return function(){return new r(this,O)};case Zl:return function(){return new r(this,O)};case fF:return function(){return new r(this,O)}}return function(){return new r(this)}},s=e+" Iterator",l=!1,c=t.prototype,f=c[Ql]||c["@@iterator"]||i&&c[i],p=!Rd&&f||u(i),d=e=="Array"&&c.entries||f,v,g,m;if(d&&(v=aF(d.call(new t)),v!==Object.prototype&&v.next&&(!qd&&aF(v)!==lF&&(oF?oF(v,lF):Yde(v[Ql])||_w(v,Ql,pF)),Jde(v,s,!0,!0),qd&&(uF[s]=pF))),ehe&&i==Zl&&f&&f.name!==Zl&&(!qd&&the?Qde(c,"name",Zl):(l=!0,p=function(){return Kde(f,this)})),i)if(g={values:u(Zl),keys:a?p:u(cF),entries:u(fF)},o)for(m in g)(Rd||l||!(m in c))&&_w(c,m,g[m]);else Gde({target:e,proto:!0,forced:Rd||l},g);return(!qd||o)&&c[Ql]!==p&&_w(c,Ql,p,{name:i}),uF[e]=p,g}});var ec=h(function(Bdt,gF){"use strict";var rhe=Jt(),ww=Wt(),hF=Eu(),vF=We(),nhe=Ed(),yF="Array Iterator",ihe=vF.set,ahe=vF.getterFor(yF);gF.exports=nhe(Array,"Array",function(t,e){ihe(this,{type:yF,target:rhe(t),index:0,kind:e})},function(){var t=ahe(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");hF.Arguments=hF.Array;ww("keys");ww("values");ww("entries")});var tc=h(function(Ldt,mF){"use strict";var ohe=oe();mF.exports=function(t,e){var r=[][t];return!!r&&ohe(function(){r.call(null,e||function(){throw 1},1)})}});var uhe,she,lhe,che,fhe,phe,dhe,hhe,bF=S(function(){"use strict";uhe=P(),she=ae(),lhe=no(),che=Jt(),fhe=tc(),phe=she([].join),dhe=lhe!=Object,hhe=fhe("join",",");uhe({target:"Array",proto:!0,forced:dhe||!hhe},{join:function(e){return phe(che(this),e===void 0?",":e)}})});var vhe,yhe,ghe,mhe,_F=S(function(){"use strict";vhe=P(),yhe=Tt().map,ghe=Tu(),mhe=ghe("map");vhe({target:"Array",proto:!0,forced:!mhe},{map:function(e){return yhe(this,e,arguments.length>1?arguments[1]:void 0)}})});var bhe,_he,whe,She,Ohe,wF,Phe,SF=S(function(){"use strict";bhe=P(),_he=z(),whe=oe(),She=co(),Ohe=yi(),wF=_he.Array,Phe=whe(function(){function t(){}return!(wF.of.call(t)instanceof t)});bhe({target:"Array",stat:!0,forced:Phe},{of:function(){for(var e=0,r=arguments.length,n=new(She(this)?this:wF)(r);r>e;)Ohe(n,e,arguments[e++]);return n.length=r,n}})});var qhe,Rhe,OF,Ehe,The,PF,Ahe,Ihe,khe,xhe,Fhe,Che,Dhe,Uhe,Sw,jhe,qF=S(function(){"use strict";qhe=P(),Rhe=z(),OF=uo(),Ehe=co(),The=we(),PF=hi(),Ahe=Ge(),Ihe=Jt(),khe=yi(),xhe=be(),Fhe=Tu(),Che=oa(),Dhe=Fhe("slice"),Uhe=xhe("species"),Sw=Rhe.Array,jhe=Math.max;qhe({target:"Array",proto:!0,forced:!Dhe},{slice:function(e,r){var n=Ihe(this),i=Ahe(n),a=PF(e,i),o=PF(r===void 0?i:r,i),u,s,l;if(OF(n)&&(u=n.constructor,Ehe(u)&&(u===Sw||OF(u.prototype))?u=void 0:The(u)&&(u=u[Uhe],u===null&&(u=void 0)),u===Sw||u===void 0))return Che(n,a,o);for(s=new(u===void 0?Sw:u)(jhe(o-a,0)),l=0;a<o;a++,l++)a in n&&khe(s,l,n[a]);return s.length=l,s}})});var Td=h(function(zdt,EF){var RF=lo(),Mhe=Math.floor,Nhe=function t(e,r){var n=e.length,i=Mhe(n/2);return n<8?Bhe(e,r):Lhe(e,t(RF(e,0,i),r),t(RF(e,i),r),r)},Bhe=function(e,r){for(var n=e.length,i=1,a,o;i<n;){for(o=i,a=e[i];o&&r(e[o-1],a)>0;)e[o]=e[--o];o!==i++&&(e[o]=a)}return e},Lhe=function(e,r,n,i){for(var a=r.length,o=n.length,u=0,s=0;u<a||s<o;)e[u+s]=u<a&&s<o?i(r[u],n[s])<=0?r[u++]:n[s++]:u<a?r[u++]:n[s++];return e};EF.exports=Nhe});var Ow=h(function($dt,AF){var zhe=pi(),TF=zhe.match(/firefox\/(\d+)/i);AF.exports=!!TF&&+TF[1]});var Pw=h(function(Hdt,IF){var $he=pi();IF.exports=/MSIE|Trident/.test($he)});var Ad=h(function(Vdt,xF){var Hhe=pi(),kF=Hhe.match(/AppleWebKit\/(\d+)\./);xF.exports=!!kF&&+kF[1]});var Vhe,FF,Whe,Ghe,Khe,CF,qw,Yhe,Xhe,DF,Jhe,UF,jF,fa,MF,Qhe,Zhe,eve,tve,NF,rve,nve,BF=S(function(){"use strict";Vhe=P(),FF=ae(),Whe=de(),Ghe=Fe(),Khe=Ge(),CF=Be(),qw=oe(),Yhe=Td(),Xhe=tc(),DF=Ow(),Jhe=Pw(),UF=io(),jF=Ad(),fa=[],MF=FF(fa.sort),Qhe=FF(fa.push),Zhe=qw(function(){fa.sort(void 0)}),eve=qw(function(){fa.sort(null)}),tve=Xhe("sort"),NF=!qw(function(){if(UF)return UF<70;if(!(DF&&DF>3)){if(Jhe)return!0;if(jF)return jF<603;var t="",e,r,n,i;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)fa.push({k:r+i,v:n})}for(fa.sort(function(a,o){return o.v-a.v}),i=0;i<fa.length;i++)r=fa[i].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),rve=Zhe||!eve||!tve||!NF,nve=function(e){return function(r,n){return n===void 0?-1:r===void 0?1:e!==void 0?+e(r,n)||0:CF(r)>CF(n)?1:-1}};Vhe({target:"Array",proto:!0,forced:rve},{sort:function(e){e!==void 0&&Whe(e);var r=Ghe(this);if(NF)return e===void 0?MF(r):MF(r,e);var n=[],i=Khe(r),a,o;for(o=0;o<i;o++)o in r&&Qhe(n,r[o]);for(Yhe(n,nve(e)),a=n.length,o=0;o<a;)r[o]=n[o++];for(;o<i;)delete r[o++];return r}})});var pa=h(function(Wdt,zF){"use strict";var ive=xe(),ave=Ne(),ove=be(),uve=Re(),LF=ove("species");zF.exports=function(t){var e=ive(t),r=ave.f;uve&&e&&!e[LF]&&r(e,LF,{configurable:!0,get:function(){return this}})}});var sve,$F=S(function(){sve=pa();sve("Array")});var lve,cve,fve,pve,dve,hve,vve,yve,gve,mve,bve,_ve,wve,Sve,Ove,HF=S(function(){"use strict";lve=P(),cve=z(),fve=hi(),pve=Vt(),dve=Ge(),hve=Fe(),vve=fo(),yve=yi(),gve=Tu(),mve=gve("splice"),bve=cve.TypeError,_ve=Math.max,wve=Math.min,Sve=9007199254740991,Ove="Maximum allowed length exceeded";lve({target:"Array",proto:!0,forced:!mve},{splice:function(e,r){var n=hve(this),i=dve(n),a=fve(e,i),o=arguments.length,u,s,l,c,f,p;if(o===0?u=s=0:o===1?(u=0,s=i-a):(u=o-2,s=wve(_ve(pve(r),0),i-a)),i+u-s>Sve)throw bve(Ove);for(l=vve(n,s),c=0;c<s;c++)f=a+c,f in n&&yve(l,c,n[f]);if(l.length=s,u<s){for(c=a;c<i-s;c++)f=c+s,p=c+u,f in n?n[p]=n[f]:delete n[p];for(c=i;c>i-s+u;c--)delete n[c-1]}else if(u>s)for(c=i-s;c>a;c--)f=c+s-1,p=c+u-1,f in n?n[p]=n[f]:delete n[p];for(c=0;c<u;c++)n[c+a]=arguments[c+2];return n.length=i-s+u,l}})});var Pve,VF=S(function(){Pve=Wt();Pve("flat")});var qve,WF=S(function(){qve=Wt();qve("flatMap")});var Rw=h(function(Gdt,GF){GF.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var pn=h(function(Kdt,KF){var Rve=st();KF.exports=function(t,e,r){for(var n in e)Rve(t,n,e[n],r);return t}});var jr=h(function(Ydt,YF){var Eve=z(),Tve=Qt(),Ave=Eve.TypeError;YF.exports=function(t,e){if(Tve(e,t))return t;throw Ave("Incorrect invocation")}});var Ew=h(function(Xdt,XF){var Ive=z(),kve=Vt(),xve=_r(),Fve=Ive.RangeError;XF.exports=function(t){if(t===void 0)return 0;var e=kve(t),r=xve(e);if(e!==r)throw Fve("Wrong length or index");return r}});var QF=h(function(Jdt,JF){var Cve=z(),Dve=Cve.Array,Uve=Math.abs,Oi=Math.pow,jve=Math.floor,Mve=Math.log,Nve=Math.LN2,Bve=function(e,r,n){var i=Dve(n),a=n*8-r-1,o=(1<<a)-1,u=o>>1,s=r===23?Oi(2,-24)-Oi(2,-77):0,l=e<0||e===0&&1/e<0?1:0,c=0,f,p,d;for(e=Uve(e),e!=e||e===1/0?(p=e!=e?1:0,f=o):(f=jve(Mve(e)/Nve),d=Oi(2,-f),e*d<1&&(f--,d*=2),f+u>=1?e+=s/d:e+=s*Oi(2,1-u),e*d>=2&&(f++,d/=2),f+u>=o?(p=0,f=o):f+u>=1?(p=(e*d-1)*Oi(2,r),f=f+u):(p=e*Oi(2,u-1)*Oi(2,r),f=0));r>=8;)i[c++]=p&255,p/=256,r-=8;for(f=f<<r|p,a+=r;a>0;)i[c++]=f&255,f/=256,a-=8;return i[--c]|=l*128,i},Lve=function(e,r){var n=e.length,i=n*8-r-1,a=(1<<i)-1,o=a>>1,u=i-7,s=n-1,l=e[s--],c=l&127,f;for(l>>=7;u>0;)c=c*256+e[s--],u-=8;for(f=c&(1<<-u)-1,c>>=-u,u+=r;u>0;)f=f*256+e[s--],u-=8;if(c===0)c=1-o;else{if(c===a)return f?NaN:l?-1/0:1/0;f=f+Oi(2,r),c=c-o}return(l?-1:1)*f*Oi(2,c-r)};JF.exports={pack:Bve,unpack:Lve}});var Dw=h(function(Qdt,gC){"use strict";var Id=z(),Tw=ae(),Aw=Re(),zve=Rw(),ZF=ia(),eC=Et(),tC=pn(),Iw=oe(),kd=jr(),$ve=Vt(),Hve=_r(),xd=Ew(),rC=QF(),Vve=Ut(),nC=_i(),Wve=vi().f,Gve=Ne().f,Kve=Od(),Yve=lo(),iC=Dr(),aC=We(),Xve=ZF.PROPER,oC=ZF.CONFIGURABLE,Iu=aC.get,uC=aC.set,Fd="ArrayBuffer",sC="DataView",ku="prototype",Jve="Wrong length",lC="Wrong index",dn=Id[Fd],wr=dn,xu=wr&&wr[ku],Dn=Id[sC],vo=Dn&&Dn[ku],cC=Object.prototype,Qve=Id.Array,Cd=Id.RangeError,Zve=Tw(Kve),eye=Tw([].reverse),fC=rC.pack,pC=rC.unpack,dC=function(e){return[e&255]},hC=function(e){return[e&255,e>>8&255]},vC=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},yC=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},tye=function(e){return fC(e,23,4)},rye=function(e){return fC(e,52,8)},Dd=function(e,r){Gve(e[ku],r,{get:function(){return Iu(this)[r]}})},da=function(e,r,n,i){var a=xd(n),o=Iu(e);if(a+r>o.byteLength)throw Cd(lC);var u=Iu(o.buffer).bytes,s=a+o.byteOffset,l=Yve(u,s,s+r);return i?l:eye(l)},ha=function(e,r,n,i,a,o){var u=xd(n),s=Iu(e);if(u+r>s.byteLength)throw Cd(lC);for(var l=Iu(s.buffer).bytes,c=u+s.byteOffset,f=i(+a),p=0;p<r;p++)l[c+p]=f[o?p:r-p-1]};if(!zve)wr=function(e){kd(this,xu);var r=xd(e);uC(this,{bytes:Zve(Qve(r),0),byteLength:r}),Aw||(this.byteLength=r)},xu=wr[ku],Dn=function(e,r,n){kd(this,vo),kd(e,xu);var i=Iu(e).byteLength,a=$ve(r);if(a<0||a>i)throw Cd("Wrong offset");if(n=n===void 0?i-a:Hve(n),a+n>i)throw Cd(Jve);uC(this,{buffer:e,byteLength:n,byteOffset:a}),Aw||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},vo=Dn[ku],Aw&&(Dd(wr,"byteLength"),Dd(Dn,"buffer"),Dd(Dn,"byteLength"),Dd(Dn,"byteOffset")),tC(vo,{getInt8:function(e){return da(this,1,e)[0]<<24>>24},getUint8:function(e){return da(this,1,e)[0]},getInt16:function(e){var r=da(this,2,e,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(e){var r=da(this,2,e,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},getInt32:function(e){return yC(da(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return yC(da(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return pC(da(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return pC(da(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,r){ha(this,1,e,dC,r)},setUint8:function(e,r){ha(this,1,e,dC,r)},setInt16:function(e,r){ha(this,2,e,hC,r,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,r){ha(this,2,e,hC,r,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,r){ha(this,4,e,vC,r,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,r){ha(this,4,e,vC,r,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,r){ha(this,4,e,tye,r,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,r){ha(this,8,e,rye,r,arguments.length>2?arguments[2]:void 0)}});else{if(kw=Xve&&dn.name!==Fd,!Iw(function(){dn(1)})||!Iw(function(){new dn(-1)})||Iw(function(){return new dn,new dn(1.5),new dn(NaN),kw&&!oC})){for(wr=function(e){return kd(this,xu),new dn(xd(e))},wr[ku]=xu,xw=Wve(dn),Fw=0;xw.length>Fw;)(Ud=xw[Fw++])in wr||eC(wr,Ud,dn[Ud]);xu.constructor=wr}else kw&&oC&&eC(dn,"name",Fd);nC&&Vve(vo)!==cC&&nC(vo,cC),rc=new Dn(new wr(2)),Cw=Tw(vo.setInt8),rc.setInt8(0,2147483648),rc.setInt8(1,2147483649),(rc.getInt8(0)||!rc.getInt8(1))&&tC(vo,{setInt8:function(e,r){Cw(this,e,r<<24>>24)},setUint8:function(e,r){Cw(this,e,r<<24>>24)}},{unsafe:!0})}var kw,xw,Fw,Ud,rc,Cw;iC(wr,Fd);iC(Dn,sC);gC.exports={ArrayBuffer:wr,DataView:Dn}});var nye,iye,aye,oye,Uw,mC,uye,bC=S(function(){"use strict";nye=P(),iye=z(),aye=Dw(),oye=pa(),Uw="ArrayBuffer",mC=aye[Uw],uye=iye[Uw];nye({global:!0,forced:uye!==mC},{ArrayBuffer:mC});oye(Uw)});var wC=h(function(Zdt,_C){"use strict";var sye=z(),lye=W(),cye=y_(),fye=sye.TypeError;_C.exports=function(t){if(lye(this),t==="string"||t==="default")t="string";else if(t!=="number")throw fye("Incorrect hint");return cye(this,t)}});var pye,dye,hye,vye,SC,OC,PC=S(function(){pye=Le(),dye=st(),hye=wC(),vye=be(),SC=vye("toPrimitive"),OC=Date.prototype;pye(OC,SC)||dye(OC,SC,hye)});var yye,qC,gye,mye,bye,RC,EC,TC=S(function(){"use strict";yye=Ee(),qC=we(),gye=Ne(),mye=Ut(),bye=be(),RC=bye("hasInstance"),EC=Function.prototype;RC in EC||gye.f(EC,RC,{value:function(e){if(!yye(this)||!qC(e))return!1;var r=this.prototype;if(!qC(r))return e instanceof this;for(;e=mye(e);)if(r===e)return!0;return!1}})});var _ye,wye,AC,Sye,IC,Oye,kC,Pye,qye,xC=S(function(){_ye=Re(),wye=ia().EXISTS,AC=ae(),Sye=Ne().f,IC=Function.prototype,Oye=AC(IC.toString),kC=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Pye=AC(kC.exec),qye="name";_ye&&!wye&&Sye(IC,qye,{configurable:!0,get:function(){try{return Pye(kC,Oye(this))[1]}catch(e){return""}}})});var jw=h(function(){var Rye=P(),Eye=z();Rye({global:!0},{globalThis:Eye})});var Tye,Aye,Iye,kye,nc,xye,Fye,jd,Md,FC,Cye,Dye,Uye,jye,CC,DC,Mye,Nye,UC=S(function(){Tye=P(),Aye=z(),Iye=xe(),kye=Ke(),nc=ae(),xye=oe(),Fye=Aye.Array,jd=Iye("JSON","stringify"),Md=nc(/./.exec),FC=nc("".charAt),Cye=nc("".charCodeAt),Dye=nc("".replace),Uye=nc(1 .toString),jye=/[\uD800-\uDFFF]/g,CC=/^[\uD800-\uDBFF]$/,DC=/^[\uDC00-\uDFFF]$/,Mye=function(e,r,n){var i=FC(n,r-1),a=FC(n,r+1);return Md(CC,e)&&!Md(DC,a)||Md(DC,e)&&!Md(CC,i)?"\\u"+Uye(Cye(e,0),16):e},Nye=xye(function(){return jd("\uDF06\uD834")!=='"\\udf06\\ud834"'||jd("\uDEAD")!=='"\\udead"'});jd&&Tye({target:"JSON",stat:!0,forced:Nye},{stringify:function(e,r,n){for(var i=0,a=arguments.length,o=Fye(a);i<a;i++)o[i]=arguments[i];var u=kye(jd,null,o);return typeof u=="string"?Dye(u,jye,Mye):u}})});var Bye,Lye,jC=S(function(){Bye=z(),Lye=Dr();Lye(Bye.JSON,"JSON",!0)});var Nd=h(function(rht,MC){var zye=oe();MC.exports=zye(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})});var ic=h(function(nht,BC){var $ye=oe(),Hye=we(),Vye=lr(),NC=Nd(),Bd=Object.isExtensible,Wye=$ye(function(){Bd(1)});BC.exports=Wye||NC?function(e){return!Hye(e)||NC&&Vye(e)=="ArrayBuffer"?!1:Bd?Bd(e):!0}:Bd});var Fu=h(function(iht,LC){var Gye=oe();LC.exports=!Gye(function(){return Object.isExtensible(Object.preventExtensions({}))})});var va=h(function(aht,HC){function Ld(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ld=function(r){return typeof r}:Ld=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ld(t)}var Kye=P(),Yye=ae(),Xye=Ou(),Jye=we(),Mw=Le(),Qye=Ne().f,zC=vi(),Zye=sd(),Nw=ic(),ege=wu(),tge=Fu(),$C=!1,Pi=ege("meta"),rge=0,Bw=function(e){Qye(e,Pi,{value:{objectID:"O"+rge++,weakData:{}}})},nge=function(e,r){if(!Jye(e))return Ld(e)=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Mw(e,Pi)){if(!Nw(e))return"F";if(!r)return"E";Bw(e)}return e[Pi].objectID},ige=function(e,r){if(!Mw(e,Pi)){if(!Nw(e))return!0;if(!r)return!1;Bw(e)}return e[Pi].weakData},age=function(e){return tge&&$C&&Nw(e)&&!Mw(e,Pi)&&Bw(e),e},oge=function(){uge.enable=function(){},$C=!0;var e=zC.f,r=Yye([].splice),n={};n[Pi]=1,e(n).length&&(zC.f=function(i){for(var a=e(i),o=0,u=a.length;o<u;o++)if(a[o]===Pi){r(a,o,1);break}return a},Kye({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Zye.f}))},uge=HC.exports={enable:oge,fastKey:nge,getWeakData:ige,onFreeze:age};Xye[Pi]=!0});var ac=h(function(oht,WC){var sge=Ee(),lge=we(),VC=_i();WC.exports=function(t,e,r){var n,i;return VC&&sge(n=e.constructor)&&n!==r&&lge(i=n.prototype)&&i!==r.prototype&&VC(t,i),t}});var oc=h(function(uht,KC){"use strict";var cge=P(),fge=z(),pge=ae(),GC=Pu(),dge=st(),hge=va(),vge=ge(),yge=jr(),gge=Ee(),Lw=we(),zw=oe(),mge=Jl(),bge=Dr(),_ge=ac();KC.exports=function(t,e,r){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,a=n?"set":"add",o=fge[t],u=o&&o.prototype,s=o,l={},c=function(O){var E=pge(u[O]);dge(u,O,O=="add"?function(j){return E(this,j===0?0:j),this}:O=="delete"?function(F){return i&&!Lw(F)?!1:E(this,F===0?0:F)}:O=="get"?function(j){return i&&!Lw(j)?void 0:E(this,j===0?0:j)}:O=="has"?function(j){return i&&!Lw(j)?!1:E(this,j===0?0:j)}:function(j,C){return E(this,j===0?0:j,C),this})},f=GC(t,!gge(o)||!(i||u.forEach&&!zw(function(){new o().entries().next()})));if(f)s=r.getConstructor(e,t,n,a),hge.enable();else if(GC(t,!0)){var p=new s,d=p[a](i?{}:-0,1)!=p,v=zw(function(){p.has(1)}),g=mge(function(_){new o(_)}),m=!i&&zw(function(){for(var _=new o,O=5;O--;)_[a](O,O);return!_.has(-0)});g||(s=e(function(_,O){yge(_,u);var E=_ge(new o,_,s);return O!=null&&vge(O,E[a],{that:E,AS_ENTRIES:n}),E}),s.prototype=u,u.constructor=s),(v||m)&&(c("delete"),c("has"),n&&c("get")),(m||d)&&c(a),i&&u.clear&&delete u.clear}return l[t]=s,cge({global:!0,forced:s!=o},l),bge(s,t),i||r.setStrong(s,t,n),s}});var Hw=h(function(sht,ZC){"use strict";var wge=Ne().f,Sge=Dt(),YC=pn(),Oge=Ye(),Pge=jr(),qge=ge(),Rge=Ed(),Ege=pa(),uc=Re(),XC=va().fastKey,JC=We(),QC=JC.set,$w=JC.getterFor;ZC.exports={getConstructor:function(e,r,n,i){var a=e(function(c,f){Pge(c,o),QC(c,{type:r,index:Sge(null),first:void 0,last:void 0,size:0}),uc||(c.size=0),f!=null&&qge(f,c[i],{that:c,AS_ENTRIES:n})}),o=a.prototype,u=$w(r),s=function(f,p,d){var v=u(f),g=l(f,p),m,_;return g?g.value=d:(v.last=g={index:_=XC(p,!0),key:p,value:d,previous:m=v.last,next:void 0,removed:!1},v.first||(v.first=g),m&&(m.next=g),uc?v.size++:f.size++,_!=="F"&&(v.index[_]=g)),f},l=function(f,p){var d=u(f),v=XC(p),g;if(v!=="F")return d.index[v];for(g=d.first;g;g=g.next)if(g.key==p)return g};return YC(o,{clear:function(){for(var f=this,p=u(f),d=p.index,v=p.first;v;)v.removed=!0,v.previous&&(v.previous=v.previous.next=void 0),delete d[v.index],v=v.next;p.first=p.last=void 0,uc?p.size=0:f.size=0},delete:function(f){var p=this,d=u(p),v=l(p,f);if(v){var g=v.next,m=v.previous;delete d.index[v.index],v.removed=!0,m&&(m.next=g),g&&(g.previous=m),d.first==v&&(d.first=g),d.last==v&&(d.last=m),uc?d.size--:p.size--}return!!v},forEach:function(f){for(var p=u(this),d=Oge(f,arguments.length>1?arguments[1]:void 0),v;v=v?v.next:p.first;)for(d(v.value,v.key,this);v&&v.removed;)v=v.previous},has:function(f){return!!l(this,f)}}),YC(o,n?{get:function(f){var p=l(this,f);return p&&p.value},set:function(f,p){return s(this,f===0?0:f,p)}}:{add:function(f){return s(this,f=f===0?0:f,f)}}),uc&&wge(o,"size",{get:function(){return u(this).size}}),a},setStrong:function(e,r,n){var i=r+" Iterator",a=$w(r),o=$w(i);Rge(e,r,function(u,s){QC(this,{type:i,target:u,state:a(u),kind:s,last:void 0})},function(){for(var u=o(this),s=u.kind,l=u.last;l&&l.removed;)l=l.previous;return!u.target||!(u.last=l=l?l.next:u.state.first)?(u.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l.key,done:!1}:s=="values"?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}},n?"entries":"values",!n,!0),Ege(r)}}});var zd=h(function(){"use strict";var Tge=oc(),Age=Hw();Tge("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Age)});var Vw=h(function(fht,e3){var Ige=Math.log;e3.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Ige(1+e)}});var kge,xge,Ww,Fge,t3,Cge,Dge,r3=S(function(){kge=P(),xge=Vw(),Ww=Math.acosh,Fge=Math.log,t3=Math.sqrt,Cge=Math.LN2,Dge=!Ww||Math.floor(Ww(Number.MAX_VALUE))!=710||Ww(1/0)!=1/0;kge({target:"Math",stat:!0,forced:Dge},{acosh:function(e){return(e=+e)<1?NaN:e>9490626562425156e-8?Fge(e)+Cge:xge(e-1+t3(e-1)*t3(e+1))}})});function i3(t){return!isFinite(t=+t)||t==0?t:t<0?-i3(-t):jge(t+Mge(t*t+1))}var Uge,n3,jge,Mge,a3=S(function(){Uge=P(),n3=Math.asinh,jge=Math.log,Mge=Math.sqrt;Uge({target:"Math",stat:!0,forced:!(n3&&1/n3(0)>0)},{asinh:i3})});var Nge,o3,Bge,u3=S(function(){Nge=P(),o3=Math.atanh,Bge=Math.log;Nge({target:"Math",stat:!0,forced:!(o3&&1/o3(-0)<0)},{atanh:function(e){return(e=+e)==0?e:Bge((1+e)/(1-e))/2}})});var $d=h(function(pht,s3){s3.exports=Math.sign||function(e){return(e=+e)==0||e!=e?e:e<0?-1:1}});var Lge,zge,$ge,Hge,l3=S(function(){Lge=P(),zge=$d(),$ge=Math.abs,Hge=Math.pow;Lge({target:"Math",stat:!0},{cbrt:function(e){return zge(e=+e)*Hge($ge(e),1/3)}})});var Vge,Wge,Gge,Kge,c3=S(function(){Vge=P(),Wge=Math.floor,Gge=Math.log,Kge=Math.LOG2E;Vge({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-Wge(Gge(e+.5)*Kge):32}})});var lc=h(function(dht,f3){var sc=Math.expm1,Yge=Math.exp;f3.exports=!sc||sc(10)>22025.465794806718||sc(10)<22025.465794806718||sc(-2e-17)!=-2e-17?function(e){return(e=+e)==0?e:e>-1e-6&&e<1e-6?e+e*e/2:Yge(e)-1}:sc});var Xge,Jge,p3,Qge,Gw,d3=S(function(){Xge=P(),Jge=lc(),p3=Math.cosh,Qge=Math.abs,Gw=Math.E;Xge({target:"Math",stat:!0,forced:!p3||p3(710)===1/0},{cosh:function(e){var r=Jge(Qge(e)-1)+1;return(r+1/(r*Gw*Gw))*(Gw/2)}})});var Zge,h3,v3=S(function(){Zge=P(),h3=lc();Zge({target:"Math",stat:!0,forced:h3!=Math.expm1},{expm1:h3})});var Xw=h(function(hht,y3){var eme=$d(),tme=Math.abs,Hd=Math.pow,Kw=Hd(2,-52),Vd=Hd(2,-23),rme=Hd(2,127)*(2-Vd),Yw=Hd(2,-126),nme=function(e){return e+1/Kw-1/Kw};y3.exports=Math.fround||function(e){var r=tme(e),n=eme(e),i,a;return r<Yw?n*nme(r/Yw/Vd)*Yw*Vd:(i=(1+Vd/Kw)*r,a=i-(i-r),a>rme||a!=a?n*(1/0):n*a)}});var ime,ame,g3=S(function(){ime=P(),ame=Xw();ime({target:"Math",stat:!0},{fround:ame})});var ome,m3,ume,sme,lme,b3=S(function(){ome=P(),m3=Math.hypot,ume=Math.abs,sme=Math.sqrt,lme=!!m3&&m3(1/0,NaN)!==1/0;ome({target:"Math",stat:!0,forced:lme},{hypot:function(e,r){for(var n=0,i=0,a=arguments.length,o=0,u,s;i<a;)u=ume(arguments[i++]),o<u?(s=o/u,n=n*s*s+1,o=u):u>0?(s=u/o,n+=s*s):n+=u;return o===1/0?1/0:o*sme(n)}})});var cme,fme,_3,pme,w3=S(function(){cme=P(),fme=oe(),_3=Math.imul,pme=fme(function(){return _3(4294967295,5)!=-5||_3.length!=2});cme({target:"Math",stat:!0,forced:pme},{imul:function(e,r){var n=65535,i=+e,a=+r,o=n&i,u=n&a;return 0|o*u+((n&i>>>16)*u+o*(n&a>>>16)<<16>>>0)}})});var dme,hme,vme,S3=S(function(){dme=P(),hme=Math.log,vme=Math.LOG10E;dme({target:"Math",stat:!0},{log10:function(e){return hme(e)*vme}})});var yme,gme,O3=S(function(){yme=P(),gme=Vw();yme({target:"Math",stat:!0},{log1p:gme})});var mme,bme,_me,P3=S(function(){mme=P(),bme=Math.log,_me=Math.LN2;mme({target:"Math",stat:!0},{log2:function(e){return bme(e)/_me}})});var wme,Sme,q3=S(function(){wme=P(),Sme=$d();wme({target:"Math",stat:!0},{sign:Sme})});var Ome,Pme,R3,qme,E3,Rme,Eme,T3=S(function(){Ome=P(),Pme=oe(),R3=lc(),qme=Math.abs,E3=Math.exp,Rme=Math.E,Eme=Pme(function(){return Math.sinh(-2e-17)!=-2e-17});Ome({target:"Math",stat:!0,forced:Eme},{sinh:function(e){return qme(e=+e)<1?(R3(e)-R3(-e))/2:(E3(e-1)-E3(-e-1))*(Rme/2)}})});var Tme,A3,I3,k3=S(function(){Tme=P(),A3=lc(),I3=Math.exp;Tme({target:"Math",stat:!0},{tanh:function(e){var r=A3(e=+e),n=A3(-e);return r==1/0?1:n==1/0?-1:(r-n)/(I3(e)+I3(-e))}})});var Ame,x3=S(function(){Ame=Dr();Ame(Math,"Math",!0)});var Ime,kme,xme,F3=S(function(){Ime=P(),kme=Math.ceil,xme=Math.floor;Ime({target:"Math",stat:!0},{trunc:function(e){return(e>0?xme:kme)(e)}})});var Jw=h(function(vht,C3){var Fme=ae();C3.exports=Fme(1 .valueOf)});var cc=h(function(yht,D3){D3.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"});var yo=h(function(ght,j3){var Cme=ae(),Dme=Rt(),Ume=Be(),jme=cc(),U3=Cme("".replace),Wd="["+jme+"]",Mme=RegExp("^"+Wd+Wd+"*"),Nme=RegExp(Wd+Wd+"*$"),Qw=function(e){return function(r){var n=Ume(Dme(r));return e&1&&(n=U3(n,Mme,"")),e&2&&(n=U3(n,Nme,"")),n}};j3.exports={start:Qw(1),end:Qw(2),trim:Qw(3)}});var Bme,Zw,M3,Lme,zme,N3,$me,Hme,Vme,B3,Wme,Gme,Kme,Yme,Xme,Jme,e0,ya,t0,Qme,Zme,Gd,ebe,tbe,go,r0,Kd,fc,L3=S(function(){"use strict";Bme=Re(),Zw=z(),M3=ae(),Lme=Pu(),zme=st(),N3=Le(),$me=ac(),Hme=Qt(),Vme=mu(),B3=g_(),Wme=oe(),Gme=vi().f,Kme=Ct().f,Yme=Ne().f,Xme=Jw(),Jme=yo().trim,e0="Number",ya=Zw[e0],t0=ya.prototype,Qme=Zw.TypeError,Zme=M3("".slice),Gd=M3("".charCodeAt),ebe=function(e){var r=B3(e,"number");return typeof r=="bigint"?r:tbe(r)},tbe=function(e){var r=B3(e,"number"),n,i,a,o,u,s,l,c;if(Vme(r))throw Qme("Cannot convert a Symbol value to a number");if(typeof r=="string"&&r.length>2){if(r=Jme(r),n=Gd(r,0),n===43||n===45){if(i=Gd(r,2),i===88||i===120)return NaN}else if(n===48){switch(Gd(r,1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+r}for(u=Zme(r,2),s=u.length,l=0;l<s;l++)if(c=Gd(u,l),c<48||c>o)return NaN;return parseInt(u,a)}}return+r};if(Lme(e0,!ya(" 0o1")||!ya("0b1")||ya("+0x1"))){for(go=function(e){var r=arguments.length<1?0:ya(ebe(e)),n=this;return Hme(t0,n)&&Wme(function(){Xme(n)})?$me(Object(r),n,go):r},r0=Bme?Gme(ya):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Kd=0;r0.length>Kd;Kd++)N3(ya,fc=r0[Kd])&&!N3(go,fc)&&Yme(go,fc,Kme(ya,fc));go.prototype=t0,t0.constructor=go,zme(Zw,e0,go)}});var rbe,z3=S(function(){rbe=P();rbe({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})});var n0=h(function(mht,$3){var nbe=z(),ibe=nbe.isFinite;$3.exports=Number.isFinite||function(e){return typeof e=="number"&&ibe(e)}});var abe,obe,H3=S(function(){abe=P(),obe=n0();abe({target:"Number",stat:!0},{isFinite:obe})});var Yd=h(function(bht,V3){var ube=we(),sbe=Math.floor;V3.exports=Number.isInteger||function(e){return!ube(e)&&isFinite(e)&&sbe(e)===e}});var lbe,cbe,W3=S(function(){lbe=P(),cbe=Yd();lbe({target:"Number",stat:!0},{isInteger:cbe})});var fbe,G3=S(function(){fbe=P();fbe({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})});var pbe,dbe,hbe,K3=S(function(){pbe=P(),dbe=Yd(),hbe=Math.abs;pbe({target:"Number",stat:!0},{isSafeInteger:function(e){return dbe(e)&&hbe(e)<=9007199254740991}})});var vbe,Y3=S(function(){vbe=P();vbe({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})});var ybe,X3=S(function(){ybe=P();ybe({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var tD=h(function(_ht,eD){var J3=z(),gbe=oe(),mbe=ae(),bbe=Be(),_be=yo().trim,wbe=cc(),Sbe=mbe("".charAt),Xd=J3.parseFloat,Q3=J3.Symbol,Z3=Q3&&Q3.iterator,Obe=1/Xd(wbe+"-0")!=-1/0||Z3&&!gbe(function(){Xd(Object(Z3))});eD.exports=Obe?function(e){var r=_be(bbe(e)),n=Xd(r);return n===0&&Sbe(r,0)=="-"?-0:n}:Xd});var Pbe,rD,nD=S(function(){Pbe=P(),rD=tD();Pbe({target:"Number",stat:!0,forced:Number.parseFloat!=rD},{parseFloat:rD})});var i0=h(function(wht,lD){var iD=z(),qbe=oe(),Rbe=ae(),Ebe=Be(),Tbe=yo().trim,aD=cc(),pc=iD.parseInt,oD=iD.Symbol,uD=oD&&oD.iterator,sD=/^[+-]?0x/i,Abe=Rbe(sD.exec),Ibe=pc(aD+"08")!==8||pc(aD+"0x16")!==22||uD&&!qbe(function(){pc(Object(uD))});lD.exports=Ibe?function(e,r){var n=Tbe(Ebe(e));return pc(n,r>>>0||(Abe(sD,n)?16:10))}:pc});var kbe,cD,fD=S(function(){kbe=P(),cD=i0();kbe({target:"Number",stat:!0,forced:Number.parseInt!=cD},{parseInt:cD})});var Jd=h(function(Sht,pD){"use strict";var xbe=z(),Fbe=Vt(),Cbe=Be(),Dbe=Rt(),Ube=xbe.RangeError;pD.exports=function(e){var r=Cbe(Dbe(this)),n="",i=Fbe(e);if(i<0||i==1/0)throw Ube("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var jbe,dD,a0,Mbe,Nbe,Bbe,hD,Lbe,vD,yD,o0,gD,dc,Qd,zbe,Cu,u0,mD,$be,bD=S(function(){"use strict";jbe=P(),dD=z(),a0=ae(),Mbe=Vt(),Nbe=Jw(),Bbe=Jd(),hD=oe(),Lbe=dD.RangeError,vD=dD.String,yD=Math.floor,o0=a0(Bbe),gD=a0("".slice),dc=a0(1 .toFixed),Qd=function t(e,r,n){return r===0?n:r%2==1?t(e,r-1,n*e):t(e*e,r/2,n)},zbe=function(e){for(var r=0,n=e;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r},Cu=function(e,r,n){for(var i=-1,a=n;++i<6;)a+=r*e[i],e[i]=a%1e7,a=yD(a/1e7)},u0=function(e,r){for(var n=6,i=0;--n>=0;)i+=e[n],e[n]=yD(i/r),i=i%r*1e7},mD=function(e){for(var r=6,n="";--r>=0;)if(n!==""||r===0||e[r]!==0){var i=vD(e[r]);n=n===""?i:n+o0("0",7-i.length)+i}return n},$be=hD(function(){return dc(8e-5,3)!=="0.000"||dc(.9,0)!=="1"||dc(1.255,2)!=="1.25"||dc(1000000000000000100,0)!=="1000000000000000128"})||!hD(function(){dc({})});jbe({target:"Number",proto:!0,forced:$be},{toFixed:function(e){var r=Nbe(this),n=Mbe(e),i=[0,0,0,0,0,0],a="",o="0",u,s,l,c;if(n<0||n>20)throw Lbe("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return vD(r);if(r<0&&(a="-",r=-r),r>1e-21)if(u=zbe(r*Qd(2,69,1))-69,s=u<0?r*Qd(2,-u,1):r/Qd(2,u,1),s*=4503599627370496,u=52-u,u>0){for(Cu(i,0,s),l=n;l>=7;)Cu(i,1e7,0),l-=7;for(Cu(i,Qd(10,l,1),0),l=u-1;l>=23;)u0(i,1<<23),l-=23;u0(i,1<<l),Cu(i,1,1),u0(i,2),o=mD(i)}else Cu(i,0,s),Cu(i,1<<-u,0),o=mD(i)+o0("0",n);return n>0?(c=o.length,o=a+(c<=n?"0."+o0("0",n-c)+o:gD(o,0,c-n)+"."+gD(o,c-n))):o=a+o,o}})});var l0=h(function(Oht,SD){"use strict";var _D=Re(),Hbe=ae(),Vbe=le(),Wbe=oe(),s0=so(),Gbe=Qp(),Kbe=xl(),Ybe=Fe(),Xbe=no(),Du=Object.assign,wD=Object.defineProperty,Jbe=Hbe([].concat);SD.exports=!Du||Wbe(function(){if(_D&&Du({b:1},Du(wD({},"a",{enumerable:!0,get:function(){wD(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),Du({},t)[r]!=7||s0(Du({},e)).join("")!=n})?function(e,r){for(var n=Ybe(e),i=arguments.length,a=1,o=Gbe.f,u=Kbe.f;i>a;)for(var s=Xbe(arguments[a++]),l=o?Jbe(s0(s),o(s)):s0(s),c=l.length,f=0,p;c>f;)p=l[f++],(!_D||Vbe(u,s,p))&&(n[p]=s[p]);return n}:Du});var Qbe,OD,PD=S(function(){Qbe=P(),OD=l0();Qbe({target:"Object",stat:!0,forced:Object.assign!==OD},{assign:OD})});var hc=h(function(Pht,RD){"use strict";var Zbe=he(),e_e=z(),t_e=oe(),qD=Ad();RD.exports=Zbe||!t_e(function(){if(!(qD&&qD<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e_e[t]}})});var r_e,n_e,i_e,a_e,o_e,u_e,ED=S(function(){"use strict";r_e=P(),n_e=Re(),i_e=hc(),a_e=de(),o_e=Fe(),u_e=Ne();n_e&&r_e({target:"Object",proto:!0,forced:i_e},{__defineGetter__:function(e,r){u_e.f(o_e(this),e,{get:a_e(r),enumerable:!0,configurable:!0})}})});var s_e,l_e,c_e,f_e,p_e,d_e,TD=S(function(){"use strict";s_e=P(),l_e=Re(),c_e=hc(),f_e=de(),p_e=Fe(),d_e=Ne();l_e&&s_e({target:"Object",proto:!0,forced:c_e},{__defineSetter__:function(e,r){d_e.f(p_e(this),e,{set:f_e(r),enumerable:!0,configurable:!0})}})});var c0=h(function(qht,kD){var h_e=Re(),AD=ae(),v_e=so(),y_e=Jt(),g_e=xl().f,m_e=AD(g_e),b_e=AD([].push),ID=function(e){return function(r){for(var n=y_e(r),i=v_e(n),a=i.length,o=0,u=[],s;a>o;)s=i[o++],(!h_e||m_e(n,s))&&b_e(u,e?[s,n[s]]:n[s]);return u}};kD.exports={entries:ID(!0),values:ID(!1)}});var __e,w_e,xD=S(function(){__e=P(),w_e=c0().entries;__e({target:"Object",stat:!0},{entries:function(e){return w_e(e)}})});var S_e,O_e,P_e,q_e,R_e,f0,E_e,FD=S(function(){S_e=P(),O_e=Fu(),P_e=oe(),q_e=we(),R_e=va().onFreeze,f0=Object.freeze,E_e=P_e(function(){f0(1)});S_e({target:"Object",stat:!0,forced:E_e,sham:!O_e},{freeze:function(e){return f0&&q_e(e)?f0(R_e(e)):e}})});var T_e,A_e,I_e,CD=S(function(){T_e=P(),A_e=ge(),I_e=yi();T_e({target:"Object",stat:!0},{fromEntries:function(e){var r={};return A_e(e,function(n,i){I_e(r,n,i)},{AS_ENTRIES:!0}),r}})});var k_e,x_e,F_e,DD,UD,C_e,D_e,jD=S(function(){k_e=P(),x_e=oe(),F_e=Jt(),DD=Ct().f,UD=Re(),C_e=x_e(function(){DD(1)}),D_e=!UD||C_e;k_e({target:"Object",stat:!0,forced:D_e,sham:!UD},{getOwnPropertyDescriptor:function(e,r){return DD(F_e(e),r)}})});var U_e,j_e,M_e,N_e,B_e,L_e,MD=S(function(){U_e=P(),j_e=Re(),M_e=Zp(),N_e=Jt(),B_e=Ct(),L_e=yi();U_e({target:"Object",stat:!0,sham:!j_e},{getOwnPropertyDescriptors:function(e){for(var r=N_e(e),n=B_e.f,i=M_e(r),a={},o=0,u,s;i.length>o;)s=n(r,u=i[o++]),s!==void 0&&L_e(a,u,s);return a}})});var z_e,$_e,H_e,V_e,ND=S(function(){z_e=P(),$_e=oe(),H_e=sd().f,V_e=$_e(function(){return!Object.getOwnPropertyNames(1)});z_e({target:"Object",stat:!0,forced:V_e},{getOwnPropertyNames:H_e})});var W_e,G_e,K_e,BD,Y_e,X_e,LD=S(function(){W_e=P(),G_e=oe(),K_e=Fe(),BD=Ut(),Y_e=vd(),X_e=G_e(function(){BD(1)});W_e({target:"Object",stat:!0,forced:X_e,sham:!Y_e},{getPrototypeOf:function(e){return BD(K_e(e))}})});var p0=h(function(Rht,zD){zD.exports=Object.is||function(e,r){return e===r?e!==0||1/e==1/r:e!=e&&r!=r}});var J_e,Q_e,$D=S(function(){J_e=P(),Q_e=p0();J_e({target:"Object",stat:!0},{is:Q_e})});var Z_e,HD,VD=S(function(){Z_e=P(),HD=ic();Z_e({target:"Object",stat:!0,forced:Object.isExtensible!==HD},{isExtensible:HD})});var ewe,twe,rwe,nwe,WD,d0,iwe,GD=S(function(){ewe=P(),twe=oe(),rwe=we(),nwe=lr(),WD=Nd(),d0=Object.isFrozen,iwe=twe(function(){d0(1)});ewe({target:"Object",stat:!0,forced:iwe||WD},{isFrozen:function(e){return!rwe(e)||WD&&nwe(e)=="ArrayBuffer"?!0:d0?d0(e):!1}})});var awe,owe,uwe,swe,KD,h0,lwe,YD=S(function(){awe=P(),owe=oe(),uwe=we(),swe=lr(),KD=Nd(),h0=Object.isSealed,lwe=owe(function(){h0(1)});awe({target:"Object",stat:!0,forced:lwe||KD},{isSealed:function(e){return!uwe(e)||KD&&swe(e)=="ArrayBuffer"?!0:h0?h0(e):!1}})});var cwe,fwe,XD,pwe,dwe,JD=S(function(){cwe=P(),fwe=Fe(),XD=so(),pwe=oe(),dwe=pwe(function(){XD(1)});cwe({target:"Object",stat:!0,forced:dwe},{keys:function(e){return XD(fwe(e))}})});var hwe,vwe,ywe,gwe,mwe,bwe,_we,QD=S(function(){"use strict";hwe=P(),vwe=Re(),ywe=hc(),gwe=Fe(),mwe=di(),bwe=Ut(),_we=Ct().f;vwe&&hwe({target:"Object",proto:!0,forced:ywe},{__lookupGetter__:function(e){var r=gwe(this),n=mwe(e),i;do if(i=_we(r,n))return i.get;while(r=bwe(r))}})});var wwe,Swe,Owe,Pwe,qwe,Rwe,Ewe,ZD=S(function(){"use strict";wwe=P(),Swe=Re(),Owe=hc(),Pwe=Fe(),qwe=di(),Rwe=Ut(),Ewe=Ct().f;Swe&&wwe({target:"Object",proto:!0,forced:Owe},{__lookupSetter__:function(e){var r=Pwe(this),n=qwe(e),i;do if(i=Ewe(r,n))return i.set;while(r=Rwe(r))}})});var Twe,Awe,Iwe,kwe,xwe,v0,Fwe,eU=S(function(){Twe=P(),Awe=we(),Iwe=va().onFreeze,kwe=Fu(),xwe=oe(),v0=Object.preventExtensions,Fwe=xwe(function(){v0(1)});Twe({target:"Object",stat:!0,forced:Fwe,sham:!kwe},{preventExtensions:function(e){return v0&&Awe(e)?v0(Iwe(e)):e}})});var Cwe,Dwe,Uwe,jwe,Mwe,y0,Nwe,tU=S(function(){Cwe=P(),Dwe=we(),Uwe=va().onFreeze,jwe=Fu(),Mwe=oe(),y0=Object.seal,Nwe=Mwe(function(){y0(1)});Cwe({target:"Object",stat:!0,forced:Nwe,sham:!jwe},{seal:function(e){return y0&&Dwe(e)?y0(Uwe(e)):e}})});var nU=h(function(Eht,rU){"use strict";var Bwe=rd(),Lwe=aa();rU.exports=Bwe?{}.toString:function(){return"[object "+Lwe(this)+"]"}});var zwe,$we,Hwe,iU=S(function(){zwe=rd(),$we=st(),Hwe=nU();zwe||$we(Object.prototype,"toString",Hwe,{unsafe:!0})});var Vwe,Wwe,aU=S(function(){Vwe=P(),Wwe=c0().values;Vwe({target:"Object",stat:!0},{values:function(e){return Wwe(e)}})});var g0=h(function(Tht,oU){var Gwe=z();oU.exports=Gwe.Promise});var vc=h(function(Aht,uU){var Kwe=z(),Ywe=co(),Xwe=bu(),Jwe=Kwe.TypeError;uU.exports=function(t){if(Ywe(t))return t;throw Jwe(Xwe(t)+" is not a constructor")}});var Zt=h(function(Iht,lU){var sU=W(),Qwe=vc(),Zwe=be(),e0e=Zwe("species");lU.exports=function(t,e){var r=sU(t).constructor,n;return r===void 0||(n=sU(r)[e0e])==null?e:Qwe(n)}});var m0=h(function(kht,cU){var t0e=pi();cU.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(t0e)});var yc=h(function(xht,fU){var r0e=lr(),n0e=z();fU.exports=r0e(n0e.process)=="process"});var E0=h(function(Fht,bU){var Sr=z(),i0e=Ke(),a0e=Ye(),pU=Ee(),o0e=Le(),u0e=oe(),dU=F_(),s0e=oa(),hU=Cl(),l0e=m0(),c0e=yc(),b0=Sr.setImmediate,_0=Sr.clearImmediate,f0e=Sr.process,w0=Sr.Dispatch,p0e=Sr.Function,vU=Sr.MessageChannel,d0e=Sr.String,S0=0,gc={},yU="onreadystatechange",mc,mo,O0,P0;try{mc=Sr.location}catch(t){}var q0=function(e){if(o0e(gc,e)){var r=gc[e];delete gc[e],r()}},R0=function(e){return function(){q0(e)}},gU=function(e){q0(e.data)},mU=function(e){Sr.postMessage(d0e(e),mc.protocol+"//"+mc.host)};(!b0||!_0)&&(b0=function(e){var r=s0e(arguments,1);return gc[++S0]=function(){i0e(pU(e)?e:p0e(e),void 0,r)},mo(S0),S0},_0=function(e){delete gc[e]},c0e?mo=function(e){f0e.nextTick(R0(e))}:w0&&w0.now?mo=function(e){w0.now(R0(e))}:vU&&!l0e?(O0=new vU,P0=O0.port2,O0.port1.onmessage=gU,mo=a0e(P0.postMessage,P0)):Sr.addEventListener&&pU(Sr.postMessage)&&!Sr.importScripts&&mc&&mc.protocol!=="file:"&&!u0e(mU)?(mo=mU,Sr.addEventListener("message",gU,!1)):yU in hU("script")?mo=function(e){dU.appendChild(hU("script"))[yU]=function(){dU.removeChild(this),q0(e)}}:mo=function(e){setTimeout(R0(e),0)});bU.exports={set:b0,clear:_0}});var wU=h(function(Cht,_U){var h0e=pi(),v0e=z();_U.exports=/ipad|iphone|ipod/i.test(h0e)&&v0e.Pebble!==void 0});var OU=h(function(Dht,SU){var y0e=pi();SU.exports=/web0s(?!.*chrome)/i.test(y0e)});var x0=h(function(Uht,kU){var bo=z(),PU=Ye(),g0e=Ct().f,T0=E0().set,m0e=m0(),b0e=wU(),_0e=OU(),A0=yc(),qU=bo.MutationObserver||bo.WebKitMutationObserver,RU=bo.document,EU=bo.process,Zd=bo.Promise,TU=g0e(bo,"queueMicrotask"),AU=TU&&TU.value,bc,_o,_c,Uu,I0,k0,eh,IU;AU||(bc=function(){var e,r;for(A0&&(e=EU.domain)&&e.exit();_o;){r=_o.fn,_o=_o.next;try{r()}catch(n){throw _o?Uu():_c=void 0,n}}_c=void 0,e&&e.enter()},!m0e&&!A0&&!_0e&&qU&&RU?(I0=!0,k0=RU.createTextNode(""),new qU(bc).observe(k0,{characterData:!0}),Uu=function(){k0.data=I0=!I0}):!b0e&&Zd&&Zd.resolve?(eh=Zd.resolve(void 0),eh.constructor=Zd,IU=PU(eh.then,eh),Uu=function(){IU(bc)}):A0?Uu=function(){EU.nextTick(bc)}:(T0=PU(T0,bo),Uu=function(){T0(bc)}));kU.exports=AU||function(t){var e={fn:t,next:void 0};_c&&(_c.next=e),_o||(_o=e,Uu()),_c=e}});var ju=h(function(jht,FU){"use strict";var xU=de(),w0e=function(e){var r,n;this.promise=new e(function(i,a){if(r!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");r=i,n=a}),this.resolve=xU(r),this.reject=xU(n)};FU.exports.f=function(t){return new w0e(t)}});var F0=h(function(Mht,CU){var S0e=W(),O0e=we(),P0e=ju();CU.exports=function(t,e){if(S0e(t),O0e(e)&&e.constructor===t)return e;var r=P0e.f(t),n=r.resolve;return n(e),r.promise}});var C0=h(function(Nht,DU){var q0e=z();DU.exports=function(t,e){var r=q0e.console;r&&r.error&&(arguments.length==1?r.error(t):r.error(t,e))}});var wc=h(function(Bht,UU){UU.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}});var MU=h(function(Lht,jU){function th(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?th=function(r){return typeof r}:th=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},th(t)}jU.exports=(typeof window=="undefined"?"undefined":th(window))=="object"});var rh,nh,qi,R0e,Ri,ih,NU,E0e,BU,T0e,A0e,D0,Sc,I0e,k0e,x0e,LU,F0e,C0e,zU,$U,D0e,U0e,HU,U0,j0,j0e,M0e,N0e,ah,VU,B0e,Un,WU,L0e,z0e,wo,Mr,Mu,GU,M0,N0,Nu,$0e,H0e,KU,YU,V0e,XU,JU,W0e,B0,QU,L0,oh,ZU,z0,ej,Oc,G0e,tj,$0,rj,K0e,nj,Y0e,Bu,Lu,ij,aj=S(function(){"use strict";rh=P(),nh=he(),qi=z(),R0e=xe(),Ri=le(),ih=g0(),NU=st(),E0e=pn(),BU=_i(),T0e=Dr(),A0e=pa(),D0=de(),Sc=Ee(),I0e=we(),k0e=jr(),x0e=Dl(),LU=ge(),F0e=Jl(),C0e=Zt(),zU=E0().set,$U=x0(),D0e=F0(),U0e=C0(),HU=ju(),U0=wc(),j0=We(),j0e=Pu(),M0e=be(),N0e=MU(),ah=yc(),VU=io(),B0e=M0e("species"),Un="Promise",WU=j0.getterFor(Un),L0e=j0.set,z0e=j0.getterFor(Un),wo=ih&&ih.prototype,Mr=ih,Mu=wo,GU=qi.TypeError,M0=qi.document,N0=qi.process,Nu=HU.f,$0e=Nu,H0e=!!(M0&&M0.createEvent&&qi.dispatchEvent),KU=Sc(qi.PromiseRejectionEvent),YU="unhandledrejection",V0e="rejectionhandled",XU=0,JU=1,W0e=2,B0=1,QU=2,L0=!1,Oc=j0e(Un,function(){var t=x0e(Mr),e=t!==String(Mr);if(!e&&VU===66||nh&&!Mu.finally)return!0;if(VU>=51&&/native code/.test(t))return!1;var r=new Mr(function(a){a(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};return i[B0e]=n,L0=r.then(function(){})instanceof n,L0?!e&&N0e&&!KU:!0}),G0e=Oc||!F0e(function(t){Mr.all(t).catch(function(){})}),tj=function(e){var r;return I0e(e)&&Sc(r=e.then)?r:!1},$0=function(e,r){if(!e.notified){e.notified=!0;var n=e.reactions;$U(function(){for(var i=e.value,a=e.state==JU,o=0;n.length>o;){var u=n[o++],s=a?u.ok:u.fail,l=u.resolve,c=u.reject,f=u.domain,p,d,v;try{s?(a||(e.rejection===QU&&Y0e(e),e.rejection=B0),s===!0?p=i:(f&&f.enter(),p=s(i),f&&(f.exit(),v=!0)),p===u.promise?c(GU("Promise-chain cycle")):(d=tj(p))?Ri(d,p,l,c):l(p)):c(i)}catch(g){f&&!v&&f.exit(),c(g)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&K0e(e)})}},rj=function(e,r,n){var i,a;H0e?(i=M0.createEvent("Event"),i.promise=r,i.reason=n,i.initEvent(e,!1,!0),qi.dispatchEvent(i)):i={promise:r,reason:n},!KU&&(a=qi["on"+e])?a(i):e===YU&&U0e("Unhandled promise rejection",n)},K0e=function(e){Ri(zU,qi,function(){var r=e.facade,n=e.value,i=nj(e),a;if(i&&(a=U0(function(){ah?N0.emit("unhandledRejection",n,r):rj(YU,r,n)}),e.rejection=ah||nj(e)?QU:B0,a.error))throw a.value})},nj=function(e){return e.rejection!==B0&&!e.parent},Y0e=function(e){Ri(zU,qi,function(){var r=e.facade;ah?N0.emit("rejectionHandled",r):rj(V0e,r,e.value)})},Bu=function(e,r,n){return function(i){e(r,i,n)}},Lu=function(e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=W0e,$0(e,!0))},ij=function t(e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===r)throw GU("Promise can't be resolved itself");var i=tj(r);i?$U(function(){var a={done:!1};try{Ri(i,r,Bu(t,a,e),Bu(Lu,a,e))}catch(o){Lu(a,o,e)}}):(e.value=r,e.state=JU,$0(e,!1))}catch(a){Lu({done:!1},a,e)}}};if(Oc&&(Mr=function(e){k0e(this,Mu),D0(e),Ri(oh,this);var r=WU(this);try{e(Bu(ij,r),Bu(Lu,r))}catch(n){Lu(r,n)}},Mu=Mr.prototype,oh=function(e){L0e(this,{type:Un,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:XU,value:void 0})},oh.prototype=E0e(Mu,{then:function(e,r){var n=z0e(this),i=n.reactions,a=Nu(C0e(this,Mr));return a.ok=Sc(e)?e:!0,a.fail=Sc(r)&&r,a.domain=ah?N0.domain:void 0,n.parent=!0,i[i.length]=a,n.state!=XU&&$0(n,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),ZU=function(){var e=new oh,r=WU(e);this.promise=e,this.resolve=Bu(ij,r),this.reject=Bu(Lu,r)},HU.f=Nu=function(e){return e===Mr||e===z0?new ZU(e):$0e(e)},!nh&&Sc(ih)&&wo!==Object.prototype)){ej=wo.then,L0||(NU(wo,"then",function(e,r){var n=this;return new Mr(function(i,a){Ri(ej,n,i,a)}).then(e,r)},{unsafe:!0}),NU(wo,"catch",Mu.catch,{unsafe:!0}));try{delete wo.constructor}catch(t){}BU&&BU(wo,Mu)}rh({global:!0,wrap:!0,forced:Oc},{Promise:Mr});T0e(Mr,Un,!1,!0);A0e(Un);z0=R0e(Un);rh({target:Un,stat:!0,forced:Oc},{reject:function(e){var r=Nu(this);return Ri(r.reject,void 0,e),r.promise}});rh({target:Un,stat:!0,forced:nh||Oc},{resolve:function(e){return D0e(nh&&this===z0?Mr:this,e)}});rh({target:Un,stat:!0,forced:G0e},{all:function(e){var r=this,n=Nu(r),i=n.resolve,a=n.reject,o=U0(function(){var u=D0(r.resolve),s=[],l=0,c=1;LU(e,function(f){var p=l++,d=!1;c++,Ri(u,r,f).then(function(v){d||(d=!0,s[p]=v,--c||i(s))},a)}),--c||i(s)});return o.error&&a(o.value),n.promise},race:function(e){var r=this,n=Nu(r),i=n.reject,a=U0(function(){var o=D0(r.resolve);LU(e,function(u){Ri(o,r,u).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}})});var H0=h(function(){"use strict";var X0e=P(),J0e=le(),Q0e=de(),Z0e=ju(),eSe=wc(),tSe=ge();X0e({target:"Promise",stat:!0},{allSettled:function(e){var r=this,n=Z0e.f(r),i=n.resolve,a=n.reject,o=eSe(function(){var u=Q0e(r.resolve),s=[],l=0,c=1;tSe(e,function(f){var p=l++,d=!1;c++,J0e(u,r,f).then(function(v){d||(d=!0,s[p]={status:"fulfilled",value:v},--c||i(s))},function(v){d||(d=!0,s[p]={status:"rejected",reason:v},--c||i(s))})}),--c||i(s)});return o.error&&a(o.value),n.promise}})});var V0=h(function(){"use strict";var rSe=P(),nSe=de(),iSe=xe(),aSe=le(),oSe=ju(),uSe=wc(),sSe=ge(),oj="No one promise resolved";rSe({target:"Promise",stat:!0},{any:function(e){var r=this,n=iSe("AggregateError"),i=oSe.f(r),a=i.resolve,o=i.reject,u=uSe(function(){var s=nSe(r.resolve),l=[],c=0,f=1,p=!1;sSe(e,function(d){var v=c++,g=!1;f++,aSe(s,r,d).then(function(m){g||p||(p=!0,a(m))},function(m){g||p||(g=!0,l[v]=m,--f||o(new n(l,oj)))})}),--f||o(new n(l,oj))});return u.error&&o(u.value),i.promise}})});var lSe,cSe,Pc,fSe,uj,sj,pSe,lj,dSe,hSe,W0,cj=S(function(){"use strict";lSe=P(),cSe=he(),Pc=g0(),fSe=oe(),uj=xe(),sj=Ee(),pSe=Zt(),lj=F0(),dSe=st(),hSe=!!Pc&&fSe(function(){Pc.prototype.finally.call({then:function(){}},function(){})});lSe({target:"Promise",proto:!0,real:!0,forced:hSe},{finally:function(e){var r=pSe(this,uj("Promise")),n=sj(e);return this.then(n?function(i){return lj(r,e()).then(function(){return i})}:e,n?function(i){return lj(r,e()).then(function(){throw i})}:e)}});!cSe&&sj(Pc)&&(W0=uj("Promise").prototype.finally,Pc.prototype.finally!==W0&&dSe(Pc.prototype,"finally",W0,{unsafe:!0}))});var vSe,ySe,gSe,mSe,bSe,_Se,fj=S(function(){vSe=P(),ySe=Ke(),gSe=de(),mSe=W(),bSe=oe(),_Se=!bSe(function(){Reflect.apply(function(){})});vSe({target:"Reflect",stat:!0,forced:_Se},{apply:function(e,r,n){return ySe(gSe(e),r,mSe(n))}})});var yj=h(function(Wht,vj){"use strict";var wSe=z(),pj=ae(),SSe=de(),OSe=we(),PSe=Le(),dj=oa(),hj=wSe.Function,qSe=pj([].concat),RSe=pj([].join),G0={},ESe=function(e,r,n){if(!PSe(G0,r)){for(var i=[],a=0;a<r;a++)i[a]="a["+a+"]";G0[r]=hj("C,a","return new C("+RSe(i,",")+")")}return G0[r](e,n)};vj.exports=hj.bind||function(e){var r=SSe(this),n=r.prototype,i=dj(arguments,1),a=function(){var u=qSe(i,dj(arguments));return this instanceof a?ESe(r,u.length,u):r.apply(e,u)};return OSe(n)&&(a.prototype=n),a}});var TSe,ASe,K0,ISe,gj,kSe,mj,xSe,bj,Y0,FSe,CSe,_j,wj,Sj,Oj=S(function(){TSe=P(),ASe=xe(),K0=Ke(),ISe=yj(),gj=vc(),kSe=W(),mj=we(),xSe=Dt(),bj=oe(),Y0=ASe("Reflect","construct"),FSe=Object.prototype,CSe=[].push,_j=bj(function(){function t(){}return!(Y0(function(){},[],t)instanceof t)}),wj=!bj(function(){Y0(function(){})}),Sj=_j||wj;TSe({target:"Reflect",stat:!0,forced:Sj,sham:Sj},{construct:function(e,r){gj(e),kSe(r);var n=arguments.length<3?e:gj(arguments[2]);if(wj&&!_j)return Y0(e,r,n);if(e==n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var i=[null];return K0(CSe,i,r),new(K0(ISe,e,i))}var a=n.prototype,o=xSe(mj(a)?a:FSe),u=K0(e,o,r);return mj(u)?u:o}})});var DSe,USe,Pj,jSe,qj,MSe,NSe,Rj=S(function(){DSe=P(),USe=Re(),Pj=W(),jSe=di(),qj=Ne(),MSe=oe(),NSe=MSe(function(){Reflect.defineProperty(qj.f({},1,{value:1}),1,{value:2})});DSe({target:"Reflect",stat:!0,forced:NSe,sham:!USe},{defineProperty:function(e,r,n){Pj(e);var i=jSe(r);Pj(n);try{return qj.f(e,i,n),!0}catch(a){return!1}}})});var BSe,LSe,zSe,Ej=S(function(){BSe=P(),LSe=W(),zSe=Ct().f;BSe({target:"Reflect",stat:!0},{deleteProperty:function(e,r){var n=zSe(LSe(e),r);return n&&!n.configurable?!1:delete e[r]}})});var X0=h(function(Ght,Aj){var Tj=Le();Aj.exports=function(t){return t!==void 0&&(Tj(t,"value")||Tj(t,"writable"))}});function Ij(t,e){var r=arguments.length<3?t:arguments[2],n,i;if(WSe(t)===r)return t[e];if(n=KSe.f(t,e),n)return GSe(n)?n.value:n.get===void 0?void 0:HSe(n.get,r);if(VSe(i=YSe(t)))return Ij(i,e,r)}var $Se,HSe,VSe,WSe,GSe,KSe,YSe,kj=S(function(){$Se=P(),HSe=le(),VSe=we(),WSe=W(),GSe=X0(),KSe=Ct(),YSe=Ut();$Se({target:"Reflect",stat:!0},{get:Ij})});var XSe,JSe,QSe,ZSe,xj=S(function(){XSe=P(),JSe=Re(),QSe=W(),ZSe=Ct();XSe({target:"Reflect",stat:!0,sham:!JSe},{getOwnPropertyDescriptor:function(e,r){return ZSe.f(QSe(e),r)}})});var eOe,tOe,rOe,nOe,Fj=S(function(){eOe=P(),tOe=W(),rOe=Ut(),nOe=vd();eOe({target:"Reflect",stat:!0,sham:!nOe},{getPrototypeOf:function(e){return rOe(tOe(e))}})});var iOe,Cj=S(function(){iOe=P();iOe({target:"Reflect",stat:!0},{has:function(e,r){return r in e}})});var aOe,oOe,uOe,Dj=S(function(){aOe=P(),oOe=W(),uOe=ic();aOe({target:"Reflect",stat:!0},{isExtensible:function(e){return oOe(e),uOe(e)}})});var sOe,lOe,Uj=S(function(){sOe=P(),lOe=Zp();sOe({target:"Reflect",stat:!0},{ownKeys:lOe})});var cOe,fOe,pOe,dOe,jj=S(function(){cOe=P(),fOe=xe(),pOe=W(),dOe=Fu();cOe({target:"Reflect",stat:!0,sham:!dOe},{preventExtensions:function(e){pOe(e);try{var r=fOe("Object","preventExtensions");return r&&r(e),!0}catch(n){return!1}}})});function Lj(t,e,r){var n=arguments.length<4?t:arguments[3],i=Nj.f(yOe(t),e),a,o,u;if(!i){if(Mj(o=bOe(t)))return Lj(o,e,r,n);i=Bj(0)}if(gOe(i)){if(i.writable===!1||!Mj(n))return!1;if(a=Nj.f(n,e)){if(a.get||a.set||a.writable===!1)return!1;a.value=r,J0.f(n,e,a)}else J0.f(n,e,Bj(0,r))}else{if(u=i.set,u===void 0)return!1;vOe(u,n,r)}return!0}var hOe,vOe,yOe,Mj,gOe,mOe,J0,Nj,bOe,Bj,_Oe,zj=S(function(){hOe=P(),vOe=le(),yOe=W(),Mj=we(),gOe=X0(),mOe=oe(),J0=Ne(),Nj=Ct(),bOe=Ut(),Bj=ln();_Oe=mOe(function(){var t=function(){},e=J0.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,e)!==!1});hOe({target:"Reflect",stat:!0,forced:_Oe},{set:Lj})});var wOe,SOe,OOe,$j,Hj=S(function(){wOe=P(),SOe=W(),OOe=rw(),$j=_i();$j&&wOe({target:"Reflect",stat:!0},{setPrototypeOf:function(e,r){SOe(e),OOe(r);try{return $j(e,r),!0}catch(n){return!1}}})});var POe,qOe,ROe,Vj=S(function(){POe=P(),qOe=z(),ROe=Dr();POe({global:!0},{Reflect:{}});ROe(qOe.Reflect,"Reflect",!0)});var zu=h(function(Kht,Wj){var EOe=we(),TOe=lr(),AOe=be(),IOe=AOe("match");Wj.exports=function(t){var e;return EOe(t)&&((e=t[IOe])!==void 0?!!e:TOe(t)=="RegExp")}});var So=h(function(Yht,Gj){"use strict";var kOe=W();Gj.exports=function(){var t=kOe(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}});var qc=h(function(Xht,Kj){var Q0=oe(),xOe=z(),Z0=xOe.RegExp,eS=Q0(function(){var t=Z0("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),FOe=eS||Q0(function(){return!Z0("a","y").sticky}),COe=eS||Q0(function(){var t=Z0("^r","gy");return t.lastIndex=2,t.exec("str")!=null});Kj.exports={BROKEN_CARET:COe,MISSED_STICKY:FOe,UNSUPPORTED_Y:eS}});var uh=h(function(Jht,Yj){var DOe=oe(),UOe=z(),jOe=UOe.RegExp;Yj.exports=DOe(function(){var t=jOe(".","s");return!(t.dotAll&&t.exec("\n")&&t.flags==="s")})});var tS=h(function(Qht,Xj){var MOe=oe(),NOe=z(),BOe=NOe.RegExp;Xj.exports=MOe(function(){var t=BOe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"})});var LOe,rS,$u,zOe,$Oe,HOe,VOe,WOe,Jj,GOe,Qj,KOe,Zj,YOe,XOe,JOe,QOe,ZOe,e1e,e5,t5,t1e,Ei,Hu,r1e,n1e,i1e,sh,r5,n5,a1e,o1e,Oo,nS,u1e,i5,s1e,l1e,c1e,f1e,Ti,a5,iS,aS,o5=S(function(){LOe=Re(),rS=z(),$u=ae(),zOe=Pu(),$Oe=ac(),HOe=Et(),VOe=Ne().f,WOe=vi().f,Jj=Qt(),GOe=zu(),Qj=Be(),KOe=So(),Zj=qc(),YOe=st(),XOe=oe(),JOe=Le(),QOe=We().enforce,ZOe=pa(),e1e=be(),e5=uh(),t5=tS(),t1e=e1e("match"),Ei=rS.RegExp,Hu=Ei.prototype,r1e=rS.SyntaxError,n1e=$u(KOe),i1e=$u(Hu.exec),sh=$u("".charAt),r5=$u("".replace),n5=$u("".indexOf),a1e=$u("".slice),o1e=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Oo=/a/g,nS=/a/g,u1e=new Ei(Oo)!==Oo,i5=Zj.MISSED_STICKY,s1e=Zj.UNSUPPORTED_Y,l1e=LOe&&(!u1e||i5||e5||t5||XOe(function(){return nS[t1e]=!1,Ei(Oo)!=Oo||Ei(nS)==nS||Ei(Oo,"i")!="/a/i"})),c1e=function(e){for(var r=e.length,n=0,i="",a=!1,o;n<=r;n++){if(o=sh(e,n),o==="\\"){i+=o+sh(e,++n);continue}!a&&o==="."?i+="[\\s\\S]":(o==="["?a=!0:o==="]"&&(a=!1),i+=o)}return i},f1e=function(e){for(var r=e.length,n=0,i="",a=[],o={},u=!1,s=!1,l=0,c="",f;n<=r;n++){if(f=sh(e,n),f==="\\")f=f+sh(e,++n);else if(f==="]")u=!1;else if(!u)switch(!0){case f==="[":u=!0;break;case f==="(":i1e(o1e,a1e(e,n+1))&&(n+=2,s=!0),i+=f,l++;continue;case(f===">"&&s):if(c===""||JOe(o,c))throw new r1e("Invalid capture group name");o[c]=!0,a[a.length]=[c,l],s=!1,c="";continue}s?c+=f:i+=f}return[i,a]};if(zOe("RegExp",l1e)){for(Ti=function(e,r){var n=Jj(Hu,this),i=GOe(e),a=r===void 0,o=[],u=e,s,l,c,f,p,d;if(!n&&i&&a&&e.constructor===Ti)return e;if((i||Jj(Hu,e))&&(e=e.source,a&&(r="flags"in u?u.flags:n1e(u))),e=e===void 0?"":Qj(e),r=r===void 0?"":Qj(r),u=e,e5&&"dotAll"in Oo&&(l=!!r&&n5(r,"s")>-1,l&&(r=r5(r,/s/g,""))),s=r,i5&&"sticky"in Oo&&(c=!!r&&n5(r,"y")>-1,c&&s1e&&(r=r5(r,/y/g,""))),t5&&(f=f1e(e),e=f[0],o=f[1]),p=$Oe(Ei(e,r),n?this:Hu,Ti),(l||c||o.length)&&(d=QOe(p),l&&(d.dotAll=!0,d.raw=Ti(c1e(e),s)),c&&(d.sticky=!0),o.length&&(d.groups=o)),e!==u)try{HOe(p,"source",u===""?"(?:)":u)}catch(v){}return p},a5=function(e){e in Ti||VOe(Ti,e,{configurable:!0,get:function(){return Ei[e]},set:function(n){Ei[e]=n}})},iS=WOe(Ei),aS=0;iS.length>aS;)a5(iS[aS++]);Hu.constructor=Ti,Ti.prototype=Hu,YOe(rS,"RegExp",Ti)}ZOe("RegExp")});var p1e,d1e,h1e,v1e,y1e,g1e,u5,m1e,s5=S(function(){p1e=z(),d1e=Re(),h1e=uh(),v1e=lr(),y1e=Ne().f,g1e=We().get,u5=RegExp.prototype,m1e=p1e.TypeError;d1e&&h1e&&y1e(u5,"dotAll",{configurable:!0,get:function(){if(this!==u5){if(v1e(this)==="RegExp")return!!g1e(this).dotAll;throw m1e("Incompatible receiver, RegExp required")}}})});var Rc=h(function(Zht,c5){"use strict";var Vu=le(),lh=ae(),b1e=Be(),_1e=So(),w1e=qc(),S1e=_u(),O1e=Dt(),P1e=We().get,q1e=uh(),R1e=tS(),E1e=S1e("native-string-replace",String.prototype.replace),ch=RegExp.prototype.exec,oS=ch,T1e=lh("".charAt),A1e=lh("".indexOf),I1e=lh("".replace),uS=lh("".slice),sS=function(){var t=/a/,e=/b*/g;return Vu(ch,t,"a"),Vu(ch,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),l5=w1e.BROKEN_CARET,lS=/()??/.exec("")[1]!==void 0,k1e=sS||lS||l5||q1e||R1e;k1e&&(oS=function(e){var r=this,n=P1e(r),i=b1e(e),a=n.raw,o,u,s,l,c,f,p;if(a)return a.lastIndex=r.lastIndex,o=Vu(oS,a,i),r.lastIndex=a.lastIndex,o;var d=n.groups,v=l5&&r.sticky,g=Vu(_1e,r),m=r.source,_=0,O=i;if(v&&(g=I1e(g,"y",""),A1e(g,"g")===-1&&(g+="g"),O=uS(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&T1e(i,r.lastIndex-1)!=="\n")&&(m="(?: "+m+")",O=" "+O,_++),u=new RegExp("^(?:"+m+")",g)),lS&&(u=new RegExp("^"+m+"$(?!\\s)",g)),sS&&(s=r.lastIndex),l=Vu(ch,v?u:r,O),v?l?(l.input=uS(l.input,_),l[0]=uS(l[0],_),l.index=r.lastIndex,r.lastIndex+=l[0].length):r.lastIndex=0:sS&&l&&(r.lastIndex=r.global?l.index+l[0].length:s),lS&&l&&l.length>1&&Vu(E1e,l[0],u,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(l[c]=void 0)}),l&&d)for(l.groups=f=O1e(null),c=0;c<d.length;c++)p=d[c],f[p[0]]=l[p[1]];return l});c5.exports=oS});var fh=h(function(){"use strict";var x1e=P(),f5=Rc();x1e({target:"RegExp",proto:!0,forced:/./.exec!==f5},{exec:f5})});var F1e,C1e,D1e,U1e,p5,j1e,d5=S(function(){F1e=Re(),C1e=Ne(),D1e=So(),U1e=oe(),p5=RegExp.prototype,j1e=F1e&&U1e(function(){return Object.getOwnPropertyDescriptor(p5,"flags").get.call({dotAll:!0,sticky:!0})!=="sy"});j1e&&C1e.f(p5,"flags",{configurable:!0,get:D1e})});var M1e,N1e,B1e,L1e,z1e,$1e,h5,H1e,v5=S(function(){M1e=z(),N1e=Re(),B1e=qc().MISSED_STICKY,L1e=lr(),z1e=Ne().f,$1e=We().get,h5=RegExp.prototype,H1e=M1e.TypeError;N1e&&B1e&&z1e(h5,"sticky",{configurable:!0,get:function(){if(this!==h5){if(L1e(this)==="RegExp")return!!$1e(this).sticky;throw H1e("Incompatible receiver, RegExp required")}}})});var V1e,W1e,G1e,K1e,Y1e,X1e,J1e,Q1e,Z1e,y5=S(function(){"use strict";fh();V1e=P(),W1e=z(),G1e=le(),K1e=ae(),Y1e=Ee(),X1e=we(),J1e=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&t}(),Q1e=W1e.Error,Z1e=K1e(/./.test);V1e({target:"RegExp",proto:!0,forced:!J1e},{test:function(e){var r=this.exec;if(!Y1e(r))return Z1e(this,e);var n=G1e(r,this,e);if(n!==null&&!X1e(n))throw new Q1e("RegExp exec method returned something other than an Object or null");return!!n}})});var ePe,tPe,rPe,nPe,iPe,g5,aPe,oPe,cS,fS,m5,uPe,sPe,lPe,b5=S(function(){"use strict";ePe=ae(),tPe=ia().PROPER,rPe=st(),nPe=W(),iPe=Qt(),g5=Be(),aPe=oe(),oPe=So(),cS="toString",fS=RegExp.prototype,m5=fS[cS],uPe=ePe(oPe),sPe=aPe(function(){return m5.call({source:"a",flags:"b"})!="/a/b"}),lPe=tPe&&m5.name!=cS;(sPe||lPe)&&rPe(RegExp.prototype,cS,function(){var e=nPe(this),r=g5(e.source),n=e.flags,i=g5(n===void 0&&iPe(fS,e)&&!("flags"in fS)?uPe(e):n);return"/"+r+"/"+i},{unsafe:!0})});var cPe,fPe,_5=S(function(){"use strict";cPe=oc(),fPe=Hw();cPe("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},fPe)});var Po=h(function(rvt,O5){var pS=ae(),pPe=Vt(),dPe=Be(),hPe=Rt(),vPe=pS("".charAt),w5=pS("".charCodeAt),yPe=pS("".slice),S5=function(e){return function(r,n){var i=dPe(hPe(r)),a=pPe(n),o=i.length,u,s;return a<0||a>=o?e?"":void 0:(u=w5(i,a),u<55296||u>56319||a+1===o||(s=w5(i,a+1))<56320||s>57343?e?vPe(i,a):u:e?yPe(i,a,a+2):(u-55296<<10)+(s-56320)+65536)}};O5.exports={codeAt:S5(!1),charAt:S5(!0)}});var gPe,mPe,P5=S(function(){"use strict";gPe=P(),mPe=Po().codeAt;gPe({target:"String",proto:!0},{codePointAt:function(e){return mPe(this,e)}})});var ph=h(function(nvt,q5){var bPe=z(),_Pe=zu(),wPe=bPe.TypeError;q5.exports=function(t){if(_Pe(t))throw wPe("The method doesn't accept regular expressions");return t}});var dh=h(function(ivt,R5){var SPe=be(),OPe=SPe("match");R5.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[OPe]=!1,"/./"[t](e)}catch(n){}}return!1}});var PPe,E5,qPe,RPe,T5,EPe,TPe,APe,IPe,A5,kPe,xPe,I5,FPe,k5=S(function(){"use strict";PPe=P(),E5=ae(),qPe=Ct().f,RPe=_r(),T5=Be(),EPe=ph(),TPe=Rt(),APe=dh(),IPe=he(),A5=E5("".endsWith),kPe=E5("".slice),xPe=Math.min,I5=APe("endsWith"),FPe=!IPe&&!I5&&!!function(){var t=qPe(String.prototype,"endsWith");return t&&!t.writable}();PPe({target:"String",proto:!0,forced:!FPe&&!I5},{endsWith:function(e){var r=T5(TPe(this));EPe(e);var n=arguments.length>1?arguments[1]:void 0,i=r.length,a=n===void 0?i:xPe(RPe(n),i),o=T5(e);return A5?A5(r,o,a):kPe(r,a-o.length,a)===o}})});var CPe,DPe,UPe,jPe,MPe,x5,F5,NPe,BPe,C5=S(function(){CPe=P(),DPe=z(),UPe=ae(),jPe=hi(),MPe=DPe.RangeError,x5=String.fromCharCode,F5=String.fromCodePoint,NPe=UPe([].join),BPe=!!F5&&F5.length!=1;CPe({target:"String",stat:!0,forced:BPe},{fromCodePoint:function(e){for(var r=[],n=arguments.length,i=0,a;n>i;){if(a=+arguments[i++],jPe(a,1114111)!==a)throw MPe(a+" is not a valid code point");r[i]=a<65536?x5(a):x5(((a-=65536)>>10)+55296,a%1024+56320)}return NPe(r,"")}})});var LPe,zPe,$Pe,HPe,D5,VPe,WPe,U5=S(function(){"use strict";LPe=P(),zPe=ae(),$Pe=ph(),HPe=Rt(),D5=Be(),VPe=dh(),WPe=zPe("".indexOf);LPe({target:"String",proto:!0,forced:!VPe("includes")},{includes:function(e){return!!~WPe(D5(HPe(this)),D5($Pe(e)),arguments.length>1?arguments[1]:void 0)}})});var dS=h(function(){"use strict";var GPe=Po().charAt,KPe=Be(),j5=We(),YPe=Ed(),M5="String Iterator",XPe=j5.set,JPe=j5.getterFor(M5);YPe(String,"String",function(t){XPe(this,{type:M5,string:KPe(t),index:0})},function(){var e=JPe(this),r=e.string,n=e.index,i;return n>=r.length?{value:void 0,done:!0}:(i=GPe(r,n),e.index+=i.length,{value:i,done:!1})})});var Ec=h(function(uvt,$5){"use strict";fh();var N5=ae(),B5=st(),QPe=Rc(),L5=oe(),z5=be(),ZPe=Et(),eqe=z5("species"),hS=RegExp.prototype;$5.exports=function(t,e,r,n){var i=z5(t),a=!L5(function(){var l={};return l[i]=function(){return 7},""[t](l)!=7}),o=a&&!L5(function(){var l=!1,c=/a/;return t==="split"&&(c={},c.constructor={},c.constructor[eqe]=function(){return c},c.flags="",c[i]=/./[i]),c.exec=function(){return l=!0,null},c[i](""),!l});if(!a||!o||r){var u=N5(/./[i]),s=e(i,""[t],function(l,c,f,p,d){var v=N5(l),g=c.exec;return g===QPe||g===hS.exec?a&&!d?{done:!0,value:u(c,f,p)}:{done:!0,value:v(f,c,p)}:{done:!1}});B5(String.prototype,t,s[0]),B5(hS,i,s[1])}n&&ZPe(hS[i],"sham",!0)}});var Tc=h(function(svt,H5){"use strict";var tqe=Po().charAt;H5.exports=function(t,e,r){return e+(r?tqe(t,e).length:1)}});var Wu=h(function(lvt,W5){var rqe=z(),V5=le(),nqe=W(),iqe=Ee(),aqe=lr(),oqe=Rc(),uqe=rqe.TypeError;W5.exports=function(t,e){var r=t.exec;if(iqe(r)){var n=V5(r,t,e);return n!==null&&nqe(n),n}if(aqe(t)==="RegExp")return V5(oqe,t,e);throw uqe("RegExp#exec called on incompatible receiver")}});var sqe,lqe,cqe,fqe,vS,pqe,dqe,hqe,G5,K5=S(function(){"use strict";sqe=le(),lqe=Ec(),cqe=W(),fqe=_r(),vS=Be(),pqe=Rt(),dqe=Ft(),hqe=Tc(),G5=Wu();lqe("match",function(t,e,r){return[function(i){var a=pqe(this),o=i==null?void 0:dqe(i,t);return o?sqe(o,i,a):new RegExp(i)[t](vS(a))},function(n){var i=cqe(this),a=vS(n),o=r(e,i,a);if(o.done)return o.value;if(!i.global)return G5(i,a);var u=i.unicode;i.lastIndex=0;for(var s=[],l=0,c;(c=G5(i,a))!==null;){var f=vS(c[0]);s[l]=f,f===""&&(i.lastIndex=hqe(a,fqe(i.lastIndex),u)),l++}return l===0?null:s}]})});var wS=h(function(){"use strict";var vqe=P(),yqe=z(),Y5=le(),yS=ae(),gqe=ca(),X5=Rt(),J5=_r(),Ac=Be(),mqe=W(),bqe=lr(),_qe=Qt(),wqe=zu(),Sqe=So(),Oqe=Ft(),Pqe=st(),qqe=oe(),Rqe=be(),Eqe=Zt(),Tqe=Tc(),Aqe=Wu(),Q5=We(),gS=he(),hh=Rqe("matchAll"),Z5="RegExp String",eM=Z5+" Iterator",Iqe=Q5.set,kqe=Q5.getterFor(eM),Ic=RegExp.prototype,xqe=yqe.TypeError,tM=yS(Sqe),mS=yS("".indexOf),vh=yS("".matchAll),bS=!!vh&&!qqe(function(){vh("a",/./)}),Fqe=gqe(function(e,r,n,i){Iqe(this,{type:eM,regexp:e,string:r,global:n,unicode:i,done:!1})},Z5,function(){var e=kqe(this);if(e.done)return{value:void 0,done:!0};var r=e.regexp,n=e.string,i=Aqe(r,n);return i===null?{value:void 0,done:e.done=!0}:e.global?(Ac(i[0])===""&&(r.lastIndex=Tqe(n,J5(r.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})}),_S=function(e){var r=mqe(this),n=Ac(e),i,a,o,u,s,l;return i=Eqe(r,RegExp),a=r.flags,a===void 0&&_qe(Ic,r)&&!("flags"in Ic)&&(a=tM(r)),o=a===void 0?"":Ac(a),u=new i(i===RegExp?r.source:r,o),s=!!~mS(o,"g"),l=!!~mS(o,"u"),u.lastIndex=J5(r.lastIndex),new Fqe(u,n,s,l)};vqe({target:"String",proto:!0,forced:bS},{matchAll:function(e){var r=X5(this),n,i,a,o;if(e!=null){if(wqe(e)&&(n=Ac(X5("flags"in Ic?e.flags:tM(e))),!~mS(n,"g")))throw xqe("`.matchAll` does not allow non-global regexes");if(bS)return vh(r,e);if(a=Oqe(e,hh),a===void 0&&gS&&bqe(e)=="RegExp"&&(a=_S),a)return Y5(a,e,r)}else if(bS)return vh(r,e);return i=Ac(r),o=new RegExp(e,"g"),gS?Y5(_S,o,i):o[hh](i)}});gS||hh in Ic||Pqe(Ic,hh,_S)});var SS=h(function(pvt,aM){var rM=ae(),Cqe=_r(),nM=Be(),Dqe=Jd(),Uqe=Rt(),jqe=rM(Dqe),Mqe=rM("".slice),Nqe=Math.ceil,iM=function(e){return function(r,n,i){var a=nM(Uqe(r)),o=Cqe(n),u=a.length,s=i===void 0?" ":nM(i),l,c;return o<=u||s==""?a:(l=o-u,c=jqe(s,Nqe(l/s.length)),c.length>l&&(c=Mqe(c,0,l)),e?a+c:c+a)}};aM.exports={start:iM(!1),end:iM(!0)}});var OS=h(function(dvt,oM){var Bqe=pi();oM.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Bqe)});var Lqe,zqe,$qe,uM=S(function(){"use strict";Lqe=P(),zqe=SS().end,$qe=OS();Lqe({target:"String",proto:!0,forced:$qe},{padEnd:function(e){return zqe(this,e,arguments.length>1?arguments[1]:void 0)}})});var Hqe,Vqe,Wqe,sM=S(function(){"use strict";Hqe=P(),Vqe=SS().start,Wqe=OS();Hqe({target:"String",proto:!0,forced:Wqe},{padStart:function(e){return Vqe(this,e,arguments.length>1?arguments[1]:void 0)}})});var Gqe,lM,Kqe,Yqe,cM,Xqe,fM,Jqe,pM=S(function(){Gqe=P(),lM=ae(),Kqe=Jt(),Yqe=Fe(),cM=Be(),Xqe=Ge(),fM=lM([].push),Jqe=lM([].join);Gqe({target:"String",stat:!0},{raw:function(e){for(var r=Kqe(Yqe(e).raw),n=Xqe(r),i=arguments.length,a=[],o=0;n>o;){if(fM(a,cM(r[o++])),o===n)return Jqe(a,"");o<i&&fM(a,cM(arguments[o]))}}})});var Qqe,Zqe,dM=S(function(){Qqe=P(),Zqe=Jd();Qqe({target:"String",proto:!0},{repeat:Zqe})});var ES=h(function(hvt,hM){var PS=ae(),eRe=Fe(),tRe=Math.floor,qS=PS("".charAt),rRe=PS("".replace),RS=PS("".slice),nRe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,iRe=/\$([$&'`]|\d{1,2})/g;hM.exports=function(t,e,r,n,i,a){var o=r+t.length,u=n.length,s=iRe;return i!==void 0&&(i=eRe(i),s=nRe),rRe(a,s,function(l,c){var f;switch(qS(c,0)){case"$":return"$";case"&":return t;case"`":return RS(e,0,r);case"'":return RS(e,o);case"<":f=i[RS(c,1,-1)];break;default:var p=+c;if(p===0)return l;if(p>u){var d=tRe(p/10);return d===0?l:d<=u?n[d-1]===void 0?qS(c,1):n[d-1]+qS(c,1):l}f=n[p-1]}return f===void 0?"":f})}});var aRe,vM,yh,oRe,uRe,sRe,lRe,cRe,fRe,Gu,pRe,dRe,hRe,vRe,yRe,gRe,TS,mRe,bRe,_Re,AS,yM,gM,wRe,SRe,mM,ORe,bM=S(function(){"use strict";aRe=Ke(),vM=le(),yh=ae(),oRe=Ec(),uRe=oe(),sRe=W(),lRe=Ee(),cRe=Vt(),fRe=_r(),Gu=Be(),pRe=Rt(),dRe=Tc(),hRe=Ft(),vRe=ES(),yRe=Wu(),gRe=be(),TS=gRe("replace"),mRe=Math.max,bRe=Math.min,_Re=yh([].concat),AS=yh([].push),yM=yh("".indexOf),gM=yh("".slice),wRe=function(e){return e===void 0?e:String(e)},SRe=function(){return"a".replace(/./,"$0")==="$0"}(),mM=function(){return/./[TS]?/./[TS]("a","$0")==="":!1}(),ORe=!uRe(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});oRe("replace",function(t,e,r){var n=mM?"$":"$0";return[function(a,o){var u=pRe(this),s=a==null?void 0:hRe(a,TS);return s?vM(s,a,u,o):vM(e,Gu(u),a,o)},function(i,a){var o=sRe(this),u=Gu(i);if(typeof a=="string"&&yM(a,n)===-1&&yM(a,"$<")===-1){var s=r(e,o,u,a);if(s.done)return s.value}var l=lRe(a);l||(a=Gu(a));var c=o.global;if(c){var f=o.unicode;o.lastIndex=0}for(var p=[];;){var d=yRe(o,u);if(d===null||(AS(p,d),!c))break;var v=Gu(d[0]);v===""&&(o.lastIndex=dRe(u,fRe(o.lastIndex),f))}for(var g="",m=0,_=0;_<p.length;_++){d=p[_];for(var O=Gu(d[0]),E=mRe(bRe(cRe(d.index),u.length),0),F=[],j=1;j<d.length;j++)AS(F,wRe(d[j]));var C=d.groups;if(l){var Y=_Re([O],F,E,u);C!==void 0&&AS(Y,C);var ie=Gu(aRe(a,void 0,Y))}else ie=vRe(O,u,E,F,C,a);E>=m&&(g+=gM(u,m,E)+ie,m=E+O.length)}return g+gM(u,m)}]},!ORe||!SRe||mM)});var IS=h(function(){"use strict";var PRe=P(),qRe=z(),RRe=le(),gh=ae(),_M=Rt(),ERe=Ee(),TRe=zu(),Ku=Be(),ARe=Ft(),IRe=So(),kRe=ES(),xRe=be(),FRe=he(),CRe=xRe("replace"),DRe=RegExp.prototype,URe=qRe.TypeError,jRe=gh(IRe),wM=gh("".indexOf),MRe=gh("".replace),SM=gh("".slice),NRe=Math.max,OM=function(e,r,n){return n>e.length?-1:r===""?n:wM(e,r,n)};PRe({target:"String",proto:!0},{replaceAll:function(e,r){var n=_M(this),i,a,o,u,s,l,c,f,p,d=0,v=0,g="";if(e!=null){if(i=TRe(e),i&&(a=Ku(_M("flags"in DRe?e.flags:jRe(e))),!~wM(a,"g")))throw URe("`.replaceAll` does not allow non-global regexes");if(o=ARe(e,CRe),o)return RRe(o,e,n,r);if(FRe&&i)return MRe(Ku(n),e,r)}for(u=Ku(n),s=Ku(e),l=ERe(r),l||(r=Ku(r)),c=s.length,f=NRe(1,c),d=OM(u,s,0);d!==-1;)p=l?Ku(r(s,d,u)):kRe(s,u,d,[],void 0,r),g+=SM(u,v,d)+p,v=d+c,d=OM(u,s,d+f);return v<u.length&&(g+=SM(u,v)),g}})});var BRe,LRe,zRe,$Re,PM,qM,HRe,VRe,RM=S(function(){"use strict";BRe=le(),LRe=Ec(),zRe=W(),$Re=Rt(),PM=p0(),qM=Be(),HRe=Ft(),VRe=Wu();LRe("search",function(t,e,r){return[function(i){var a=$Re(this),o=i==null?void 0:HRe(i,t);return o?BRe(o,i,a):new RegExp(i)[t](qM(a))},function(n){var i=zRe(this),a=qM(n),o=r(e,i,a);if(o.done)return o.value;var u=i.lastIndex;PM(u,0)||(i.lastIndex=0);var s=VRe(i,a);return PM(i.lastIndex,u)||(i.lastIndex=u),s===null?-1:s.index}]})});var WRe,kc,kS,GRe,KRe,YRe,EM,XRe,JRe,QRe,xS,ZRe,TM,AM,eEe,tEe,rEe,Yu,IM,nEe,kM,iEe,Xu,xc,aEe,xM=S(function(){"use strict";WRe=Ke(),kc=le(),kS=ae(),GRe=Ec(),KRe=zu(),YRe=W(),EM=Rt(),XRe=Zt(),JRe=Tc(),QRe=_r(),xS=Be(),ZRe=Ft(),TM=lo(),AM=Wu(),eEe=Rc(),tEe=qc(),rEe=oe(),Yu=tEe.UNSUPPORTED_Y,IM=4294967295,nEe=Math.min,kM=[].push,iEe=kS(/./.exec),Xu=kS(kM),xc=kS("".slice),aEe=!rEe(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"});GRe("split",function(t,e,r){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(a,o){var u=xS(EM(this)),s=o===void 0?IM:o>>>0;if(s===0)return[];if(a===void 0)return[u];if(!KRe(a))return kc(e,u,a,s);for(var l=[],c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),f=0,p=new RegExp(a.source,c+"g"),d,v,g;(d=kc(eEe,p,u))&&(v=p.lastIndex,!(v>f&&(Xu(l,xc(u,f,d.index)),d.length>1&&d.index<u.length&&WRe(kM,l,TM(d,1)),g=d[0].length,f=v,l.length>=s)));)p.lastIndex===d.index&&p.lastIndex++;return f===u.length?(g||!iEe(p,""))&&Xu(l,""):Xu(l,xc(u,f)),l.length>s?TM(l,0,s):l}:"0".split(void 0,0).length?n=function(a,o){return a===void 0&&o===0?[]:kc(e,this,a,o)}:n=e,[function(a,o){var u=EM(this),s=a==null?void 0:ZRe(a,t);return s?kc(s,a,u,o):kc(n,xS(u),a,o)},function(i,a){var o=YRe(this),u=xS(i),s=r(n,o,u,a,n!==e);if(s.done)return s.value;var l=XRe(o,RegExp),c=o.unicode,f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Yu?"g":"y"),p=new l(Yu?"^(?:"+o.source+")":o,f),d=a===void 0?IM:a>>>0;if(d===0)return[];if(u.length===0)return AM(p,u)===null?[u]:[];for(var v=0,g=0,m=[];g<u.length;){p.lastIndex=Yu?0:g;var _=AM(p,Yu?xc(u,g):u),O;if(_===null||(O=nEe(QRe(p.lastIndex+(Yu?g:0)),u.length))===v)g=JRe(u,g,c);else{if(Xu(m,xc(u,v,g)),m.length===d)return m;for(var E=1;E<=_.length-1;E++)if(Xu(m,_[E]),m.length===d)return m;g=v=O}}return Xu(m,xc(u,v)),m}]},!aEe,Yu)});var oEe,FM,uEe,sEe,CM,lEe,cEe,fEe,pEe,DM,dEe,hEe,UM,vEe,jM=S(function(){"use strict";oEe=P(),FM=ae(),uEe=Ct().f,sEe=_r(),CM=Be(),lEe=ph(),cEe=Rt(),fEe=dh(),pEe=he(),DM=FM("".startsWith),dEe=FM("".slice),hEe=Math.min,UM=fEe("startsWith"),vEe=!pEe&&!UM&&!!function(){var t=uEe(String.prototype,"startsWith");return t&&!t.writable}();oEe({target:"String",proto:!0,forced:!vEe&&!UM},{startsWith:function(e){var r=CM(cEe(this));lEe(e);var n=sEe(hEe(arguments.length>1?arguments[1]:void 0,r.length)),i=CM(e);return DM?DM(r,i,n):dEe(r,n,n+i.length)===i}})});var mh=h(function(gvt,BM){var yEe=ia().PROPER,gEe=oe(),MM=cc(),NM="\u200B\x85\u180E";BM.exports=function(t){return gEe(function(){return!!MM[t]()||NM[t]()!==NM||yEe&&MM[t].name!==t})}});var mEe,bEe,_Ee,LM=S(function(){"use strict";mEe=P(),bEe=yo().trim,_Ee=mh();mEe({target:"String",proto:!0,forced:_Ee("trim")},{trim:function(){return bEe(this)}})});var wEe,SEe,OEe,zM,$M,HM=S(function(){"use strict";wEe=P(),SEe=yo().end,OEe=mh(),zM=OEe("trimEnd"),$M=zM?function(){return SEe(this)}:"".trimEnd;wEe({target:"String",proto:!0,name:"trimEnd",forced:zM},{trimEnd:$M,trimRight:$M})});var PEe,qEe,REe,VM,WM,GM=S(function(){"use strict";PEe=P(),qEe=yo().start,REe=mh(),VM=REe("trimStart"),WM=VM?function(){return qEe(this)}:"".trimStart;PEe({target:"String",proto:!0,name:"trimStart",forced:VM},{trimStart:WM,trimLeft:WM})});var fr=h(function(mvt,YM){var EEe=ae(),TEe=Rt(),KM=Be(),AEe=/"/g,IEe=EEe("".replace);YM.exports=function(t,e,r,n){var i=KM(TEe(t)),a="<"+e;return r!==""&&(a+=" "+r+'="'+IEe(KM(n),AEe,"&quot;")+'"'),a+">"+i+"</"+e+">"}});var pr=h(function(bvt,XM){var kEe=oe();XM.exports=function(t){return kEe(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}});var xEe,FEe,CEe,JM=S(function(){"use strict";xEe=P(),FEe=fr(),CEe=pr();xEe({target:"String",proto:!0,forced:CEe("anchor")},{anchor:function(e){return FEe(this,"a","name",e)}})});var DEe,UEe,jEe,QM=S(function(){"use strict";DEe=P(),UEe=fr(),jEe=pr();DEe({target:"String",proto:!0,forced:jEe("big")},{big:function(){return UEe(this,"big","","")}})});var MEe,NEe,BEe,ZM=S(function(){"use strict";MEe=P(),NEe=fr(),BEe=pr();MEe({target:"String",proto:!0,forced:BEe("blink")},{blink:function(){return NEe(this,"blink","","")}})});var LEe,zEe,$Ee,eN=S(function(){"use strict";LEe=P(),zEe=fr(),$Ee=pr();LEe({target:"String",proto:!0,forced:$Ee("bold")},{bold:function(){return zEe(this,"b","","")}})});var HEe,VEe,WEe,tN=S(function(){"use strict";HEe=P(),VEe=fr(),WEe=pr();HEe({target:"String",proto:!0,forced:WEe("fixed")},{fixed:function(){return VEe(this,"tt","","")}})});var GEe,KEe,YEe,rN=S(function(){"use strict";GEe=P(),KEe=fr(),YEe=pr();GEe({target:"String",proto:!0,forced:YEe("fontcolor")},{fontcolor:function(e){return KEe(this,"font","color",e)}})});var XEe,JEe,QEe,nN=S(function(){"use strict";XEe=P(),JEe=fr(),QEe=pr();XEe({target:"String",proto:!0,forced:QEe("fontsize")},{fontsize:function(e){return JEe(this,"font","size",e)}})});var ZEe,eTe,tTe,iN=S(function(){"use strict";ZEe=P(),eTe=fr(),tTe=pr();ZEe({target:"String",proto:!0,forced:tTe("italics")},{italics:function(){return eTe(this,"i","","")}})});var rTe,nTe,iTe,aN=S(function(){"use strict";rTe=P(),nTe=fr(),iTe=pr();rTe({target:"String",proto:!0,forced:iTe("link")},{link:function(e){return nTe(this,"a","href",e)}})});var aTe,oTe,uTe,oN=S(function(){"use strict";aTe=P(),oTe=fr(),uTe=pr();aTe({target:"String",proto:!0,forced:uTe("small")},{small:function(){return oTe(this,"small","","")}})});var sTe,lTe,cTe,uN=S(function(){"use strict";sTe=P(),lTe=fr(),cTe=pr();sTe({target:"String",proto:!0,forced:cTe("strike")},{strike:function(){return lTe(this,"strike","","")}})});var fTe,pTe,dTe,sN=S(function(){"use strict";fTe=P(),pTe=fr(),dTe=pr();fTe({target:"String",proto:!0,forced:dTe("sub")},{sub:function(){return pTe(this,"sub","","")}})});var hTe,vTe,yTe,lN=S(function(){"use strict";hTe=P(),vTe=fr(),yTe=pr();hTe({target:"String",proto:!0,forced:yTe("sup")},{sup:function(){return vTe(this,"sup","","")}})});var Te=h(function(_vt,gN){"use strict";var gTe=Rw(),FS=Re(),er=z(),cN=Ee(),CS=we(),qo=Le(),DS=aa(),mTe=bu(),US=Et(),jS=st(),bTe=Ne().f,_Te=Qt(),MS=Ut(),Ju=_i(),wTe=be(),fN=wu(),bh=er.Int8Array,NS=bh&&bh.prototype,pN=er.Uint8ClampedArray,dN=pN&&pN.prototype,jn=bh&&MS(bh),hn=NS&&MS(NS),STe=Object.prototype,BS=er.TypeError,hN=wTe("toStringTag"),LS=fN("TYPED_ARRAY_TAG"),zS=fN("TYPED_ARRAY_CONSTRUCTOR"),Ai=gTe&&!!Ju&&DS(er.opera)!=="Opera",vN=!1,dr,ga,Qu,Ii={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$S={BigInt64Array:8,BigUint64Array:8},OTe=function(e){if(!CS(e))return!1;var r=DS(e);return r==="DataView"||qo(Ii,r)||qo($S,r)},yN=function(e){if(!CS(e))return!1;var r=DS(e);return qo(Ii,r)||qo($S,r)},PTe=function(e){if(yN(e))return e;throw BS("Target is not a typed array")},qTe=function(e){if(cN(e)&&(!Ju||_Te(jn,e)))return e;throw BS(mTe(e)+" is not a typed array constructor")},RTe=function(e,r,n){if(!!FS){if(n)for(var i in Ii){var a=er[i];if(a&&qo(a.prototype,e))try{delete a.prototype[e]}catch(o){}}(!hn[e]||n)&&jS(hn,e,n?r:Ai&&NS[e]||r)}},ETe=function(e,r,n){var i,a;if(!!FS){if(Ju){if(n){for(i in Ii)if(a=er[i],a&&qo(a,e))try{delete a[e]}catch(o){}}if(!jn[e]||n)try{return jS(jn,e,n?r:Ai&&jn[e]||r)}catch(o){}else return}for(i in Ii)a=er[i],a&&(!a[e]||n)&&jS(a,e,r)}};for(dr in Ii)ga=er[dr],Qu=ga&&ga.prototype,Qu?US(Qu,zS,ga):Ai=!1;for(dr in $S)ga=er[dr],Qu=ga&&ga.prototype,Qu&&US(Qu,zS,ga);if((!Ai||!cN(jn)||jn===Function.prototype)&&(jn=function(){throw BS("Incorrect invocation")},Ai))for(dr in Ii)er[dr]&&Ju(er[dr],jn);if((!Ai||!hn||hn===STe)&&(hn=jn.prototype,Ai))for(dr in Ii)er[dr]&&Ju(er[dr].prototype,hn);Ai&&MS(dN)!==hn&&Ju(dN,hn);if(FS&&!qo(hn,hN)){vN=!0,bTe(hn,hN,{get:function(){return CS(this)?this[LS]:void 0}});for(dr in Ii)er[dr]&&US(er[dr],LS,dr)}gN.exports={NATIVE_ARRAY_BUFFER_VIEWS:Ai,TYPED_ARRAY_CONSTRUCTOR:zS,TYPED_ARRAY_TAG:vN&&LS,aTypedArray:PTe,aTypedArrayConstructor:qTe,exportTypedArrayMethod:RTe,exportTypedArrayStaticMethod:ETe,isView:OTe,isTypedArray:yN,TypedArray:jn,TypedArrayPrototype:hn}});var _h=h(function(wvt,bN){var mN=z(),HS=oe(),TTe=Jl(),ATe=Te().NATIVE_ARRAY_BUFFER_VIEWS,ITe=mN.ArrayBuffer,Ro=mN.Int8Array;bN.exports=!ATe||!HS(function(){Ro(1)})||!HS(function(){new Ro(-1)})||!TTe(function(t){new Ro,new Ro(null),new Ro(1.5),new Ro(t)},!0)||HS(function(){return new Ro(new ITe(2),1,void 0).length!==1})});var Zu=h(function(Svt,_N){var kTe=z(),xTe=Vt(),FTe=kTe.RangeError;_N.exports=function(t){var e=xTe(t);if(e<0)throw FTe("The argument can't be less than 0");return e}});var VS=h(function(Ovt,wN){var CTe=z(),DTe=Zu(),UTe=CTe.RangeError;wN.exports=function(t,e){var r=DTe(t);if(r%e)throw UTe("Wrong offset");return r}});var WS=h(function(Pvt,SN){var jTe=Ye(),MTe=le(),NTe=vc(),BTe=Fe(),LTe=Ge(),zTe=fn(),$Te=wi(),HTe=gd(),VTe=Te().aTypedArrayConstructor;SN.exports=function(e){var r=NTe(this),n=BTe(e),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0,u=$Te(n),s,l,c,f,p,d;if(u&&!HTe(u))for(p=zTe(n,u),d=p.next,n=[];!(f=MTe(d,p)).done;)n.push(f.value);for(o&&i>2&&(a=jTe(a,arguments[2])),l=LTe(n),c=new(VTe(r))(l),s=0;l>s;s++)c[s]=o?a(n[s],s):n[s];return c}});var Mn=h(function(qvt,eO){"use strict";var ON=P(),PN=z(),qN=le(),WTe=Re(),GTe=_h(),Eo=Te(),RN=Dw(),EN=jr(),KTe=ln(),es=Et(),YTe=Yd(),XTe=_r(),TN=Ew(),GS=VS(),AN=di(),Fc=Le(),JTe=aa(),KS=we(),QTe=mu(),ZTe=Dt(),eAe=Qt(),wh=_i(),tAe=vi().f,IN=WS(),rAe=Tt().forEach,nAe=pa(),kN=Ne(),xN=Ct(),FN=We(),iAe=ac(),YS=FN.get,aAe=FN.set,XS=kN.f,oAe=xN.f,uAe=Math.round,JS=PN.RangeError,CN=RN.ArrayBuffer,sAe=CN.prototype,lAe=RN.DataView,Sh=Eo.NATIVE_ARRAY_BUFFER_VIEWS,cAe=Eo.TYPED_ARRAY_CONSTRUCTOR,DN=Eo.TYPED_ARRAY_TAG,UN=Eo.TypedArray,Cc=Eo.TypedArrayPrototype,fAe=Eo.aTypedArrayConstructor,QS=Eo.isTypedArray,Oh="BYTES_PER_ELEMENT",ZS="Wrong length",jN=function(e,r){fAe(e);for(var n=0,i=r.length,a=new e(i);i>n;)a[n]=r[n++];return a},Ph=function(e,r){XS(e,r,{get:function(){return YS(this)[r]}})},MN=function(e){var r;return eAe(sAe,e)||(r=JTe(e))=="ArrayBuffer"||r=="SharedArrayBuffer"},NN=function(e,r){return QS(e)&&!QTe(r)&&r in e&&YTe(+r)&&r>=0},BN=function(e,r){return r=AN(r),NN(e,r)?KTe(2,e[r]):oAe(e,r)},LN=function(e,r,n){return r=AN(r),NN(e,r)&&KS(n)&&Fc(n,"value")&&!Fc(n,"get")&&!Fc(n,"set")&&!n.configurable&&(!Fc(n,"writable")||n.writable)&&(!Fc(n,"enumerable")||n.enumerable)?(e[r]=n.value,e):XS(e,r,n)};WTe?(Sh||(xN.f=BN,kN.f=LN,Ph(Cc,"buffer"),Ph(Cc,"byteOffset"),Ph(Cc,"byteLength"),Ph(Cc,"length")),ON({target:"Object",stat:!0,forced:!Sh},{getOwnPropertyDescriptor:BN,defineProperty:LN}),eO.exports=function(t,e,r){var n=t.match(/\d+$/)[0]/8,i=t+(r?"Clamped":"")+"Array",a="get"+t,o="set"+t,u=PN[i],s=u,l=s&&s.prototype,c={},f=function(g,m){var _=YS(g);return _.view[a](m*n+_.byteOffset,!0)},p=function(g,m,_){var O=YS(g);r&&(_=(_=uAe(_))<0?0:_>255?255:_&255),O.view[o](m*n+O.byteOffset,_,!0)},d=function(g,m){XS(g,m,{get:function(){return f(this,m)},set:function(O){return p(this,m,O)},enumerable:!0})};Sh?GTe&&(s=e(function(v,g,m,_){return EN(v,l),iAe(function(){return KS(g)?MN(g)?_!==void 0?new u(g,GS(m,n),_):m!==void 0?new u(g,GS(m,n)):new u(g):QS(g)?jN(s,g):qN(IN,s,g):new u(TN(g))}(),v,s)}),wh&&wh(s,UN),rAe(tAe(u),function(v){v in s||es(s,v,u[v])}),s.prototype=l):(s=e(function(v,g,m,_){EN(v,l);var O=0,E=0,F,j,C;if(!KS(g))C=TN(g),j=C*n,F=new CN(j);else if(MN(g)){F=g,E=GS(m,n);var Y=g.byteLength;if(_===void 0){if(Y%n||(j=Y-E,j<0))throw JS(ZS)}else if(j=XTe(_)*n,j+E>Y)throw JS(ZS);C=j/n}else return QS(g)?jN(s,g):qN(IN,s,g);for(aAe(v,{buffer:F,byteOffset:E,byteLength:j,length:C,view:new lAe(F)});O<C;)d(v,O++)}),wh&&wh(s,UN),l=s.prototype=ZTe(Cc)),l.constructor!==s&&es(l,"constructor",s),es(l,cAe,s),DN&&es(l,DN,i),c[i]=s,ON({global:!0,forced:s!=u,sham:!Sh},c),Oh in s||es(s,Oh,n),Oh in l||es(l,Oh,n),nAe(i)}):eO.exports=function(){}});var pAe,zN=S(function(){pAe=Mn();pAe("Float32",function(t){return function(r,n,i){return t(this,r,n,i)}})});var dAe,$N=S(function(){dAe=Mn();dAe("Float64",function(t){return function(r,n,i){return t(this,r,n,i)}})});var hAe,HN=S(function(){hAe=Mn();hAe("Int8",function(t){return function(r,n,i){return t(this,r,n,i)}})});var vAe,VN=S(function(){vAe=Mn();vAe("Int16",function(t){return function(r,n,i){return t(this,r,n,i)}})});var yAe,WN=S(function(){yAe=Mn();yAe("Int32",function(t){return function(r,n,i){return t(this,r,n,i)}})});var gAe,GN=S(function(){gAe=Mn();gAe("Uint8",function(t){return function(r,n,i){return t(this,r,n,i)}})});var mAe,KN=S(function(){mAe=Mn();mAe("Uint8",function(t){return function(r,n,i){return t(this,r,n,i)}},!0)});var bAe,YN=S(function(){bAe=Mn();bAe("Uint16",function(t){return function(r,n,i){return t(this,r,n,i)}})});var _Ae,XN=S(function(){_Ae=Mn();_Ae("Uint32",function(t){return function(r,n,i){return t(this,r,n,i)}})});var wAe,JN,SAe,OAe,PAe,qAe,QN=S(function(){"use strict";wAe=ae(),JN=Te(),SAe=lw(),OAe=wAe(SAe),PAe=JN.aTypedArray,qAe=JN.exportTypedArrayMethod;qAe("copyWithin",function(e,r){return OAe(PAe(this),e,r,arguments.length>2?arguments[2]:void 0)})});var ZN,RAe,EAe,TAe,e8=S(function(){"use strict";ZN=Te(),RAe=Tt().every,EAe=ZN.aTypedArray,TAe=ZN.exportTypedArrayMethod;TAe("every",function(e){return RAe(EAe(this),e,arguments.length>1?arguments[1]:void 0)})});var t8,AAe,IAe,kAe,xAe,r8=S(function(){"use strict";t8=Te(),AAe=le(),IAe=Od(),kAe=t8.aTypedArray,xAe=t8.exportTypedArrayMethod;xAe("fill",function(e){var r=arguments.length;return AAe(IAe,kAe(this),e,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)})});var i8=h(function(Rvt,n8){n8.exports=function(t,e){for(var r=0,n=e.length,i=new t(n);n>r;)i[r]=e[r++];return i}});var Dc=h(function(Evt,o8){var a8=Te(),FAe=Zt(),CAe=a8.TYPED_ARRAY_CONSTRUCTOR,DAe=a8.aTypedArrayConstructor;o8.exports=function(t){return DAe(FAe(t,t[CAe]))}});var qh=h(function(Tvt,u8){var UAe=i8(),jAe=Dc();u8.exports=function(t,e){return UAe(jAe(t),e)}});var s8,MAe,NAe,BAe,LAe,l8=S(function(){"use strict";s8=Te(),MAe=Tt().filter,NAe=qh(),BAe=s8.aTypedArray,LAe=s8.exportTypedArrayMethod;LAe("filter",function(e){var r=MAe(BAe(this),e,arguments.length>1?arguments[1]:void 0);return NAe(this,r)})});var c8,zAe,$Ae,HAe,f8=S(function(){"use strict";c8=Te(),zAe=Tt().find,$Ae=c8.aTypedArray,HAe=c8.exportTypedArrayMethod;HAe("find",function(e){return zAe($Ae(this),e,arguments.length>1?arguments[1]:void 0)})});var p8,VAe,WAe,GAe,d8=S(function(){"use strict";p8=Te(),VAe=Tt().findIndex,WAe=p8.aTypedArray,GAe=p8.exportTypedArrayMethod;GAe("findIndex",function(e){return VAe(WAe(this),e,arguments.length>1?arguments[1]:void 0)})});var h8,KAe,YAe,XAe,v8=S(function(){"use strict";h8=Te(),KAe=Tt().forEach,YAe=h8.aTypedArray,XAe=h8.exportTypedArrayMethod;XAe("forEach",function(e){KAe(YAe(this),e,arguments.length>1?arguments[1]:void 0)})});var JAe,QAe,ZAe,y8=S(function(){"use strict";JAe=_h(),QAe=Te().exportTypedArrayStaticMethod,ZAe=WS();QAe("from",ZAe,JAe)});var g8,e2e,t2e,r2e,m8=S(function(){"use strict";g8=Te(),e2e=Ml().includes,t2e=g8.aTypedArray,r2e=g8.exportTypedArrayMethod;r2e("includes",function(e){return e2e(t2e(this),e,arguments.length>1?arguments[1]:void 0)})});var b8,n2e,i2e,a2e,_8=S(function(){"use strict";b8=Te(),n2e=Ml().indexOf,i2e=b8.aTypedArray,a2e=b8.exportTypedArrayMethod;a2e("indexOf",function(e){return n2e(i2e(this),e,arguments.length>1?arguments[1]:void 0)})});var o2e,tO,w8,S8,rO,u2e,O8,P8,s2e,l2e,c2e,nO,Rh,q8,R8,E8,T8=S(function(){"use strict";o2e=z(),tO=ae(),w8=ia().PROPER,S8=Te(),rO=ec(),u2e=be(),O8=u2e("iterator"),P8=o2e.Uint8Array,s2e=tO(rO.values),l2e=tO(rO.keys),c2e=tO(rO.entries),nO=S8.aTypedArray,Rh=S8.exportTypedArrayMethod,q8=P8&&P8.prototype[O8],R8=!!q8&&q8.name==="values",E8=function(){return s2e(nO(this))};Rh("entries",function(){return c2e(nO(this))});Rh("keys",function(){return l2e(nO(this))});Rh("values",E8,w8&&!R8);Rh(O8,E8,w8&&!R8)});var A8,f2e,p2e,d2e,h2e,I8=S(function(){"use strict";A8=Te(),f2e=ae(),p2e=A8.aTypedArray,d2e=A8.exportTypedArrayMethod,h2e=f2e([].join);d2e("join",function(e){return h2e(p2e(this),e)})});var F8=h(function(Avt,x8){"use strict";var v2e=Ke(),y2e=Jt(),g2e=Vt(),m2e=Ge(),b2e=tc(),_2e=Math.min,iO=[].lastIndexOf,k8=!!iO&&1/[1].lastIndexOf(1,-0)<0,w2e=b2e("lastIndexOf"),S2e=k8||!w2e;x8.exports=S2e?function(e){if(k8)return v2e(iO,this,arguments)||0;var r=y2e(this),n=m2e(r),i=n-1;for(arguments.length>1&&(i=_2e(i,g2e(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===e)return i||0;return-1}:iO});var C8,O2e,P2e,q2e,R2e,D8=S(function(){"use strict";C8=Te(),O2e=Ke(),P2e=F8(),q2e=C8.aTypedArray,R2e=C8.exportTypedArrayMethod;R2e("lastIndexOf",function(e){var r=arguments.length;return O2e(P2e,q2e(this),r>1?[e,arguments[1]]:[e])})});var U8,E2e,T2e,A2e,I2e,j8=S(function(){"use strict";U8=Te(),E2e=Tt().map,T2e=Dc(),A2e=U8.aTypedArray,I2e=U8.exportTypedArrayMethod;I2e("map",function(e){return E2e(A2e(this),e,arguments.length>1?arguments[1]:void 0,function(r,n){return new(T2e(r))(n)})})});var M8,k2e,x2e,F2e,N8=S(function(){"use strict";M8=Te(),k2e=_h(),x2e=M8.aTypedArrayConstructor,F2e=M8.exportTypedArrayStaticMethod;F2e("of",function(){for(var e=0,r=arguments.length,n=new(x2e(this))(r);r>e;)n[e]=arguments[e++];return n},k2e)});var aO=h(function(Ivt,L8){var C2e=z(),D2e=de(),U2e=Fe(),j2e=no(),M2e=Ge(),N2e=C2e.TypeError,B8=function(e){return function(r,n,i,a){D2e(n);var o=U2e(r),u=j2e(o),s=M2e(o),l=e?s-1:0,c=e?-1:1;if(i<2)for(;;){if(l in u){a=u[l],l+=c;break}if(l+=c,e?l<0:s<=l)throw N2e("Reduce of empty array with no initial value")}for(;e?l>=0:s>l;l+=c)l in u&&(a=n(a,u[l],l,o));return a}};L8.exports={left:B8(!1),right:B8(!0)}});var z8,B2e,L2e,z2e,$8=S(function(){"use strict";z8=Te(),B2e=aO().left,L2e=z8.aTypedArray,z2e=z8.exportTypedArrayMethod;z2e("reduce",function(e){var r=arguments.length;return B2e(L2e(this),e,r,r>1?arguments[1]:void 0)})});var H8,$2e,H2e,V2e,V8=S(function(){"use strict";H8=Te(),$2e=aO().right,H2e=H8.aTypedArray,V2e=H8.exportTypedArrayMethod;V2e("reduceRight",function(e){var r=arguments.length;return $2e(H2e(this),e,r,r>1?arguments[1]:void 0)})});var W8,W2e,G2e,K2e,G8=S(function(){"use strict";W8=Te(),W2e=W8.aTypedArray,G2e=W8.exportTypedArrayMethod,K2e=Math.floor;G2e("reverse",function(){for(var e=this,r=W2e(e).length,n=K2e(r/2),i=0,a;i<n;)a=e[i],e[i++]=e[--r],e[r]=a;return e})});var Y2e,K8,X2e,J2e,Q2e,Z2e,eIe,tIe,rIe,nIe,Y8=S(function(){"use strict";Y2e=z(),K8=Te(),X2e=Ge(),J2e=VS(),Q2e=Fe(),Z2e=oe(),eIe=Y2e.RangeError,tIe=K8.aTypedArray,rIe=K8.exportTypedArrayMethod,nIe=Z2e(function(){new Int8Array(1).set({})});rIe("set",function(e){tIe(this);var r=J2e(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=Q2e(e),a=X2e(i),o=0;if(a+r>n)throw eIe("Wrong length");for(;o<a;)this[r+o]=i[o++]},nIe)});var X8,iIe,aIe,oIe,uIe,sIe,lIe,J8=S(function(){"use strict";X8=Te(),iIe=Dc(),aIe=oe(),oIe=oa(),uIe=X8.aTypedArray,sIe=X8.exportTypedArrayMethod,lIe=aIe(function(){new Int8Array(1).slice()});sIe("slice",function(e,r){for(var n=oIe(uIe(this),e,r),i=iIe(this),a=0,o=n.length,u=new i(o);o>a;)u[a]=n[a++];return u},lIe)});var Q8,cIe,fIe,pIe,Z8=S(function(){"use strict";Q8=Te(),cIe=Tt().some,fIe=Q8.aTypedArray,pIe=Q8.exportTypedArrayMethod;pIe("some",function(e){return cIe(fIe(this),e,arguments.length>1?arguments[1]:void 0)})});var e6,dIe,oO,hIe,vIe,t6,r6,yIe,n6,i6,gIe,mIe,bIe,Uc,ts,_Ie,a6,wIe,o6=S(function(){"use strict";e6=z(),dIe=ae(),oO=oe(),hIe=de(),vIe=Td(),t6=Te(),r6=Ow(),yIe=Pw(),n6=io(),i6=Ad(),gIe=e6.Array,mIe=t6.aTypedArray,bIe=t6.exportTypedArrayMethod,Uc=e6.Uint16Array,ts=Uc&&dIe(Uc.prototype.sort),_Ie=!!ts&&!(oO(function(){ts(new Uc(2),null)})&&oO(function(){ts(new Uc(2),{})})),a6=!!ts&&!oO(function(){if(n6)return n6<74;if(r6)return r6<67;if(yIe)return!0;if(i6)return i6<602;var t=new Uc(516),e=gIe(516),r,n;for(r=0;r<516;r++)n=r%4,t[r]=515-r,e[r]=r-2*n+3;for(ts(t,function(i,a){return(i/4|0)-(a/4|0)}),r=0;r<516;r++)if(t[r]!==e[r])return!0}),wIe=function(e){return function(r,n){return e!==void 0?+e(r,n)||0:n!==n?-1:r!==r?1:r===0&&n===0?1/r>0&&1/n<0?1:-1:r>n}};bIe("sort",function(e){return e!==void 0&&hIe(e),a6?ts(this,e):vIe(mIe(this),wIe(e))},!a6||_Ie)});var u6,SIe,s6,OIe,PIe,qIe,l6=S(function(){"use strict";u6=Te(),SIe=_r(),s6=hi(),OIe=Dc(),PIe=u6.aTypedArray,qIe=u6.exportTypedArrayMethod;qIe("subarray",function(e,r){var n=PIe(this),i=n.length,a=s6(e,i),o=OIe(n);return new o(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,SIe((r===void 0?i:s6(r,i))-a))})});var RIe,EIe,c6,uO,f6,Eh,p6,TIe,d6,AIe,IIe,h6=S(function(){"use strict";RIe=z(),EIe=Ke(),c6=Te(),uO=oe(),f6=oa(),Eh=RIe.Int8Array,p6=c6.aTypedArray,TIe=c6.exportTypedArrayMethod,d6=[].toLocaleString,AIe=!!Eh&&uO(function(){d6.call(new Eh(1))}),IIe=uO(function(){return[1,2].toLocaleString()!=new Eh([1,2]).toLocaleString()})||!uO(function(){Eh.prototype.toLocaleString.call([1,2])});TIe("toLocaleString",function(){return EIe(d6,AIe?f6(p6(this)):p6(this),f6(arguments))},IIe)});var kIe,xIe,FIe,CIe,v6,DIe,Th,UIe,jIe,y6=S(function(){"use strict";kIe=Te().exportTypedArrayMethod,xIe=oe(),FIe=z(),CIe=ae(),v6=FIe.Uint8Array,DIe=v6&&v6.prototype||{},Th=[].toString,UIe=CIe([].join);xIe(function(){Th.call({})})&&(Th=function(){return UIe(this)});jIe=DIe.toString!=Th;kIe("toString",Th,jIe)});var cO=h(function(kvt,S6){"use strict";var MIe=ae(),g6=pn(),Ah=va().getWeakData,NIe=W(),sO=we(),BIe=jr(),LIe=ge(),m6=Tt(),b6=Le(),_6=We(),zIe=_6.set,$Ie=_6.getterFor,HIe=m6.find,VIe=m6.findIndex,WIe=MIe([].splice),GIe=0,Ih=function(e){return e.frozen||(e.frozen=new w6)},w6=function(){this.entries=[]},lO=function(e,r){return HIe(e.entries,function(n){return n[0]===r})};w6.prototype={get:function(e){var r=lO(this,e);if(r)return r[1]},has:function(e){return!!lO(this,e)},set:function(e,r){var n=lO(this,e);n?n[1]=r:this.entries.push([e,r])},delete:function(e){var r=VIe(this.entries,function(n){return n[0]===e});return~r&&WIe(this.entries,r,1),!!~r}};S6.exports={getConstructor:function(e,r,n,i){var a=e(function(l,c){BIe(l,o),zIe(l,{type:r,id:GIe++,frozen:void 0}),c!=null&&LIe(c,l[i],{that:l,AS_ENTRIES:n})}),o=a.prototype,u=$Ie(r),s=function(c,f,p){var d=u(c),v=Ah(NIe(f),!0);return v===!0?Ih(d).set(f,p):v[d.id]=p,c};return g6(o,{delete:function(c){var f=u(this);if(!sO(c))return!1;var p=Ah(c);return p===!0?Ih(f).delete(c):p&&b6(p,f.id)&&delete p[f.id]},has:function(c){var f=u(this);if(!sO(c))return!1;var p=Ah(c);return p===!0?Ih(f).has(c):p&&b6(p,f.id)}}),g6(o,n?{get:function(c){var f=u(this);if(sO(c)){var p=Ah(c);return p===!0?Ih(f).get(c):p?p[f.id]:void 0}},set:function(c,f){return s(this,c,f)}}:{add:function(c){return s(this,c,!0)}}),a}}});var Dh=h(function(){"use strict";var O6=z(),kh=ae(),KIe=pn(),YIe=va(),XIe=oc(),P6=cO(),xh=we(),Fh=ic(),Ch=We().enforce,JIe=w_(),QIe=!O6.ActiveXObject&&"ActiveXObject"in O6,jc,q6=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},ZIe=XIe("WeakMap",q6,P6);JIe&&QIe&&(jc=P6.getConstructor(q6,"WeakMap",!0),YIe.enable(),rs=ZIe.prototype,fO=kh(rs.delete),Mc=kh(rs.has),pO=kh(rs.get),dO=kh(rs.set),KIe(rs,{delete:function(e){if(xh(e)&&!Fh(e)){var r=Ch(this);return r.frozen||(r.frozen=new jc),fO(this,e)||r.frozen.delete(e)}return fO(this,e)},has:function(e){if(xh(e)&&!Fh(e)){var r=Ch(this);return r.frozen||(r.frozen=new jc),Mc(this,e)||r.frozen.has(e)}return Mc(this,e)},get:function(e){if(xh(e)&&!Fh(e)){var r=Ch(this);return r.frozen||(r.frozen=new jc),Mc(this,e)?pO(this,e):r.frozen.get(e)}return pO(this,e)},set:function(e,r){if(xh(e)&&!Fh(e)){var n=Ch(this);n.frozen||(n.frozen=new jc),Mc(this,e)?dO(this,e,r):n.frozen.set(e,r)}else dO(this,e,r);return this}}));var rs,fO,Mc,pO,dO});var eke,tke,R6=S(function(){"use strict";eke=oc(),tke=cO();eke("WeakSet",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},tke)});var E6=S(function(){uw()});var T6=h(function(){"use strict";var rke=P(),nke=Fe(),ike=Ge(),ake=Vt(),oke=Wt();rke({target:"Array",proto:!0},{at:function(e){var r=nke(this),n=ike(r),i=ake(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]}});oke("at")});var A6=S(function(){T6()});var uke,ske,lke,I6=S(function(){"use strict";uke=P(),ske=Tt().filterReject,lke=Wt();uke({target:"Array",proto:!0},{filterOut:function(e){return ske(this,e,arguments.length>1?arguments[1]:void 0)}});lke("filterOut")});var Nc=h(function(Uvt,x6){var cke=Ye(),fke=no(),pke=Fe(),dke=Ge(),k6=function(e){var r=e==1;return function(n,i,a){for(var o=pke(n),u=fke(o),s=cke(i,a),l=dke(u),c,f;l-- >0;)if(c=u[l],f=s(c,l,o),f)switch(e){case 0:return c;case 1:return l}return r?-1:void 0}};x6.exports={findLast:k6(0),findLastIndex:k6(1)}});var hke,vke,yke,F6=S(function(){"use strict";hke=P(),vke=Nc().findLast,yke=Wt();hke({target:"Array",proto:!0},{findLast:function(e){return vke(this,e,arguments.length>1?arguments[1]:void 0)}});yke("findLast")});var gke,mke,bke,C6=S(function(){"use strict";gke=P(),mke=Nc().findLastIndex,bke=Wt();gke({target:"Array",proto:!0},{findLastIndex:function(e){return mke(this,e,arguments.length>1?arguments[1]:void 0)}});bke("findLastIndex")});var _ke,wke,D6,U6,j6=S(function(){_ke=P(),wke=uo(),D6=Object.isFrozen,U6=function(e,r){if(!D6||!wke(e)||!D6(e))return!1;for(var n=0,i=e.length,a;n<i;)if(a=e[n++],!(typeof a=="string"||r&&typeof a=="undefined"))return!1;return i!==0};_ke({target:"Array",stat:!0},{isTemplateObject:function(e){if(!U6(e,!0))return!1;var r=e.raw;return!(r.length!==e.length||!U6(r,!1))}})});var Ske,Oke,Pke,qke,Rke,M6=S(function(){"use strict";Ske=Re(),Oke=Wt(),Pke=Fe(),qke=Ge(),Rke=Ne().f;Ske&&!("lastIndex"in[])&&(Rke(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=Pke(this),r=qke(e);return r==0?0:r-1}}),Oke("lastIndex"))});var Eke,Tke,N6,B6,Ake,L6=S(function(){"use strict";Eke=Re(),Tke=Wt(),N6=Fe(),B6=Ge(),Ake=Ne().f;Eke&&!("lastItem"in[])&&(Ake(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=N6(this),r=B6(e);return r==0?void 0:e[r-1]},set:function(e){var r=N6(this),n=B6(r);return r[n==0?0:n-1]=e}}),Tke("lastItem"))});var jh=h(function(jvt,$6){"use strict";var Ike=xe(),Uh=ae(),kke=de(),xke=Ge(),Fke=Fe(),Cke=fo(),z6=Ike("Map"),hO=z6.prototype,Dke=Uh(hO.forEach),Uke=Uh(hO.has),jke=Uh(hO.set),Mke=Uh([].push);$6.exports=function(e){var r=Fke(this),n=xke(r),i=Cke(r,0),a=new z6,o=e!=null?kke(e):function(c){return c},u,s,l;for(u=0;u<n;u++)s=r[u],l=o(s),Uke(a,l)||jke(a,l,s);return Dke(a,function(c){Mke(i,c)}),i}});var Nke,Bke,Lke,H6=S(function(){"use strict";Nke=P(),Bke=Wt(),Lke=jh();Nke({target:"Array",proto:!0},{uniqueBy:Lke});Bke("uniqueBy")});var Bc=h(function(Mvt,Q6){var V6=z(),W6=Fl(),G6=Ee(),zke=Dt(),Mh=Ut(),$ke=st(),Hke=be(),Vke=he(),K6="USE_FUNCTION_CONSTRUCTOR",Y6=Hke("asyncIterator"),X6=V6.AsyncIterator,J6=W6.AsyncIteratorPrototype,Nn,vO;if(J6)Nn=J6;else if(G6(X6))Nn=X6.prototype;else if(W6[K6]||V6[K6])try{vO=Mh(Mh(Mh(Function("return async function*(){}()")()))),Mh(vO)===Object.prototype&&(Nn=vO)}catch(t){}Nn?Vke&&(Nn=zke(Nn)):Nn={};G6(Nn[Y6])||$ke(Nn,Y6,function(){return this});Q6.exports=Nn});var Wke,Gke,Z6,e4,Kke,To,t4,r4,yO,n4=S(function(){"use strict";Wke=P(),Gke=jr(),Z6=Et(),e4=Le(),Kke=be(),To=Bc(),t4=he(),r4=Kke("toStringTag"),yO=function(){Gke(this,To)};yO.prototype=To;e4(To,r4)||Z6(To,r4,"AsyncIterator");(t4||!e4(To,"constructor")||To.constructor===Object)&&Z6(To,"constructor",yO);Wke({global:!0,forced:t4},{AsyncIterator:yO})});var ma=h(function(Nvt,s4){"use strict";var gO=le(),Yke=de(),i4=W(),Xke=Dt(),Jke=Et(),Qke=pn(),Zke=be(),a4=We(),exe=xe(),o4=Ft(),txe=Bc(),Lc=exe("Promise"),u4="AsyncIteratorProxy",rxe=a4.set,mO=a4.getterFor(u4),nxe=Zke("toStringTag");s4.exports=function(t,e){var r=function(i){i.type=u4,i.next=Yke(i.iterator.next),i.done=!1,i.ignoreArgument=!e,rxe(this,i)};return r.prototype=Qke(Xke(txe),{next:function(i){var a=this,o=!!arguments.length;return new Lc(function(u){var s=mO(a),l=o?[s.ignoreArgument?void 0:i]:e?[]:[void 0];s.ignoreArgument=!1,u(s.done?{done:!0,value:void 0}:i4(gO(t,s,Lc,l)))})},return:function(i){var a=this;return new Lc(function(o,u){var s=mO(a),l=s.iterator;s.done=!0;var c=o4(l,"return");if(c===void 0)return o({done:!0,value:i});Lc.resolve(gO(c,l,i)).then(function(f){i4(f),o({done:!0,value:i})},u)})},throw:function(i){var a=this;return new Lc(function(o,u){var s=mO(a),l=s.iterator;s.done=!0;var c=o4(l,"throw");if(c===void 0)return u(i);o(gO(c,l,i))})}}),e||Jke(r.prototype,nxe,"Generator"),r}});var ixe,axe,bO,oxe,uxe,l4=S(function(){"use strict";ixe=P(),axe=Ke(),bO=W(),oxe=ma(),uxe=oxe(function(t,e){var r=this,n=r.iterator;return t.resolve(bO(axe(r.next,n,e))).then(function(i){return bO(i).done?(r.done=!0,{done:!0,value:void 0}):{done:!1,value:[r.index++,i.value]}})});ixe({target:"AsyncIterator",proto:!0,real:!0},{asIndexedPairs:function(){return new uxe({iterator:bO(this),index:0})}})});var sxe,lxe,_O,cxe,fxe,pxe,c4=S(function(){"use strict";sxe=P(),lxe=Ke(),_O=W(),cxe=Zu(),fxe=ma(),pxe=fxe(function(t,e){var r=this;return new t(function(n,i){var a=function o(){try{t.resolve(_O(lxe(r.next,r.iterator,r.remaining?[]:e))).then(function(u){try{_O(u).done?(r.done=!0,n({done:!0,value:void 0})):r.remaining?(r.remaining--,o()):n({done:!1,value:u.value})}catch(s){i(s)}},i)}catch(u){i(u)}};a()})});sxe({target:"AsyncIterator",proto:!0,real:!0},{drop:function(e){return new pxe({iterator:_O(this),remaining:cxe(e)})}})});var ns=h(function(Bvt,d4){"use strict";var dxe=z(),f4=le(),p4=de(),wO=W(),hxe=xe(),vxe=Ft(),yxe=9007199254740991,gxe=dxe.TypeError,zc=function(e){var r=e==0,n=e==1,i=e==2,a=e==3;return function(o,u,s){wO(o);var l=hxe("Promise"),c=p4(o.next),f=0,p=u!==void 0;return(p||!r)&&p4(u),new l(function(d,v){var g=function(E,F){try{var j=vxe(o,"return");if(j)return l.resolve(f4(j,o)).then(function(){E(F)},function(C){v(C)})}catch(C){return v(C)}E(F)},m=function(E){g(v,E)},_=function O(){try{if(r&&f>yxe&&p)throw gxe("The allowed number of iterations has been exceeded");l.resolve(wO(f4(c,o))).then(function(E){try{if(wO(E).done)r?(s.length=f,d(s)):d(a?!1:i||void 0);else{var F=E.value;p?l.resolve(r?u(F,f):u(F)).then(function(j){n?O():i?j?O():g(d,!1):r?(s[f++]=j,O()):j?g(d,a||F):O()},m):(s[f++]=F,O())}}catch(j){m(j)}},m)}catch(E){m(E)}};_()})}};d4.exports={toArray:zc(0),forEach:zc(1),every:zc(2),some:zc(3),find:zc(4)}});var mxe,bxe,h4=S(function(){"use strict";mxe=P(),bxe=ns().every;mxe({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return bxe(this,e)}})});var _xe,wxe,Sxe,SO,Oxe,Pxe,v4=S(function(){"use strict";_xe=P(),wxe=Ke(),Sxe=de(),SO=W(),Oxe=ma(),Pxe=Oxe(function(t,e){var r=this,n=r.filterer;return new t(function(i,a){var o=function u(){try{t.resolve(SO(wxe(r.next,r.iterator,e))).then(function(s){try{if(SO(s).done)r.done=!0,i({done:!0,value:void 0});else{var l=s.value;t.resolve(n(l)).then(function(c){c?i({done:!1,value:l}):u()},a)}}catch(c){a(c)}},a)}catch(s){a(s)}};o()})});_xe({target:"AsyncIterator",proto:!0,real:!0},{filter:function(e){return new Pxe({iterator:SO(this),filterer:Sxe(e)})}})});var qxe,Rxe,y4=S(function(){"use strict";qxe=P(),Rxe=ns().find;qxe({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return Rxe(this,e)}})});var RO=h(function(Lvt,w4){"use strict";var OO=Ke(),Nh=W(),Exe=Dt(),g4=Ft(),Txe=pn(),m4=We(),Axe=xe(),Ixe=Bc(),Bh=Axe("Promise"),b4="AsyncFromSyncIterator",kxe=m4.set,PO=m4.getterFor(b4),qO=function(e,r,n){var i=e.done;Bh.resolve(e.value).then(function(a){r({done:i,value:a})},n)},_4=function(e){kxe(this,{type:b4,iterator:Nh(e),next:e.next})};_4.prototype=Txe(Exe(Ixe),{next:function(e){var r=PO(this),n=!!arguments.length;return new Bh(function(i,a){var o=Nh(OO(r.next,r.iterator,n?[e]:[]));qO(o,i,a)})},return:function(e){var r=PO(this).iterator,n=!!arguments.length;return new Bh(function(i,a){var o=g4(r,"return");if(o===void 0)return i({done:!0,value:e});var u=Nh(OO(o,r,n?[e]:[]));qO(u,i,a)})},throw:function(e){var r=PO(this).iterator,n=!!arguments.length;return new Bh(function(i,a){var o=g4(r,"throw");if(o===void 0)return a(e);var u=Nh(OO(o,r,n?[e]:[]));qO(u,i,a)})}});w4.exports=_4});var EO=h(function(zvt,S4){var xxe=le(),Fxe=RO(),Cxe=W(),Dxe=fn(),Uxe=Ft(),jxe=be(),Mxe=jxe("asyncIterator");S4.exports=function(t,e){var r=arguments.length<2?Uxe(t,Mxe):e;return r?Cxe(xxe(r,t)):new Fxe(Dxe(t))}});var Nxe,O4,P4,$c,Bxe,Lxe,zxe,q4=S(function(){"use strict";Nxe=P(),O4=le(),P4=de(),$c=W(),Bxe=ma(),Lxe=EO(),zxe=Bxe(function(t){var e=this,r=e.mapper,n;return new t(function(i,a){var o=function(){try{t.resolve($c(O4(e.next,e.iterator))).then(function(l){try{$c(l).done?(e.done=!0,i({done:!0,value:void 0})):t.resolve(r(l.value)).then(function(c){try{return e.innerIterator=n=Lxe(c),e.innerNext=P4(n.next),u()}catch(f){a(f)}},a)}catch(c){a(c)}},a)}catch(l){a(l)}},u=function(){if(n=e.innerIterator)try{t.resolve($c(O4(e.innerNext,n))).then(function(l){try{$c(l).done?(e.innerIterator=e.innerNext=null,o()):i({done:!1,value:l.value})}catch(c){a(c)}},a)}catch(l){a(l)}else o()};u()})});Nxe({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(e){return new zxe({iterator:$c(this),mapper:P4(e),innerIterator:null,innerNext:null})}})});var $xe,Hxe,R4=S(function(){"use strict";$xe=P(),Hxe=ns().forEach;$xe({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return Hxe(this,e)}})});var Vxe,Wxe,Gxe,Kxe,Yxe,Xxe,Jxe,Qxe,Zxe,eFe,tFe,rFe,nFe,iFe,aFe,E4=S(function(){Vxe=P(),Wxe=Ke(),Gxe=W(),Kxe=Fe(),Yxe=Qt(),Xxe=Bc(),Jxe=ma(),Qxe=EO(),Zxe=fn(),eFe=wi(),tFe=Ft(),rFe=be(),nFe=RO(),iFe=rFe("asyncIterator"),aFe=Jxe(function(t,e){return Gxe(Wxe(this.next,this.iterator,e))},!0);Vxe({target:"AsyncIterator",stat:!0},{from:function(e){var r=Kxe(e),n=tFe(r,iFe),i;return n&&(i=Qxe(r,n),Yxe(Xxe,i))?i:i===void 0&&(n=eFe(r),n)?new nFe(Zxe(r,n)):new aFe({iterator:i!==void 0?i:r})}})});var oFe,uFe,sFe,TO,lFe,cFe,T4=S(function(){"use strict";oFe=P(),uFe=Ke(),sFe=de(),TO=W(),lFe=ma(),cFe=lFe(function(t,e){var r=this,n=r.mapper;return t.resolve(TO(uFe(r.next,r.iterator,e))).then(function(i){return TO(i).done?(r.done=!0,{done:!0,value:void 0}):t.resolve(n(i.value)).then(function(a){return{done:!1,value:a}})})});oFe({target:"AsyncIterator",proto:!0,real:!0},{map:function(e){return new cFe({iterator:TO(this),mapper:sFe(e)})}})});var fFe,pFe,dFe,A4,AO,hFe,IO,vFe,I4=S(function(){"use strict";fFe=P(),pFe=z(),dFe=le(),A4=de(),AO=W(),hFe=xe(),IO=hFe("Promise"),vFe=pFe.TypeError;fFe({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){var r=AO(this),n=A4(r.next),i=arguments.length<2,a=i?void 0:arguments[1];return A4(e),new IO(function(o,u){var s=function l(){try{IO.resolve(AO(dFe(n,r))).then(function(c){try{if(AO(c).done)i?u(vFe("Reduce of empty iterator with no initial value")):o(a);else{var f=c.value;i?(i=!1,a=f,l()):IO.resolve(e(a,f)).then(function(p){a=p,l()},u)}}catch(p){u(p)}},u)}catch(c){u(c)}};s()})}})});var yFe,gFe,k4=S(function(){"use strict";yFe=P(),gFe=ns().some;yFe({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return gFe(this,e)}})});var mFe,bFe,_Fe,wFe,SFe,OFe,PFe,x4=S(function(){"use strict";mFe=P(),bFe=Ke(),_Fe=le(),wFe=W(),SFe=Zu(),OFe=ma(),PFe=OFe(function(t,e){var r=this.iterator,n,i;return this.remaining--?bFe(this.next,r,e):(i={done:!0,value:void 0},this.done=!0,n=r.return,n!==void 0?t.resolve(_Fe(n,r)).then(function(){return i}):i)});mFe({target:"AsyncIterator",proto:!0,real:!0},{take:function(e){return new PFe({iterator:wFe(this),remaining:SFe(e)})}})});var qFe,RFe,F4=S(function(){"use strict";qFe=P(),RFe=ns().toArray;qFe({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return RFe(this,void 0,[])}})});var FO=h(function($vt,N4){"use strict";function Ao(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ao=function(r){return typeof r}:Ao=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ao(t)}var C4=z(),D4=We(),EFe=ca(),TFe=we(),AFe=id(),U4=Re(),Hc="Incorrect Number.range arguments",kO="NumericRangeIterator",IFe=D4.set,Vc=D4.getterFor(kO),j4=C4.RangeError,xO=C4.TypeError,M4=EFe(function(e,r,n,i,a,o){if(Ao(e)!=i||r!==1/0&&r!==-1/0&&Ao(r)!=i)throw new xO(Hc);if(e===1/0||e===-1/0)throw new j4(Hc);var u=r>e,s=!1,l;if(n===void 0)l=void 0;else if(TFe(n))l=n.step,s=!!n.inclusive;else if(Ao(n)==i)l=n;else throw new xO(Hc);if(l==null&&(l=u?o:-o),Ao(l)!=i)throw new xO(Hc);if(l===1/0||l===-1/0||l===a&&e!==r)throw new j4(Hc);var c=e!=e||r!=r||l!=l||r>e!=l>a;IFe(this,{type:kO,start:e,end:r,step:l,inclusiveEnd:s,hitsEnd:c,currentCount:a,zero:a}),U4||(this.start=e,this.end=r,this.step=l,this.inclusive=s)},kO,function(){var e=Vc(this);if(e.hitsEnd)return{value:void 0,done:!0};var r=e.start,n=e.end,i=e.step,a=r+i*e.currentCount++;a===n&&(e.hitsEnd=!0);var o=e.inclusiveEnd,u;return n>r?u=o?a>n:a>=n:u=o?n>a:n>=a,u?{value:void 0,done:e.hitsEnd=!0}:{value:a,done:!1}}),Lh=function(e){return{get:e,set:function(){},configurable:!0,enumerable:!1}};U4&&AFe(M4.prototype,{start:Lh(function(){return Vc(this).start}),end:Lh(function(){return Vc(this).end}),inclusive:Lh(function(){return Vc(this).inclusiveEnd}),step:Lh(function(){return Vc(this).step})});N4.exports=M4});var kFe,xFe,B4=S(function(){"use strict";kFe=P(),xFe=FO();typeof BigInt=="function"&&kFe({target:"BigInt",stat:!0},{range:function(e,r,n){return new xFe(e,r,n,"bigint",BigInt(0),BigInt(1))}})});var CO=h(function(Hvt,V4){zd();Dh();var L4=z(),z4=xe(),FFe=Dt(),$4=we(),CFe=L4.Object,DFe=L4.TypeError,UFe=z4("Map"),jFe=z4("WeakMap"),zh=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=FFe(null)};zh.prototype.get=function(t,e){return this[t]||(this[t]=e())};zh.prototype.next=function(t,e,r){var n=r?this.objectsByIndex[t]||(this.objectsByIndex[t]=new jFe):this.primitives||(this.primitives=new UFe),i=n.get(e);return i||n.set(e,i=new zh),i};var H4=new zh;V4.exports=function(){var t=H4,e=arguments.length,r,n;for(r=0;r<e;r++)$4(n=arguments[r])&&(t=t.next(r,n,!0));if(this===CFe&&t===H4)throw DFe("Composite keys must contain a non-primitive component");for(r=0;r<e;r++)$4(n=arguments[r])||(t=t.next(r,n,!1));return t}});var MFe,NFe,BFe,LFe,zFe,W4,$Fe,HFe,G4=S(function(){MFe=P(),NFe=z(),BFe=Ke(),LFe=CO(),zFe=xe(),W4=Dt(),$Fe=NFe.Object,HFe=function(){var e=zFe("Object","freeze");return e?e(W4(null)):W4(null)};MFe({global:!0},{compositeKey:function(){return BFe(LFe,$Fe,arguments).get("object",HFe)}})});var VFe,WFe,K4,GFe,Y4=S(function(){VFe=P(),WFe=CO(),K4=xe(),GFe=Ke();VFe({global:!0},{compositeSymbol:function(){return arguments.length==1&&typeof arguments[0]=="string"?K4("Symbol").for(arguments[0]):GFe(WFe,null,arguments).get("symbol",K4("Symbol"))}})});var X4=S(function(){jw()});var KFe,YFe,XFe,JFe,J4,QFe,Q4,ZFe,ba,eCe,Z4,DO,eB,UO,tB=S(function(){"use strict";KFe=P(),YFe=z(),XFe=jr(),JFe=Ee(),J4=Et(),QFe=oe(),Q4=Le(),ZFe=be(),ba=Au().IteratorPrototype,eCe=he(),Z4=ZFe("toStringTag"),DO=YFe.Iterator,eB=eCe||!JFe(DO)||DO.prototype!==ba||!QFe(function(){DO({})}),UO=function(){XFe(this,ba)};Q4(ba,Z4)||J4(ba,Z4,"Iterator");(eB||!Q4(ba,"constructor")||ba.constructor===Object)&&J4(ba,"constructor",UO);UO.prototype=ba;KFe({global:!0,forced:eB},{Iterator:UO})});var _a=h(function(Vvt,aB){"use strict";var jO=le(),tCe=de(),rCe=W(),nCe=Dt(),iCe=Et(),aCe=pn(),oCe=be(),rB=We(),nB=Ft(),uCe=Au().IteratorPrototype,iB="IteratorProxy",sCe=rB.set,MO=rB.getterFor(iB),lCe=oCe("toStringTag");aB.exports=function(t,e){var r=function(i){i.type=iB,i.next=tCe(i.iterator.next),i.done=!1,i.ignoreArg=!e,sCe(this,i)};return r.prototype=aCe(nCe(uCe),{next:function(i){var a=MO(this),o=arguments.length?[a.ignoreArg?void 0:i]:e?[]:[void 0];a.ignoreArg=!1;var u=a.done?void 0:jO(t,a,o);return{done:a.done,value:u}},return:function(i){var a=MO(this),o=a.iterator;a.done=!0;var u=nB(o,"return");return{done:!0,value:u?rCe(jO(u,o,i)).value:i}},throw:function(i){var a=MO(this),o=a.iterator;a.done=!0;var u=nB(o,"throw");if(u)return jO(u,o,i);throw i}}),e||iCe(r.prototype,lCe,"Generator"),r}});var cCe,fCe,oB,pCe,dCe,uB=S(function(){"use strict";cCe=P(),fCe=Ke(),oB=W(),pCe=_a(),dCe=pCe(function(t){var e=oB(fCe(this.next,this.iterator,t)),r=this.done=!!e.done;if(!r)return[this.index++,e.value]});cCe({target:"Iterator",proto:!0,real:!0},{asIndexedPairs:function(){return new dCe({iterator:oB(this),index:0})}})});var hCe,vCe,yCe,NO,gCe,mCe,bCe,sB=S(function(){"use strict";hCe=P(),vCe=Ke(),yCe=le(),NO=W(),gCe=Zu(),mCe=_a(),bCe=mCe(function(t){for(var e=this.iterator,r=this.next,n,i;this.remaining;)if(this.remaining--,n=NO(yCe(r,e)),i=this.done=!!n.done,i)return;if(n=NO(vCe(r,e,t)),i=this.done=!!n.done,!i)return n.value});hCe({target:"Iterator",proto:!0,real:!0},{drop:function(e){return new bCe({iterator:NO(this),remaining:gCe(e)})}})});var _Ce,wCe,SCe,OCe,lB=S(function(){"use strict";_Ce=P(),wCe=ge(),SCe=de(),OCe=W();_Ce({target:"Iterator",proto:!0,real:!0},{every:function(e){return OCe(this),SCe(e),!wCe(this,function(r,n){if(!e(r))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})});var PCe,qCe,RCe,cB,ECe,TCe,ACe,fB=S(function(){"use strict";PCe=P(),qCe=Ke(),RCe=de(),cB=W(),ECe=_a(),TCe=Pd(),ACe=ECe(function(t){for(var e=this.iterator,r=this.filterer,n=this.next,i,a,o;;){if(i=cB(qCe(n,e,t)),a=this.done=!!i.done,a)return;if(o=i.value,TCe(e,r,o))return o}});PCe({target:"Iterator",proto:!0,real:!0},{filter:function(e){return new ACe({iterator:cB(this),filterer:RCe(e)})}})});var ICe,kCe,xCe,FCe,pB=S(function(){"use strict";ICe=P(),kCe=ge(),xCe=de(),FCe=W();ICe({target:"Iterator",proto:!0,real:!0},{find:function(e){return FCe(this),xCe(e),kCe(this,function(r,n){if(e(r))return n(r)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})});var CCe,DCe,BO,dB,$h,UCe,jCe,MCe,NCe,BCe,hB=S(function(){"use strict";CCe=P(),DCe=z(),BO=le(),dB=de(),$h=W(),UCe=wi(),jCe=_a(),MCe=Yl(),NCe=DCe.TypeError,BCe=jCe(function(){for(var t=this.iterator,e=this.mapper,r,n,i,a;;)try{if(a=this.innerIterator){if(r=$h(BO(this.innerNext,a)),!r.done)return r.value;this.innerIterator=this.innerNext=null}if(r=$h(BO(this.next,t)),this.done=!!r.done)return;if(n=e(r.value),i=UCe(n),!i)throw NCe(".flatMap callback should return an iterable object");this.innerIterator=a=$h(BO(i,n)),this.innerNext=dB(a.next)}catch(o){MCe(t,"throw",o)}});CCe({target:"Iterator",proto:!0,real:!0},{flatMap:function(e){return new BCe({iterator:$h(this),mapper:dB(e),innerIterator:null,innerNext:null})}})});var LCe,zCe,$Ce,vB=S(function(){"use strict";LCe=P(),zCe=ge(),$Ce=W();LCe({target:"Iterator",proto:!0,real:!0},{forEach:function(e){zCe($Ce(this),e,{IS_ITERATOR:!0})}})});var HCe,VCe,WCe,GCe,KCe,YCe,XCe,JCe,QCe,ZCe,yB=S(function(){HCe=P(),VCe=Ke(),WCe=W(),GCe=Fe(),KCe=Qt(),YCe=Au().IteratorPrototype,XCe=_a(),JCe=fn(),QCe=wi(),ZCe=XCe(function(t){var e=WCe(VCe(this.next,this.iterator,t)),r=this.done=!!e.done;if(!r)return e.value},!0);HCe({target:"Iterator",stat:!0},{from:function(e){var r=GCe(e),n=QCe(r),i;if(n){if(i=JCe(r,n),KCe(YCe,i))return i}else i=r;return new ZCe({iterator:i})}})});var e3e,t3e,r3e,gB,n3e,i3e,a3e,mB=S(function(){"use strict";e3e=P(),t3e=Ke(),r3e=de(),gB=W(),n3e=_a(),i3e=Pd(),a3e=n3e(function(t){var e=this.iterator,r=gB(t3e(this.next,e,t)),n=this.done=!!r.done;if(!n)return i3e(e,this.mapper,r.value)});e3e({target:"Iterator",proto:!0,real:!0},{map:function(e){return new a3e({iterator:gB(this),mapper:r3e(e)})}})});var o3e,u3e,s3e,l3e,c3e,f3e,bB=S(function(){"use strict";o3e=P(),u3e=z(),s3e=ge(),l3e=de(),c3e=W(),f3e=u3e.TypeError;o3e({target:"Iterator",proto:!0,real:!0},{reduce:function(e){c3e(this),l3e(e);var r=arguments.length<2,n=r?void 0:arguments[1];if(s3e(this,function(i){r?(r=!1,n=i):n=e(n,i)},{IS_ITERATOR:!0}),r)throw f3e("Reduce of empty iterator with no initial value");return n}})});var p3e,d3e,h3e,v3e,_B=S(function(){"use strict";p3e=P(),d3e=ge(),h3e=de(),v3e=W();p3e({target:"Iterator",proto:!0,real:!0},{some:function(e){return v3e(this),h3e(e),d3e(this,function(r,n){if(e(r))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})});var y3e,g3e,wB,m3e,b3e,_3e,w3e,SB=S(function(){"use strict";y3e=P(),g3e=Ke(),wB=W(),m3e=Zu(),b3e=_a(),_3e=Yl(),w3e=b3e(function(t){var e=this.iterator;if(!this.remaining--)return this.done=!0,_3e(e,"normal",void 0);var r=wB(g3e(this.next,e,t)),n=this.done=!!r.done;if(!n)return r.value});y3e({target:"Iterator",proto:!0,real:!0},{take:function(e){return new w3e({iterator:wB(this),remaining:m3e(e)})}})});var S3e,O3e,P3e,q3e,OB=S(function(){"use strict";S3e=P(),O3e=ge(),P3e=W(),q3e=[].push;S3e({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return O3e(P3e(this),q3e,{that:e,IS_ITERATOR:!0}),e}})});var Wc=h(function(Wvt,PB){"use strict";var R3e=le(),E3e=de(),T3e=W();PB.exports=function(){for(var e=T3e(this),r=E3e(e.delete),n=!0,i,a=0,o=arguments.length;a<o;a++)i=R3e(r,e,arguments[a]),n=n&&i;return!!n}});var A3e,I3e,k3e,qB=S(function(){"use strict";A3e=P(),I3e=he(),k3e=Wc();A3e({target:"Map",proto:!0,real:!0,forced:I3e},{deleteAll:k3e})});var $O=h(function(Gvt,RB){"use strict";var LO=le(),zO=de(),x3e=W();RB.exports=function(e,r){var n=x3e(this),i=zO(n.get),a=zO(n.has),o=zO(n.set),u=LO(a,n,e)&&"update"in r?r.update(LO(i,n,e),e,n):r.insert(e,n);return LO(o,n,e,u),u}});var F3e,C3e,D3e,EB=S(function(){"use strict";F3e=P(),C3e=he(),D3e=$O();F3e({target:"Map",proto:!0,real:!0,forced:C3e},{emplace:D3e})});var vn=h(function(Kvt,TB){var U3e=le();TB.exports=function(t){return U3e(Map.prototype.entries,t)}});var j3e,M3e,N3e,B3e,L3e,z3e,AB=S(function(){"use strict";j3e=P(),M3e=he(),N3e=W(),B3e=Ye(),L3e=vn(),z3e=ge();j3e({target:"Map",proto:!0,real:!0,forced:M3e},{every:function(e){var r=N3e(this),n=L3e(r),i=B3e(e,arguments.length>1?arguments[1]:void 0);return!z3e(n,function(a,o,u){if(!i(o,a,r))return u()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})});var $3e,H3e,V3e,W3e,G3e,K3e,Y3e,X3e,J3e,Q3e,IB=S(function(){"use strict";$3e=he(),H3e=P(),V3e=xe(),W3e=Ye(),G3e=le(),K3e=de(),Y3e=W(),X3e=Zt(),J3e=vn(),Q3e=ge();H3e({target:"Map",proto:!0,real:!0,forced:$3e},{filter:function(e){var r=Y3e(this),n=J3e(r),i=W3e(e,arguments.length>1?arguments[1]:void 0),a=new(X3e(r,V3e("Map"))),o=K3e(a.set);return Q3e(n,function(u,s){i(s,u,r)&&G3e(o,a,u,s)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a}})});var Z3e,eDe,tDe,rDe,nDe,iDe,kB=S(function(){"use strict";Z3e=P(),eDe=he(),tDe=W(),rDe=Ye(),nDe=vn(),iDe=ge();Z3e({target:"Map",proto:!0,real:!0,forced:eDe},{find:function(e){var r=tDe(this),n=nDe(r),i=rDe(e,arguments.length>1?arguments[1]:void 0);return iDe(n,function(a,o,u){if(i(o,a,r))return u(o)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})});var aDe,oDe,uDe,sDe,lDe,cDe,xB=S(function(){"use strict";aDe=P(),oDe=he(),uDe=W(),sDe=Ye(),lDe=vn(),cDe=ge();aDe({target:"Map",proto:!0,real:!0,forced:oDe},{findKey:function(e){var r=uDe(this),n=lDe(r),i=sDe(e,arguments.length>1?arguments[1]:void 0);return cDe(n,function(a,o,u){if(i(o,a,r))return u(a)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})});var Gc=h(function(Yvt,DB){"use strict";var fDe=Ye(),pDe=le(),dDe=de(),hDe=vc(),FB=ge(),CB=[].push;DB.exports=function(e){var r=arguments.length,n=r>1?arguments[1]:void 0,i,a,o,u;return hDe(this),i=n!==void 0,i&&dDe(n),e==null?new this:(a=[],i?(o=0,u=fDe(n,r>2?arguments[2]:void 0),FB(e,function(s){pDe(CB,a,u(s,o++))})):FB(e,CB,{that:a}),new this(a))}});var vDe,yDe,UB=S(function(){vDe=P(),yDe=Gc();vDe({target:"Map",stat:!0},{from:yDe})});var gDe,HO,mDe,Hh,bDe,_De,wDe,jB=S(function(){"use strict";gDe=P(),HO=le(),mDe=ae(),Hh=de(),bDe=fn(),_De=ge(),wDe=mDe([].push);gDe({target:"Map",stat:!0},{groupBy:function(e,r){Hh(r);var n=bDe(e),i=new this,a=Hh(i.has),o=Hh(i.get),u=Hh(i.set);return _De(n,function(s){var l=r(s);HO(a,i,l)?wDe(HO(o,i,l),s):HO(u,i,l,[s])},{IS_ITERATOR:!0}),i}})});var NB=h(function(Xvt,MB){MB.exports=function(t,e){return t===e||t!=t&&e!=e}});var SDe,ODe,PDe,qDe,RDe,EDe,BB=S(function(){"use strict";SDe=he(),ODe=P(),PDe=W(),qDe=vn(),RDe=NB(),EDe=ge();ODe({target:"Map",proto:!0,real:!0,forced:SDe},{includes:function(e){return EDe(qDe(PDe(this)),function(r,n,i){if(RDe(n,e))return i()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})});var TDe,ADe,IDe,LB,zB=S(function(){"use strict";TDe=P(),ADe=le(),IDe=ge(),LB=de();TDe({target:"Map",stat:!0},{keyBy:function(e,r){var n=new this;LB(r);var i=LB(n.set);return IDe(e,function(a){ADe(i,n,r(a),a)}),n}})});var kDe,xDe,FDe,CDe,DDe,$B=S(function(){"use strict";kDe=P(),xDe=he(),FDe=W(),CDe=vn(),DDe=ge();kDe({target:"Map",proto:!0,real:!0,forced:xDe},{keyOf:function(e){return DDe(CDe(FDe(this)),function(r,n,i){if(n===e)return i(r)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})});var UDe,jDe,MDe,NDe,BDe,LDe,zDe,$De,HDe,VDe,HB=S(function(){"use strict";UDe=he(),jDe=P(),MDe=xe(),NDe=Ye(),BDe=le(),LDe=de(),zDe=W(),$De=Zt(),HDe=vn(),VDe=ge();jDe({target:"Map",proto:!0,real:!0,forced:UDe},{mapKeys:function(e){var r=zDe(this),n=HDe(r),i=NDe(e,arguments.length>1?arguments[1]:void 0),a=new($De(r,MDe("Map"))),o=LDe(a.set);return VDe(n,function(u,s){BDe(o,a,i(s,u,r),s)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a}})});var WDe,GDe,KDe,YDe,XDe,JDe,QDe,ZDe,eUe,tUe,VB=S(function(){"use strict";WDe=he(),GDe=P(),KDe=xe(),YDe=Ye(),XDe=le(),JDe=de(),QDe=W(),ZDe=Zt(),eUe=vn(),tUe=ge();GDe({target:"Map",proto:!0,real:!0,forced:WDe},{mapValues:function(e){var r=QDe(this),n=eUe(r),i=YDe(e,arguments.length>1?arguments[1]:void 0),a=new(ZDe(r,KDe("Map"))),o=JDe(a.set);return tUe(n,function(u,s){XDe(o,a,u,i(s,u,r))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a}})});var rUe,nUe,iUe,aUe,oUe,WB=S(function(){"use strict";rUe=P(),nUe=he(),iUe=de(),aUe=W(),oUe=ge();rUe({target:"Map",proto:!0,real:!0,forced:nUe},{merge:function(e){for(var r=aUe(this),n=iUe(r.set),i=arguments.length,a=0;a<i;)oUe(arguments[a++],n,{that:r,AS_ENTRIES:!0});return r}})});var Kc=h(function(Jvt,GB){"use strict";var uUe=oa();GB.exports=function(){return new this(uUe(arguments))}});var sUe,lUe,KB=S(function(){sUe=P(),lUe=Kc();sUe({target:"Map",stat:!0},{of:lUe})});var cUe,fUe,pUe,dUe,hUe,vUe,yUe,gUe,YB=S(function(){"use strict";cUe=P(),fUe=z(),pUe=he(),dUe=W(),hUe=de(),vUe=vn(),yUe=ge(),gUe=fUe.TypeError;cUe({target:"Map",proto:!0,real:!0,forced:pUe},{reduce:function(e){var r=dUe(this),n=vUe(r),i=arguments.length<2,a=i?void 0:arguments[1];if(hUe(e),yUe(n,function(o,u){i?(i=!1,a=u):a=e(a,u,o,r)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i)throw gUe("Reduce of empty map with no initial value");return a}})});var mUe,bUe,_Ue,wUe,SUe,OUe,XB=S(function(){"use strict";mUe=P(),bUe=he(),_Ue=W(),wUe=Ye(),SUe=vn(),OUe=ge();mUe({target:"Map",proto:!0,real:!0,forced:bUe},{some:function(e){var r=_Ue(this),n=SUe(r),i=wUe(e,arguments.length>1?arguments[1]:void 0);return OUe(n,function(a,o,u){if(i(o,a,r))return u()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})});var PUe,qUe,RUe,VO,EUe,Yc,TUe,JB=S(function(){"use strict";PUe=he(),qUe=P(),RUe=z(),VO=le(),EUe=W(),Yc=de(),TUe=RUe.TypeError;qUe({target:"Map",proto:!0,real:!0,forced:PUe},{update:function(e,r){var n=EUe(this),i=Yc(n.get),a=Yc(n.has),o=Yc(n.set),u=arguments.length;Yc(r);var s=VO(a,n,e);if(!s&&u<3)throw TUe("Updating absent value");var l=s?VO(i,n,e):Yc(u>2?arguments[2]:void 0)(e,n);return VO(o,n,e,r(l,e,n)),n}})});var Gh=h(function(Qvt,QB){"use strict";var AUe=z(),Vh=le(),WO=de(),Wh=Ee(),IUe=W(),kUe=AUe.TypeError;QB.exports=function(e,r){var n=IUe(this),i=WO(n.get),a=WO(n.has),o=WO(n.set),u=arguments.length>2?arguments[2]:void 0,s;if(!Wh(r)&&!Wh(u))throw kUe("At least one callback required");return Vh(a,n,e)?(s=Vh(i,n,e),Wh(r)&&(s=r(s),Vh(o,n,e,s))):Wh(u)&&(s=u(),Vh(o,n,e,s)),s}});var xUe,FUe,CUe,ZB=S(function(){"use strict";xUe=P(),FUe=he(),CUe=Gh();xUe({target:"Map",proto:!0,real:!0,name:"upsert",forced:FUe},{updateOrInsert:CUe})});var DUe,UUe,jUe,eL=S(function(){"use strict";DUe=P(),UUe=he(),jUe=Gh();DUe({target:"Map",proto:!0,real:!0,forced:UUe},{upsert:jUe})});var MUe,NUe,BUe,tL=S(function(){MUe=P(),NUe=Math.min,BUe=Math.max;MUe({target:"Math",stat:!0},{clamp:function(e,r,n){return NUe(n,BUe(r,e))}})});var LUe,rL=S(function(){LUe=P();LUe({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})});var zUe,$Ue,nL=S(function(){zUe=P(),$Ue=180/Math.PI;zUe({target:"Math",stat:!0},{degrees:function(e){return e*$Ue}})});var GO=h(function(Zvt,iL){iL.exports=Math.scale||function(e,r,n,i,a){var o=+e,u=+r,s=+n,l=+i,c=+a;return o!=o||u!=u||s!=s||l!=l||c!=c?NaN:o===1/0||o===-1/0?o:(o-u)*(c-l)/(s-u)+l}});var HUe,VUe,WUe,aL=S(function(){HUe=P(),VUe=GO(),WUe=Xw();HUe({target:"Math",stat:!0},{fscale:function(e,r,n,i,a){return WUe(VUe(e,r,n,i,a))}})});var GUe,oL=S(function(){GUe=P();GUe({target:"Math",stat:!0},{iaddh:function(e,r,n,i){var a=e>>>0,o=r>>>0,u=n>>>0;return o+(i>>>0)+((a&u|(a|u)&~(a+u>>>0))>>>31)|0}})});var KUe,uL=S(function(){KUe=P();KUe({target:"Math",stat:!0},{imulh:function(e,r){var n=65535,i=+e,a=+r,o=i&n,u=a&n,s=i>>16,l=a>>16,c=(s*u>>>0)+(o*u>>>16);return s*l+(c>>16)+((o*l>>>0)+(c&n)>>16)}})});var YUe,sL=S(function(){YUe=P();YUe({target:"Math",stat:!0},{isubh:function(e,r,n,i){var a=e>>>0,o=r>>>0,u=n>>>0;return o-(i>>>0)-((~a&u|~(a^u)&a-u>>>0)>>>31)|0}})});var XUe,lL=S(function(){XUe=P();XUe({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})});var JUe,QUe,cL=S(function(){JUe=P(),QUe=Math.PI/180;JUe({target:"Math",stat:!0},{radians:function(e){return e*QUe}})});var ZUe,eje,fL=S(function(){ZUe=P(),eje=GO();ZUe({target:"Math",stat:!0},{scale:eje})});var tje,rje,nje,ije,aje,pL,dL,hL,oje,uje,sje,lje,cje,vL=S(function(){tje=P(),rje=z(),nje=W(),ije=n0(),aje=ca(),pL=We(),dL="Seeded Random",hL=dL+" Generator",oje='Math.seededPRNG() argument should have a "seed" field with a finite value.',uje=pL.set,sje=pL.getterFor(hL),lje=rje.TypeError,cje=aje(function(e){uje(this,{type:hL,seed:e%2147483647})},dL,function(){var e=sje(this),r=e.seed=(e.seed*1103515245+12345)%2147483647;return{value:(r&1073741823)/1073741823,done:!1}});tje({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var r=nje(e).seed;if(!ije(r))throw lje(oje);return new cje(r)}})});var fje,yL=S(function(){fje=P();fje({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&e==0?1/e==-1/0:e<0}})});var pje,gL=S(function(){pje=P();pje({target:"Math",stat:!0},{umulh:function(e,r){var n=65535,i=+e,a=+r,o=i&n,u=a&n,s=i>>>16,l=a>>>16,c=(s*u>>>0)+(o*u>>>16);return s*l+(c>>>16)+((o*l>>>0)+(c&n)>>>16)}})});var dje,KO,Kh,hje,vje,Yh,yje,gje,YO,mje,mL,bje,_je,wje,Sje,bL=S(function(){"use strict";dje=P(),KO=z(),Kh=ae(),hje=Vt(),vje=i0(),Yh="Invalid number representation",yje="Invalid radix",gje=KO.RangeError,YO=KO.SyntaxError,mje=KO.TypeError,mL=/^[\da-z]+$/,bje=Kh("".charAt),_je=Kh(mL.exec),wje=Kh(1 .toString),Sje=Kh("".slice);dje({target:"Number",stat:!0},{fromString:function(e,r){var n=1,i,a;if(typeof e!="string")throw mje(Yh);if(!e.length||bje(e,0)=="-"&&(n=-1,e=Sje(e,1),!e.length))throw YO(Yh);if(i=r===void 0?10:hje(r),i<2||i>36)throw gje(yje);if(!_je(mL,e)||wje(a=vje(e,i),i)!==e)throw YO(Yh);return n*a}})});var Oje,Pje,_L=S(function(){"use strict";Oje=P(),Pje=FO();Oje({target:"Number",stat:!0},{range:function(e,r,n){return new Pje(e,r,n,"number",0,1)}})});var wL=h(function(){var qje=P(),Rje=Le();qje({target:"Object",stat:!0},{hasOwn:Rje})});var SL=S(function(){wL()});var Xh=h(function(ryt,qL){"use strict";var OL=We(),Eje=ca(),Tje=Le(),Aje=so(),Ije=Fe(),PL="Object Iterator",kje=OL.set,xje=OL.getterFor(PL);qL.exports=Eje(function(e,r){var n=Ije(e);kje(this,{type:PL,mode:r,object:n,keys:Aje(n),index:0})},"Object",function(){for(var e=xje(this),r=e.keys;;){if(r===null||e.index>=r.length)return e.object=e.keys=null,{value:void 0,done:!0};var n=r[e.index++],i=e.object;if(!!Tje(i,n)){switch(e.mode){case"keys":return{value:n,done:!1};case"values":return{value:i[n],done:!1}}return{value:[n,i[n]],done:!1}}}})});var Fje,Cje,RL=S(function(){"use strict";Fje=P(),Cje=Xh();Fje({target:"Object",stat:!0},{iterateEntries:function(e){return new Cje(e,"entries")}})});var Dje,Uje,EL=S(function(){"use strict";Dje=P(),Uje=Xh();Dje({target:"Object",stat:!0},{iterateKeys:function(e){return new Uje(e,"keys")}})});var jje,Mje,TL=S(function(){"use strict";jje=P(),Mje=Xh();jje({target:"Object",stat:!0},{iterateValues:function(e){return new Mje(e,"values")}})});var Nje,Bje,Xc,Jc,Lje,AL,IL,kL,XO,zje,$je,xL,Hje,Jh,Vje,Qc,Wje,is,Gje,FL,CL,JO,DL,UL,QO,ZO,Kje,jL,Qh,Yje,ML,e1,t1,Zc,r1,NL=S(function(){"use strict";Nje=P(),Bje=z(),Xc=le(),Jc=Re(),Lje=pa(),AL=de(),IL=Ee(),kL=co(),XO=W(),zje=we(),$je=jr(),xL=Ne().f,Hje=st(),Jh=pn(),Vje=fn(),Qc=Ft(),Wje=ge(),is=C0(),Gje=be(),FL=We(),CL=Gje("observable"),JO="Observable",DL="Subscription",UL="SubscriptionObserver",QO=FL.getterFor,ZO=FL.set,Kje=QO(JO),jL=QO(DL),Qh=QO(UL),Yje=Bje.Array,ML=function(e){this.observer=XO(e),this.cleanup=void 0,this.subscriptionObserver=void 0};ML.prototype={type:DL,clean:function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(r){is(r)}}},close:function(){if(!Jc){var e=this.facade,r=this.subscriptionObserver;e.closed=!0,r&&(r.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};e1=function(e,r){var n=ZO(this,new ML(e)),i;Jc||(this.closed=!1);try{(i=Qc(e,"start"))&&Xc(i,e,this)}catch(s){is(s)}if(!n.isClosed()){var a=n.subscriptionObserver=new t1(n);try{var o=r(a),u=o;o!=null&&(n.cleanup=IL(o.unsubscribe)?function(){u.unsubscribe()}:AL(o))}catch(s){a.error(s);return}n.isClosed()&&n.clean()}};e1.prototype=Jh({},{unsubscribe:function(){var e=jL(this);e.isClosed()||(e.close(),e.clean())}});Jc&&xL(e1.prototype,"closed",{configurable:!0,get:function(){return jL(this).isClosed()}});t1=function(e){ZO(this,{type:UL,subscriptionState:e}),Jc||(this.closed=!1)};t1.prototype=Jh({},{next:function(e){var r=Qh(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=Qc(n,"next");i&&Xc(i,n,e)}catch(a){is(a)}}},error:function(e){var r=Qh(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=Qc(n,"error");i?Xc(i,n,e):is(e)}catch(a){is(a)}r.clean()}},complete:function(){var e=Qh(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=Qc(r,"complete");n&&Xc(n,r)}catch(i){is(i)}e.clean()}}});Jc&&xL(t1.prototype,"closed",{configurable:!0,get:function(){return Qh(this).subscriptionState.isClosed()}});Zc=function(e){$je(this,r1),ZO(this,{type:JO,subscriber:AL(e)})},r1=Zc.prototype;Jh(r1,{subscribe:function(e){var r=arguments.length;return new e1(IL(e)?{next:e,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:zje(e)?e:{},Kje(this).subscriber)}});Jh(Zc,{from:function(e){var r=kL(this)?this:Zc,n=Qc(XO(e),CL);if(n){var i=XO(Xc(n,e));return i.constructor===r?i:new r(function(o){return i.subscribe(o)})}var a=Vje(e);return new r(function(o){Wje(a,function(u,s){if(o.next(u),o.closed)return s()},{IS_ITERATOR:!0,INTERRUPTED:!0}),o.complete()})},of:function(){for(var e=kL(this)?this:Zc,r=arguments.length,n=Yje(r),i=0;i<r;)n[i]=arguments[i++];return new e(function(a){for(var o=0;o<r;o++)if(a.next(n[o]),a.closed)return;a.complete()})}});Hje(r1,CL,function(){return this});Nje({global:!0},{Observable:Zc});Lje(JO)});var BL=S(function(){H0()});var LL=S(function(){V0()});var Xje,Jje,Qje,zL=S(function(){"use strict";Xje=P(),Jje=ju(),Qje=wc();Xje({target:"Promise",stat:!0},{try:function(e){var r=Jje.f(this),n=Qje(e);return(n.error?r.reject:r.resolve)(n.value),r.promise}})});var Bn=h(function(nyt,WL){function Zh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zh=function(r){return typeof r}:Zh=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zh(t)}zd();Dh();var $L=xe(),Zje=ae(),e5e=_u(),HL=$L("Map"),t5e=$L("WeakMap"),r5e=Zje([].push),VL=e5e("metadata"),n1=VL.store||(VL.store=new t5e),ef=function(e,r,n){var i=n1.get(e);if(!i){if(!n)return;n1.set(e,i=new HL)}var a=i.get(r);if(!a){if(!n)return;i.set(r,a=new HL)}return a},n5e=function(e,r,n){var i=ef(r,n,!1);return i===void 0?!1:i.has(e)},i5e=function(e,r,n){var i=ef(r,n,!1);return i===void 0?void 0:i.get(e)},a5e=function(e,r,n,i){ef(n,i,!0).set(e,r)},o5e=function(e,r){var n=ef(e,r,!1),i=[];return n&&n.forEach(function(a,o){r5e(i,o)}),i},u5e=function(e){return e===void 0||Zh(e)=="symbol"?e:String(e)};WL.exports={store:n1,getMap:ef,has:n5e,get:i5e,set:a5e,keys:o5e,toKey:u5e}});var s5e,GL,l5e,c5e,f5e,KL=S(function(){s5e=P(),GL=Bn(),l5e=W(),c5e=GL.toKey,f5e=GL.set;s5e({target:"Reflect",stat:!0},{defineMetadata:function(e,r,n){var i=arguments.length<4?void 0:c5e(arguments[3]);f5e(e,r,l5e(n),i)}})});var p5e,i1,d5e,h5e,v5e,YL,XL=S(function(){p5e=P(),i1=Bn(),d5e=W(),h5e=i1.toKey,v5e=i1.getMap,YL=i1.store;p5e({target:"Reflect",stat:!0},{deleteMetadata:function(e,r){var n=arguments.length<3?void 0:h5e(arguments[2]),i=v5e(d5e(r),n,!1);if(i===void 0||!i.delete(e))return!1;if(i.size)return!0;var a=YL.get(r);return a.delete(n),!!a.size||YL.delete(r)}})});var y5e,a1,g5e,m5e,b5e,_5e,w5e,S5e,JL=S(function(){y5e=P(),a1=Bn(),g5e=W(),m5e=Ut(),b5e=a1.has,_5e=a1.get,w5e=a1.toKey,S5e=function t(e,r,n){var i=b5e(e,r,n);if(i)return _5e(e,r,n);var a=m5e(r);return a!==null?t(e,a,n):void 0};y5e({target:"Reflect",stat:!0},{getMetadata:function(e,r){var n=arguments.length<3?void 0:w5e(arguments[2]);return S5e(e,g5e(r),n)}})});var O5e,QL,ZL,P5e,q5e,R5e,E5e,T5e,A5e,I5e,k5e,e9=S(function(){O5e=P(),QL=ae(),ZL=Bn(),P5e=W(),q5e=Ut(),R5e=jh(),E5e=QL(R5e),T5e=QL([].concat),A5e=ZL.keys,I5e=ZL.toKey,k5e=function t(e,r){var n=A5e(e,r),i=q5e(e);if(i===null)return n;var a=t(i,r);return a.length?n.length?E5e(T5e(n,a)):a:n};O5e({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var r=arguments.length<2?void 0:I5e(arguments[1]);return k5e(P5e(e),r)}})});var x5e,t9,F5e,C5e,D5e,r9=S(function(){x5e=P(),t9=Bn(),F5e=W(),C5e=t9.get,D5e=t9.toKey;x5e({target:"Reflect",stat:!0},{getOwnMetadata:function(e,r){var n=arguments.length<3?void 0:D5e(arguments[2]);return C5e(e,F5e(r),n)}})});var U5e,n9,j5e,M5e,N5e,i9=S(function(){U5e=P(),n9=Bn(),j5e=W(),M5e=n9.keys,N5e=n9.toKey;U5e({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var r=arguments.length<2?void 0:N5e(arguments[1]);return M5e(j5e(e),r)}})});var B5e,a9,L5e,z5e,$5e,H5e,V5e,o9=S(function(){B5e=P(),a9=Bn(),L5e=W(),z5e=Ut(),$5e=a9.has,H5e=a9.toKey,V5e=function t(e,r,n){var i=$5e(e,r,n);if(i)return!0;var a=z5e(r);return a!==null?t(e,a,n):!1};B5e({target:"Reflect",stat:!0},{hasMetadata:function(e,r){var n=arguments.length<3?void 0:H5e(arguments[2]);return V5e(e,L5e(r),n)}})});var W5e,u9,G5e,K5e,Y5e,s9=S(function(){W5e=P(),u9=Bn(),G5e=W(),K5e=u9.has,Y5e=u9.toKey;W5e({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,r){var n=arguments.length<3?void 0:Y5e(arguments[2]);return K5e(e,G5e(r),n)}})});var X5e,l9,J5e,Q5e,Z5e,c9=S(function(){X5e=P(),l9=Bn(),J5e=W(),Q5e=l9.toKey,Z5e=l9.set;X5e({target:"Reflect",stat:!0},{metadata:function(e,r){return function(i,a){Z5e(e,r,J5e(i),Q5e(a))}}})});var o1=h(function(iyt,f9){"use strict";var eMe=le(),tMe=de(),rMe=W();f9.exports=function(){for(var e=rMe(this),r=tMe(e.add),n=0,i=arguments.length;n<i;n++)eMe(r,e,arguments[n]);return e}});var nMe,iMe,aMe,p9=S(function(){"use strict";nMe=P(),iMe=he(),aMe=o1();nMe({target:"Set",proto:!0,real:!0,forced:iMe},{addAll:aMe})});var oMe,uMe,sMe,d9=S(function(){"use strict";oMe=P(),uMe=he(),sMe=Wc();oMe({target:"Set",proto:!0,real:!0,forced:uMe},{deleteAll:sMe})});var lMe,cMe,fMe,pMe,dMe,hMe,vMe,yMe,h9=S(function(){"use strict";lMe=he(),cMe=P(),fMe=xe(),pMe=le(),dMe=de(),hMe=W(),vMe=Zt(),yMe=ge();cMe({target:"Set",proto:!0,real:!0,forced:lMe},{difference:function(e){var r=hMe(this),n=new(vMe(r,fMe("Set")))(r),i=dMe(n.delete);return yMe(e,function(a){pMe(i,n,a)}),n}})});var wa=h(function(ayt,v9){var gMe=le();v9.exports=function(t){return gMe(Set.prototype.values,t)}});var mMe,bMe,_Me,wMe,SMe,OMe,y9=S(function(){"use strict";mMe=P(),bMe=he(),_Me=W(),wMe=Ye(),SMe=wa(),OMe=ge();mMe({target:"Set",proto:!0,real:!0,forced:bMe},{every:function(e){var r=_Me(this),n=SMe(r),i=wMe(e,arguments.length>1?arguments[1]:void 0);return!OMe(n,function(a,o){if(!i(a,a,r))return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})});var PMe,qMe,RMe,EMe,TMe,AMe,IMe,kMe,xMe,FMe,g9=S(function(){"use strict";PMe=he(),qMe=P(),RMe=xe(),EMe=le(),TMe=de(),AMe=W(),IMe=Ye(),kMe=Zt(),xMe=wa(),FMe=ge();qMe({target:"Set",proto:!0,real:!0,forced:PMe},{filter:function(e){var r=AMe(this),n=xMe(r),i=IMe(e,arguments.length>1?arguments[1]:void 0),a=new(kMe(r,RMe("Set"))),o=TMe(a.add);return FMe(n,function(u){i(u,u,r)&&EMe(o,a,u)},{IS_ITERATOR:!0}),a}})});var CMe,DMe,UMe,jMe,MMe,NMe,m9=S(function(){"use strict";CMe=P(),DMe=he(),UMe=W(),jMe=Ye(),MMe=wa(),NMe=ge();CMe({target:"Set",proto:!0,real:!0,forced:DMe},{find:function(e){var r=UMe(this),n=MMe(r),i=jMe(e,arguments.length>1?arguments[1]:void 0);return NMe(n,function(a,o){if(i(a,a,r))return o(a)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})});var BMe,LMe,b9=S(function(){BMe=P(),LMe=Gc();BMe({target:"Set",stat:!0},{from:LMe})});var zMe,$Me,HMe,_9,w9,VMe,WMe,GMe,S9=S(function(){"use strict";zMe=he(),$Me=P(),HMe=xe(),_9=le(),w9=de(),VMe=W(),WMe=Zt(),GMe=ge();$Me({target:"Set",proto:!0,real:!0,forced:zMe},{intersection:function(e){var r=VMe(this),n=new(WMe(r,HMe("Set"))),i=w9(r.has),a=w9(n.add);return GMe(e,function(o){_9(i,r,o)&&_9(a,n,o)}),n}})});var KMe,YMe,XMe,JMe,QMe,ZMe,O9=S(function(){"use strict";KMe=he(),YMe=P(),XMe=le(),JMe=de(),QMe=W(),ZMe=ge();YMe({target:"Set",proto:!0,real:!0,forced:KMe},{isDisjointFrom:function(e){var r=QMe(this),n=JMe(r.has);return!ZMe(e,function(i,a){if(XMe(n,r,i)===!0)return a()},{INTERRUPTED:!0}).stopped}})});var eNe,tNe,rNe,nNe,iNe,aNe,oNe,uNe,sNe,P9=S(function(){"use strict";eNe=he(),tNe=P(),rNe=xe(),nNe=le(),iNe=de(),aNe=Ee(),oNe=W(),uNe=fn(),sNe=ge();tNe({target:"Set",proto:!0,real:!0,forced:eNe},{isSubsetOf:function(e){var r=uNe(this),n=oNe(e),i=n.has;return aNe(i)||(n=new(rNe("Set"))(e),i=iNe(n.has)),!sNe(r,function(a,o){if(nNe(i,n,a)===!1)return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})});var lNe,cNe,fNe,pNe,dNe,hNe,q9=S(function(){"use strict";lNe=he(),cNe=P(),fNe=le(),pNe=de(),dNe=W(),hNe=ge();cNe({target:"Set",proto:!0,real:!0,forced:lNe},{isSupersetOf:function(e){var r=dNe(this),n=pNe(r.has);return!hNe(e,function(i,a){if(fNe(n,r,i)===!1)return a()},{INTERRUPTED:!0}).stopped}})});var vNe,yNe,gNe,mNe,bNe,_Ne,wNe,SNe,ONe,R9=S(function(){"use strict";vNe=he(),yNe=P(),gNe=ae(),mNe=W(),bNe=Be(),_Ne=wa(),wNe=ge(),SNe=gNe([].join),ONe=[].push;yNe({target:"Set",proto:!0,real:!0,forced:vNe},{join:function(e){var r=mNe(this),n=_Ne(r),i=e===void 0?",":bNe(e),a=[];return wNe(n,ONe,{that:a,IS_ITERATOR:!0}),SNe(a,i)}})});var PNe,qNe,RNe,ENe,TNe,ANe,INe,kNe,xNe,FNe,E9=S(function(){"use strict";PNe=he(),qNe=P(),RNe=xe(),ENe=Ye(),TNe=le(),ANe=de(),INe=W(),kNe=Zt(),xNe=wa(),FNe=ge();qNe({target:"Set",proto:!0,real:!0,forced:PNe},{map:function(e){var r=INe(this),n=xNe(r),i=ENe(e,arguments.length>1?arguments[1]:void 0),a=new(kNe(r,RNe("Set"))),o=ANe(a.add);return FNe(n,function(u){TNe(o,a,i(u,u,r))},{IS_ITERATOR:!0}),a}})});var CNe,DNe,T9=S(function(){CNe=P(),DNe=Kc();CNe({target:"Set",stat:!0},{of:DNe})});var UNe,jNe,MNe,NNe,BNe,LNe,zNe,$Ne,A9=S(function(){"use strict";UNe=P(),jNe=z(),MNe=he(),NNe=de(),BNe=W(),LNe=wa(),zNe=ge(),$Ne=jNe.TypeError;UNe({target:"Set",proto:!0,real:!0,forced:MNe},{reduce:function(e){var r=BNe(this),n=LNe(r),i=arguments.length<2,a=i?void 0:arguments[1];if(NNe(e),zNe(n,function(o){i?(i=!1,a=o):a=e(a,o,o,r)},{IS_ITERATOR:!0}),i)throw $Ne("Reduce of empty set with no initial value");return a}})});var HNe,VNe,WNe,GNe,KNe,YNe,I9=S(function(){"use strict";HNe=P(),VNe=he(),WNe=W(),GNe=Ye(),KNe=wa(),YNe=ge();HNe({target:"Set",proto:!0,real:!0,forced:VNe},{some:function(e){var r=WNe(this),n=KNe(r),i=GNe(e,arguments.length>1?arguments[1]:void 0);return YNe(n,function(a,o){if(i(a,a,r))return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})});var XNe,JNe,QNe,k9,x9,ZNe,e8e,t8e,F9=S(function(){"use strict";XNe=he(),JNe=P(),QNe=xe(),k9=le(),x9=de(),ZNe=W(),e8e=Zt(),t8e=ge();JNe({target:"Set",proto:!0,real:!0,forced:XNe},{symmetricDifference:function(e){var r=ZNe(this),n=new(e8e(r,QNe("Set")))(r),i=x9(n.delete),a=x9(n.add);return t8e(e,function(o){k9(i,n,o)||k9(a,n,o)}),n}})});var r8e,n8e,i8e,a8e,o8e,u8e,s8e,C9=S(function(){"use strict";r8e=P(),n8e=he(),i8e=xe(),a8e=de(),o8e=W(),u8e=Zt(),s8e=ge();r8e({target:"Set",proto:!0,real:!0,forced:n8e},{union:function(e){var r=o8e(this),n=new(u8e(r,i8e("Set")))(r);return s8e(e,a8e(n.add),{that:n}),n}})});var l8e,c8e,f8e,p8e,D9=S(function(){"use strict";l8e=P(),c8e=Po().charAt,f8e=oe(),p8e=f8e(function(){return"\uD842\uDFB7".at(0)!=="\uD842\uDFB7"});l8e({target:"String",proto:!0,forced:p8e},{at:function(e){return c8e(this,e)}})});var d8e,h8e,v8e,y8e,U9,j9,g8e,m8e,M9,b8e,_8e,w8e,N9=S(function(){"use strict";d8e=P(),h8e=ca(),v8e=Rt(),y8e=Be(),U9=We(),j9=Po(),g8e=j9.codeAt,m8e=j9.charAt,M9="String Iterator",b8e=U9.set,_8e=U9.getterFor(M9),w8e=h8e(function(e){b8e(this,{type:M9,string:e,index:0})},"String",function(){var e=_8e(this),r=e.string,n=e.index,i;return n>=r.length?{value:void 0,done:!0}:(i=m8e(r,n),e.index+=i.length,{value:{codePoint:g8e(i,0),position:n},done:!1})});d8e({target:"String",proto:!0},{codePoints:function(){return new w8e(y8e(v8e(this)))}})});var B9=S(function(){wS()});var L9=S(function(){IS()});var S8e,z9=S(function(){S8e=at();S8e("asyncDispose")});var O8e,$9=S(function(){O8e=at();O8e("dispose")});var P8e,H9=S(function(){P8e=at();P8e("matcher")});var q8e,V9=S(function(){q8e=at();q8e("metadata")});var R8e,W9=S(function(){R8e=at();R8e("observable")});var E8e,G9=S(function(){E8e=at();E8e("patternMatch")});var T8e,K9=S(function(){T8e=at();T8e("replaceAll")});var X9=h(function(){"use strict";var Y9=Te(),A8e=Ge(),I8e=Vt(),k8e=Y9.aTypedArray,x8e=Y9.exportTypedArrayMethod;x8e("at",function(e){var r=k8e(this),n=A8e(r),i=I8e(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]})});var J9=S(function(){X9()});var Q9,F8e,C8e,D8e,U8e,Z9=S(function(){"use strict";Q9=Te(),F8e=Tt().filterReject,C8e=qh(),D8e=Q9.aTypedArray,U8e=Q9.exportTypedArrayMethod;U8e("filterOut",function(e){var r=F8e(D8e(this),e,arguments.length>1?arguments[1]:void 0);return C8e(this,r)})});var e7,j8e,M8e,N8e,t7=S(function(){"use strict";e7=Te(),j8e=Nc().findLast,M8e=e7.aTypedArray,N8e=e7.exportTypedArrayMethod;N8e("findLast",function(e){return j8e(M8e(this),e,arguments.length>1?arguments[1]:void 0)})});var r7,B8e,L8e,z8e,n7=S(function(){"use strict";r7=Te(),B8e=Nc().findLastIndex,L8e=r7.aTypedArray,z8e=r7.exportTypedArrayMethod;z8e("findLastIndex",function(e){return B8e(L8e(this),e,arguments.length>1?arguments[1]:void 0)})});var $8e,i7,H8e,V8e,W8e,G8e,K8e,a7=S(function(){"use strict";$8e=ae(),i7=Te(),H8e=jh(),V8e=qh(),W8e=i7.aTypedArray,G8e=i7.exportTypedArrayMethod,K8e=$8e(H8e);G8e("uniqueBy",function(e){return V8e(this,K8e(W8e(this),e))})});var Y8e,X8e,J8e,o7=S(function(){"use strict";Y8e=P(),X8e=he(),J8e=Wc();Y8e({target:"WeakMap",proto:!0,real:!0,forced:X8e},{deleteAll:J8e})});var Q8e,Z8e,u7=S(function(){Q8e=P(),Z8e=Gc();Q8e({target:"WeakMap",stat:!0},{from:Z8e})});var e6e,t6e,s7=S(function(){e6e=P(),t6e=Kc();e6e({target:"WeakMap",stat:!0},{of:t6e})});var r6e,n6e,i6e,l7=S(function(){"use strict";r6e=P(),n6e=he(),i6e=$O();r6e({target:"WeakMap",proto:!0,real:!0,forced:n6e},{emplace:i6e})});var a6e,o6e,u6e,c7=S(function(){"use strict";a6e=P(),o6e=he(),u6e=Gh();a6e({target:"WeakMap",proto:!0,real:!0,forced:o6e},{upsert:u6e})});var s6e,l6e,c6e,f7=S(function(){"use strict";s6e=P(),l6e=he(),c6e=o1();s6e({target:"WeakSet",proto:!0,real:!0,forced:l6e},{addAll:c6e})});var f6e,p6e,d6e,p7=S(function(){"use strict";f6e=P(),p6e=he(),d6e=Wc();f6e({target:"WeakSet",proto:!0,real:!0,forced:p6e},{deleteAll:d6e})});var h6e,v6e,d7=S(function(){h6e=P(),v6e=Gc();h6e({target:"WeakSet",stat:!0},{from:v6e})});var y6e,g6e,h7=S(function(){y6e=P(),g6e=Kc();y6e({target:"WeakSet",stat:!0},{of:g6e})});var u1=h(function(syt,v7){v7.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var l1=h(function(lyt,g7){var m6e=Cl(),s1=m6e("span").classList,y7=s1&&s1.constructor&&s1.constructor.prototype;g7.exports=y7===Object.prototype?void 0:y7});var b7=h(function(cyt,m7){"use strict";var b6e=Tt().forEach,_6e=tc(),w6e=_6e("forEach");m7.exports=w6e?[].forEach:function(e){return b6e(this,e,arguments.length>1?arguments[1]:void 0)}});var _7,w7,S6e,c1,O6e,S7,ev,O7=S(function(){_7=z(),w7=u1(),S6e=l1(),c1=b7(),O6e=Et(),S7=function(e){if(e&&e.forEach!==c1)try{O6e(e,"forEach",c1)}catch(r){e.forEach=c1}};for(ev in w7)w7[ev]&&S7(_7[ev]&&_7[ev].prototype);S7(S6e)});var P7,q7,P6e,tf,f1,R7,p1,E7,d1,T7,tv,A7=S(function(){P7=z(),q7=u1(),P6e=l1(),tf=ec(),f1=Et(),R7=be(),p1=R7("iterator"),E7=R7("toStringTag"),d1=tf.values,T7=function(e,r){if(e){if(e[p1]!==d1)try{f1(e,p1,d1)}catch(i){e[p1]=d1}if(e[E7]||f1(e,E7,r),q7[r]){for(var n in tf)if(e[n]!==tf[n])try{f1(e,n,tf[n])}catch(i){e[n]=tf[n]}}}};for(tv in q7)T7(P7[tv]&&P7[tv].prototype,tv);T7(P6e,"DOMTokenList")});var q6e,R6e,E6e,T6e,A6e,I7=S(function(){q6e=P(),R6e=z(),E6e=x0(),T6e=yc(),A6e=R6e.process;q6e({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var r=T6e&&A6e.domain;E6e(r?r.bind(e):e)}})});var h1=h(function(fyt,k7){var I6e=oe(),k6e=be(),x6e=he(),F6e=k6e("iterator");k7.exports=!I6e(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach(function(n,i){e.delete("b"),r+=i+n}),x6e&&!t.toJSON||!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[F6e]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var B7=h(function(pyt,N7){"use strict";var C6e=z(),Io=ae(),v1=2147483647,rf=36,x7=1,y1=26,D6e=38,U6e=700,j6e=72,M6e=128,N6e="-",B6e=/[^\0-\u007E]/,F7=/[.\u3002\uFF0E\uFF61]/g,C7="Overflow: input needs wider integers to process",g1=rf-x7,D7=C6e.RangeError,L6e=Io(F7.exec),as=Math.floor,m1=String.fromCharCode,U7=Io("".charCodeAt),j7=Io([].join),Sa=Io([].push),z6e=Io("".replace),$6e=Io("".split),H6e=Io("".toLowerCase),V6e=function(e){for(var r=[],n=0,i=e.length;n<i;){var a=U7(e,n++);if(a>=55296&&a<=56319&&n<i){var o=U7(e,n++);(o&64512)==56320?Sa(r,((a&1023)<<10)+(o&1023)+65536):(Sa(r,a),n--)}else Sa(r,a)}return r},M7=function(e){return e+22+75*(e<26)},W6e=function(e,r,n){var i=0;for(e=n?as(e/U6e):e>>1,e+=as(e/r);e>g1*y1>>1;)e=as(e/g1),i+=rf;return as(i+(g1+1)*e/(e+D6e))},G6e=function(e){var r=[];e=V6e(e);var n=e.length,i=M6e,a=0,o=j6e,u,s;for(u=0;u<e.length;u++)s=e[u],s<128&&Sa(r,m1(s));var l=r.length,c=l;for(l&&Sa(r,N6e);c<n;){var f=v1;for(u=0;u<e.length;u++)s=e[u],s>=i&&s<f&&(f=s);var p=c+1;if(f-i>as((v1-a)/p))throw D7(C7);for(a+=(f-i)*p,i=f,u=0;u<e.length;u++){if(s=e[u],s<i&&++a>v1)throw D7(C7);if(s==i){for(var d=a,v=rf;;){var g=v<=o?x7:v>=o+y1?y1:v-o;if(d<g)break;var m=d-g,_=rf-g;Sa(r,m1(M7(g+m%_))),d=as(m/_),v+=rf}Sa(r,m1(M7(d))),o=W6e(a,p,c==l),a=0,c++}}a++,i++}return j7(r,"")};N7.exports=function(t){var e=[],r=$6e(z6e(H6e(t),F7,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Sa(e,L6e(B6e,i)?"xn--"+G6e(i):i);return j7(e,".")}});var T1=h(function(dyt,uz){"use strict";ec();var b1=P(),rv=z(),_1=xe(),nv=le(),Ln=ae(),L7=h1(),z7=st(),K6e=pn(),Y6e=Dr(),X6e=ca(),w1=We(),$7=jr(),S1=Ee(),J6e=Le(),Q6e=Ye(),Z6e=aa(),e4e=W(),H7=we(),Or=Be(),t4e=Dt(),V7=ln(),O1=fn(),r4e=wi(),n4e=be(),i4e=Td(),a4e=n4e("iterator"),nf="URLSearchParams",W7=nf+"Iterator",G7=w1.set,yn=w1.getterFor(nf),o4e=w1.getterFor(W7),K7=_1("fetch"),iv=_1("Request"),af=_1("Headers"),P1=iv&&iv.prototype,Y7=af&&af.prototype,u4e=rv.RegExp,X7=rv.TypeError,J7=rv.decodeURIComponent,s4e=rv.encodeURIComponent,l4e=Ln("".charAt),Q7=Ln([].join),ko=Ln([].push),q1=Ln("".replace),c4e=Ln([].shift),Z7=Ln([].splice),ez=Ln("".split),f4e=Ln("".slice),p4e=/\+/g,tz=Array(4),d4e=function(e){return tz[e-1]||(tz[e-1]=u4e("((?:%[\\da-f]{2}){"+e+"})","gi"))},h4e=function(e){try{return J7(e)}catch(r){return e}},rz=function(e){var r=q1(e,p4e," "),n=4;try{return J7(r)}catch(i){for(;n;)r=q1(r,d4e(n--),h4e);return r}},v4e=/[!'()~]|%20/g,y4e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},g4e=function(e){return y4e[e]},nz=function(e){return q1(s4e(e),v4e,g4e)},os=function(e,r){if(e<r)throw X7("Not enough arguments")},R1=X6e(function(e,r){G7(this,{type:W7,iterator:O1(yn(e).entries),kind:r})},"Iterator",function(){var e=o4e(this),r=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value=r==="keys"?i.key:r==="values"?i.value:[i.key,i.value]),n},!0),iz=function(e){this.entries=[],this.url=null,e!==void 0&&(H7(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?l4e(e,0)==="?"?f4e(e,1):e:Or(e)))};iz.prototype={type:nf,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var r=r4e(e),n,i,a,o,u,s,l;if(r)for(n=O1(e,r),i=n.next;!(a=nv(i,n)).done;){if(o=O1(e4e(a.value)),u=o.next,(s=nv(u,o)).done||(l=nv(u,o)).done||!nv(u,o).done)throw X7("Expected sequence with length 2");ko(this.entries,{key:Or(s.value),value:Or(l.value)})}else for(var c in e)J6e(e,c)&&ko(this.entries,{key:c,value:Or(e[c])})},parseQuery:function(e){if(e)for(var r=ez(e,"&"),n=0,i,a;n<r.length;)i=r[n++],i.length&&(a=ez(i,"="),ko(this.entries,{key:rz(c4e(a)),value:rz(Q7(a,"="))}))},serialize:function(){for(var e=this.entries,r=[],n=0,i;n<e.length;)i=e[n++],ko(r,nz(i.key)+"="+nz(i.value));return Q7(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var av=function(){$7(this,of);var e=arguments.length>0?arguments[0]:void 0;G7(this,new iz(e))},of=av.prototype;K6e(of,{append:function(e,r){os(arguments.length,2);var n=yn(this);ko(n.entries,{key:Or(e),value:Or(r)}),n.updateURL()},delete:function(e){os(arguments.length,1);for(var r=yn(this),n=r.entries,i=Or(e),a=0;a<n.length;)n[a].key===i?Z7(n,a,1):a++;r.updateURL()},get:function(e){os(arguments.length,1);for(var r=yn(this).entries,n=Or(e),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(e){os(arguments.length,1);for(var r=yn(this).entries,n=Or(e),i=[],a=0;a<r.length;a++)r[a].key===n&&ko(i,r[a].value);return i},has:function(e){os(arguments.length,1);for(var r=yn(this).entries,n=Or(e),i=0;i<r.length;)if(r[i++].key===n)return!0;return!1},set:function(e,r){os(arguments.length,1);for(var n=yn(this),i=n.entries,a=!1,o=Or(e),u=Or(r),s=0,l;s<i.length;s++)l=i[s],l.key===o&&(a?Z7(i,s--,1):(a=!0,l.value=u));a||ko(i,{key:o,value:u}),n.updateURL()},sort:function(){var e=yn(this);i4e(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var r=yn(this).entries,n=Q6e(e,arguments.length>1?arguments[1]:void 0),i=0,a;i<r.length;)a=r[i++],n(a.value,a.key,this)},keys:function(){return new R1(this,"keys")},values:function(){return new R1(this,"values")},entries:function(){return new R1(this,"entries")}},{enumerable:!0});z7(of,a4e,of.entries,{name:"entries"});z7(of,"toString",function(){return yn(this).serialize()},{enumerable:!0});Y6e(av,nf);b1({global:!0,forced:!L7},{URLSearchParams:av});!L7&&S1(af)&&(az=Ln(Y7.has),oz=Ln(Y7.set),E1=function(e){if(H7(e)){var r=e.body,n;if(Z6e(r)===nf)return n=e.headers?new af(e.headers):new af,az(n,"content-type")||oz(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),t4e(e,{body:V7(0,Or(r)),headers:V7(0,n)})}return e},S1(K7)&&b1({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return K7(e,arguments.length>1?E1(arguments[1]):{})}}),S1(iv)&&(ov=function(e){return $7(this,P1),new iv(e,arguments.length>1?E1(arguments[1]):{})},P1.constructor=ov,ov.prototype=P1,b1({global:!0,forced:!0},{Request:ov})));var az,oz,E1,ov;uz.exports={URLSearchParams:av,getState:yn}});function uv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uv=function(r){return typeof r}:uv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},uv(t)}var m4e,A1,b4e,I1,sz,Nr,_4e,sv,w4e,k1,x1,us,gn,S4e,O4e,ki,P4e,lz,cz,q4e,lv,R4e,E4e,uf,F1,cv,T4e,fz,Br,mn,sf,A4e,I4e,ss,pz,k4e,x4e,lf,fv,F4e,C4e,C1,xo,dz,hz,D4e,D1,U4e,j4e,M4e,vz,N4e,B4e,L4e,z4e,Lr,$4e,H4e,V4e,cf,pv,yz,gz,U1,Oa,dv,ff,mz,W4e,G4e,j1,bz,M1,_z,wz,N1,Sz,Oz,hv,vv,B1,L1,z1,$1,Pz,H1,ls,zn,qz,Fo,xi,Rz,cs,yv,zr,V1,W1,Ez=S(function(){"use strict";dS();m4e=P(),A1=Re(),b4e=h1(),I1=z(),sz=Ye(),Nr=ae(),_4e=id(),sv=st(),w4e=jr(),k1=Le(),x1=l0(),us=vw(),gn=lo(),S4e=Po().codeAt,O4e=B7(),ki=Be(),P4e=Dr(),lz=T1(),cz=We(),q4e=cz.set,lv=cz.getterFor("URL"),R4e=lz.URLSearchParams,E4e=lz.getState,uf=I1.URL,F1=I1.TypeError,cv=I1.parseInt,T4e=Math.floor,fz=Math.pow,Br=Nr("".charAt),mn=Nr(/./.exec),sf=Nr([].join),A4e=Nr(1 .toString),I4e=Nr([].pop),ss=Nr([].push),pz=Nr("".replace),k4e=Nr([].shift),x4e=Nr("".split),lf=Nr("".slice),fv=Nr("".toLowerCase),F4e=Nr([].unshift),C4e="Invalid authority",C1="Invalid scheme",xo="Invalid host",dz="Invalid port",hz=/[a-z]/i,D4e=/[\d+-.a-z]/i,D1=/\d/,U4e=/^0x/i,j4e=/^[0-7]+$/,M4e=/^\d+$/,vz=/^[\da-f]+$/i,N4e=/[\0\t\n\r #%/:<>?@[\\\]^|]/,B4e=/[\0\t\n\r #/:<>?@[\\\]^|]/,L4e=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,z4e=/[\t\n\r]/g,$4e=function(e){var r=x4e(e,"."),n,i,a,o,u,s,l;if(r.length&&r[r.length-1]==""&&r.length--,n=r.length,n>4)return e;for(i=[],a=0;a<n;a++){if(o=r[a],o=="")return e;if(u=10,o.length>1&&Br(o,0)=="0"&&(u=mn(U4e,o)?16:8,o=lf(o,u==8?1:2)),o==="")s=0;else{if(!mn(u==10?M4e:u==8?j4e:vz,o))return e;s=cv(o,u)}ss(i,s)}for(a=0;a<n;a++)if(s=i[a],a==n-1){if(s>=fz(256,5-n))return null}else if(s>255)return null;for(l=I4e(i),a=0;a<i.length;a++)l+=i[a]*fz(256,3-a);return l},H4e=function(e){var r=[0,0,0,0,0,0,0,0],n=0,i=null,a=0,o,u,s,l,c,f,p,d=function(){return Br(e,a)};if(d()==":"){if(Br(e,1)!=":")return;a+=2,n++,i=n}for(;d();){if(n==8)return;if(d()==":"){if(i!==null)return;a++,n++,i=n;continue}for(o=u=0;u<4&&mn(vz,d());)o=o*16+cv(d(),16),a++,u++;if(d()=="."){if(u==0||(a-=u,n>6))return;for(s=0;d();){if(l=null,s>0)if(d()=="."&&s<4)a++;else return;if(!mn(D1,d()))return;for(;mn(D1,d());){if(c=cv(d(),10),l===null)l=c;else{if(l==0)return;l=l*10+c}if(l>255)return;a++}r[n]=r[n]*256+l,s++,(s==2||s==4)&&n++}if(s!=4)return;break}else if(d()==":"){if(a++,!d())return}else if(d())return;r[n++]=o}if(i!==null)for(f=n-i,n=7;n!=0&&f>0;)p=r[n],r[n--]=r[i+f-1],r[i+--f]=p;else if(n!=8)return;return r},V4e=function(e){for(var r=null,n=1,i=null,a=0,o=0;o<8;o++)e[o]!==0?(a>n&&(r=i,n=a),i=null,a=0):(i===null&&(i=o),++a);return a>n&&(r=i,n=a),r},cf=function(e){var r,n,i,a;if(typeof e=="number"){for(r=[],n=0;n<4;n++)F4e(r,e%256),e=T4e(e/256);return sf(r,".")}else if(uv(e)=="object"){for(r="",i=V4e(e),n=0;n<8;n++)a&&e[n]===0||(a&&(a=!1),i===n?(r+=n?":":"::",a=!0):(r+=A4e(e[n],16),n<7&&(r+=":")));return"["+r+"]"}return e},pv={},yz=x1({},pv,{" ":1,'"':1,"<":1,">":1,"`":1}),gz=x1({},yz,{"#":1,"?":1,"{":1,"}":1}),U1=x1({},gz,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Oa=function(e,r){var n=S4e(e,0);return n>32&&n<127&&!k1(r,e)?e:encodeURIComponent(e)},dv={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ff=function(e,r){var n;return e.length==2&&mn(hz,Br(e,0))&&((n=Br(e,1))==":"||!r&&n=="|")},mz=function(e){var r;return e.length>1&&ff(lf(e,0,2))&&(e.length==2||(r=Br(e,2))==="/"||r==="\\"||r==="?"||r==="#")},W4e=function(e){return e==="."||fv(e)==="%2e"},G4e=function(e){return e=fv(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},j1={},bz={},M1={},_z={},wz={},N1={},Sz={},Oz={},hv={},vv={},B1={},L1={},z1={},$1={},Pz={},H1={},ls={},zn={},qz={},Fo={},xi={},Rz=function t(e,r,n){var i=ki(e),a,o,u;if(r){if(o=this.parse(i),o)throw F1(o);this.searchParams=null}else{if(n!==void 0&&(a=new t(n,!0)),o=this.parse(i,null,a),o)throw F1(o);u=E4e(new R4e),u.bindURL(this),this.searchParams=u}};Rz.prototype={type:"URL",parse:function(e,r,n){var i=this,a=r||j1,o=0,u="",s=!1,l=!1,c=!1,f,p,d,v;for(e=ki(e),r||(i.scheme="",i.username="",i.password="",i.host=null,i.port=null,i.path=[],i.query=null,i.fragment=null,i.cannotBeABaseURL=!1,e=pz(e,L4e,"")),e=pz(e,z4e,""),f=us(e);o<=f.length;){switch(p=f[o],a){case j1:if(p&&mn(hz,p))u+=fv(p),a=bz;else{if(r)return C1;a=M1;continue}break;case bz:if(p&&(mn(D4e,p)||p=="+"||p=="-"||p=="."))u+=fv(p);else if(p==":"){if(r&&(i.isSpecial()!=k1(dv,u)||u=="file"&&(i.includesCredentials()||i.port!==null)||i.scheme=="file"&&!i.host))return;if(i.scheme=u,r){i.isSpecial()&&dv[i.scheme]==i.port&&(i.port=null);return}u="",i.scheme=="file"?a=$1:i.isSpecial()&&n&&n.scheme==i.scheme?a=_z:i.isSpecial()?a=Oz:f[o+1]=="/"?(a=wz,o++):(i.cannotBeABaseURL=!0,ss(i.path,""),a=qz)}else{if(r)return C1;u="",a=M1,o=0;continue}break;case M1:if(!n||n.cannotBeABaseURL&&p!="#")return C1;if(n.cannotBeABaseURL&&p=="#"){i.scheme=n.scheme,i.path=gn(n.path),i.query=n.query,i.fragment="",i.cannotBeABaseURL=!0,a=xi;break}a=n.scheme=="file"?$1:N1;continue;case _z:if(p=="/"&&f[o+1]=="/")a=hv,o++;else{a=N1;continue}break;case wz:if(p=="/"){a=vv;break}else{a=zn;continue}case N1:if(i.scheme=n.scheme,p==Lr)i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=gn(n.path),i.query=n.query;else if(p=="/"||p=="\\"&&i.isSpecial())a=Sz;else if(p=="?")i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=gn(n.path),i.query="",a=Fo;else if(p=="#")i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=gn(n.path),i.query=n.query,i.fragment="",a=xi;else{i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=gn(n.path),i.path.length--,a=zn;continue}break;case Sz:if(i.isSpecial()&&(p=="/"||p=="\\"))a=hv;else if(p=="/")a=vv;else{i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,a=zn;continue}break;case Oz:if(a=hv,p!="/"||Br(u,o+1)!="/")continue;o++;break;case hv:if(p!="/"&&p!="\\"){a=vv;continue}break;case vv:if(p=="@"){s&&(u="%40"+u),s=!0,d=us(u);for(var g=0;g<d.length;g++){var m=d[g];if(m==":"&&!c){c=!0;continue}var _=Oa(m,U1);c?i.password+=_:i.username+=_}u=""}else if(p==Lr||p=="/"||p=="?"||p=="#"||p=="\\"&&i.isSpecial()){if(s&&u=="")return C4e;o-=us(u).length+1,u="",a=B1}else u+=p;break;case B1:case L1:if(r&&i.scheme=="file"){a=H1;continue}else if(p==":"&&!l){if(u=="")return xo;if(v=i.parseHost(u),v)return v;if(u="",a=z1,r==L1)return}else if(p==Lr||p=="/"||p=="?"||p=="#"||p=="\\"&&i.isSpecial()){if(i.isSpecial()&&u=="")return xo;if(r&&u==""&&(i.includesCredentials()||i.port!==null))return;if(v=i.parseHost(u),v)return v;if(u="",a=ls,r)return;continue}else p=="["?l=!0:p=="]"&&(l=!1),u+=p;break;case z1:if(mn(D1,p))u+=p;else if(p==Lr||p=="/"||p=="?"||p=="#"||p=="\\"&&i.isSpecial()||r){if(u!=""){var O=cv(u,10);if(O>65535)return dz;i.port=i.isSpecial()&&O===dv[i.scheme]?null:O,u=""}if(r)return;a=ls;continue}else return dz;break;case $1:if(i.scheme="file",p=="/"||p=="\\")a=Pz;else if(n&&n.scheme=="file")if(p==Lr)i.host=n.host,i.path=gn(n.path),i.query=n.query;else if(p=="?")i.host=n.host,i.path=gn(n.path),i.query="",a=Fo;else if(p=="#")i.host=n.host,i.path=gn(n.path),i.query=n.query,i.fragment="",a=xi;else{mz(sf(gn(f,o),""))||(i.host=n.host,i.path=gn(n.path),i.shortenPath()),a=zn;continue}else{a=zn;continue}break;case Pz:if(p=="/"||p=="\\"){a=H1;break}n&&n.scheme=="file"&&!mz(sf(gn(f,o),""))&&(ff(n.path[0],!0)?ss(i.path,n.path[0]):i.host=n.host),a=zn;continue;case H1:if(p==Lr||p=="/"||p=="\\"||p=="?"||p=="#"){if(!r&&ff(u))a=zn;else if(u==""){if(i.host="",r)return;a=ls}else{if(v=i.parseHost(u),v)return v;if(i.host=="localhost"&&(i.host=""),r)return;u="",a=ls}continue}else u+=p;break;case ls:if(i.isSpecial()){if(a=zn,p!="/"&&p!="\\")continue}else if(!r&&p=="?")i.query="",a=Fo;else if(!r&&p=="#")i.fragment="",a=xi;else if(p!=Lr&&(a=zn,p!="/"))continue;break;case zn:if(p==Lr||p=="/"||p=="\\"&&i.isSpecial()||!r&&(p=="?"||p=="#")){if(G4e(u)?(i.shortenPath(),p!="/"&&!(p=="\\"&&i.isSpecial())&&ss(i.path,"")):W4e(u)?p!="/"&&!(p=="\\"&&i.isSpecial())&&ss(i.path,""):(i.scheme=="file"&&!i.path.length&&ff(u)&&(i.host&&(i.host=""),u=Br(u,0)+":"),ss(i.path,u)),u="",i.scheme=="file"&&(p==Lr||p=="?"||p=="#"))for(;i.path.length>1&&i.path[0]==="";)k4e(i.path);p=="?"?(i.query="",a=Fo):p=="#"&&(i.fragment="",a=xi)}else u+=Oa(p,gz);break;case qz:p=="?"?(i.query="",a=Fo):p=="#"?(i.fragment="",a=xi):p!=Lr&&(i.path[0]+=Oa(p,pv));break;case Fo:!r&&p=="#"?(i.fragment="",a=xi):p!=Lr&&(p=="'"&&i.isSpecial()?i.query+="%27":p=="#"?i.query+="%23":i.query+=Oa(p,pv));break;case xi:p!=Lr&&(i.fragment+=Oa(p,yz));break}o++}},parseHost:function(e){var r,n,i;if(Br(e,0)=="["){if(Br(e,e.length-1)!="]"||(r=H4e(lf(e,1,-1)),!r))return xo;this.host=r}else if(this.isSpecial()){if(e=O4e(e),mn(N4e,e)||(r=$4e(e),r===null))return xo;this.host=r}else{if(mn(B4e,e))return xo;for(r="",n=us(e),i=0;i<n.length;i++)r+=Oa(n[i],pv);this.host=r}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return k1(dv,this.scheme)},shortenPath:function(){var e=this.path,r=e.length;r&&(this.scheme!="file"||r!=1||!ff(e[0],!0))&&e.length--},serialize:function(){var e=this,r=e.scheme,n=e.username,i=e.password,a=e.host,o=e.port,u=e.path,s=e.query,l=e.fragment,c=r+":";return a!==null?(c+="//",e.includesCredentials()&&(c+=n+(i?":"+i:"")+"@"),c+=cf(a),o!==null&&(c+=":"+o)):r=="file"&&(c+="//"),c+=e.cannotBeABaseURL?u[0]:u.length?"/"+sf(u,"/"):"",s!==null&&(c+="?"+s),l!==null&&(c+="#"+l),c},setHref:function(e){var r=this.parse(e);if(r)throw F1(r);this.searchParams.update()},getOrigin:function(){var e=this.scheme,r=this.port;if(e=="blob")try{return new cs(e.path[0]).origin}catch(n){return"null"}return e=="file"||!this.isSpecial()?"null":e+"://"+cf(this.host)+(r!==null?":"+r:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(ki(e)+":",j1)},getUsername:function(){return this.username},setUsername:function(e){var r=us(ki(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<r.length;n++)this.username+=Oa(r[n],U1)}},getPassword:function(){return this.password},setPassword:function(e){var r=us(ki(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<r.length;n++)this.password+=Oa(r[n],U1)}},getHost:function(){var e=this.host,r=this.port;return e===null?"":r===null?cf(e):cf(e)+":"+r},setHost:function(e){this.cannotBeABaseURL||this.parse(e,B1)},getHostname:function(){var e=this.host;return e===null?"":cf(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,L1)},getPort:function(){var e=this.port;return e===null?"":ki(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=ki(e),e==""?this.port=null:this.parse(e,z1))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+sf(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,ls))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=ki(e),e==""?this.query=null:(Br(e,0)=="?"&&(e=lf(e,1)),this.query="",this.parse(e,Fo)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=ki(e),e==""){this.fragment=null;return}Br(e,0)=="#"&&(e=lf(e,1)),this.fragment="",this.parse(e,xi)},update:function(){this.query=this.searchParams.serialize()||null}};cs=function(e){var r=w4e(this,yv),n=arguments.length>1?arguments[1]:void 0,i=q4e(r,new Rz(e,!1,n));A1||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},yv=cs.prototype,zr=function(e,r){return{get:function(){return lv(this)[e]()},set:r&&function(n){return lv(this)[r](n)},configurable:!0,enumerable:!0}};A1&&_4e(yv,{href:zr("serialize","setHref"),origin:zr("getOrigin"),protocol:zr("getProtocol","setProtocol"),username:zr("getUsername","setUsername"),password:zr("getPassword","setPassword"),host:zr("getHost","setHost"),hostname:zr("getHostname","setHostname"),port:zr("getPort","setPort"),pathname:zr("getPathname","setPathname"),search:zr("getSearch","setSearch"),searchParams:zr("getSearchParams"),hash:zr("getHash","setHash")});sv(yv,"toJSON",function(){return lv(this).serialize()},{enumerable:!0});sv(yv,"toString",function(){return lv(this).serialize()},{enumerable:!0});uf&&(V1=uf.createObjectURL,W1=uf.revokeObjectURL,V1&&sv(cs,"createObjectURL",sz(V1,uf)),W1&&sv(cs,"revokeObjectURL",sz(W1,uf)));P4e(cs,"URL");m4e({global:!0,forced:!b4e,sham:!A1},{URL:cs})});var K4e,Y4e,Tz=S(function(){"use strict";K4e=P(),Y4e=le();K4e({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Y4e(URL.prototype.toString,this)}})});var Iz=h(function(df,Az){function pf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pf=function(r){return typeof r}:pf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pf(t)}(function(t,e){(typeof df=="undefined"?"undefined":pf(df))==="object"&&typeof Az!="undefined"?e(df):typeof define=="function"&&define.amd?define(["exports"],e):e(t.WHATWGFetch={})})(df,function(t){"use strict";var e=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof e!="undefined"&&e,r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(T){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(T){return T&&DataView.prototype.isPrototypeOf(T)}if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(T){return T&&i.indexOf(Object.prototype.toString.call(T))>-1};function o(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function u(T){return typeof T!="string"&&(T=String(T)),T}function s(T){var N={next:function(){var J=T.shift();return{done:J===void 0,value:J}}};return r.iterable&&(N[Symbol.iterator]=function(){return N}),N}function l(T){this.map={},T instanceof l?T.forEach(function(N,re){this.append(re,N)},this):Array.isArray(T)?T.forEach(function(N){this.append(N[0],N[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(N){this.append(N,T[N])},this)}l.prototype.append=function(T,N){T=o(T),N=u(N);var re=this.map[T];this.map[T]=re?re+", "+N:N},l.prototype.delete=function(T){delete this.map[o(T)]},l.prototype.get=function(T){return T=o(T),this.has(T)?this.map[T]:null},l.prototype.has=function(T){return this.map.hasOwnProperty(o(T))},l.prototype.set=function(T,N){this.map[o(T)]=u(N)},l.prototype.forEach=function(T,N){for(var re in this.map)this.map.hasOwnProperty(re)&&T.call(N,this.map[re],re,this)},l.prototype.keys=function(){var T=[];return this.forEach(function(N,re){T.push(re)}),s(T)},l.prototype.values=function(){var T=[];return this.forEach(function(N){T.push(N)}),s(T)},l.prototype.entries=function(){var T=[];return this.forEach(function(N,re){T.push([re,N])}),s(T)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function c(T){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}function f(T){return new Promise(function(N,re){T.onload=function(){N(T.result)},T.onerror=function(){re(T.error)}})}function p(T){var N=new FileReader,re=f(N);return N.readAsArrayBuffer(T),re}function d(T){var N=new FileReader,re=f(N);return N.readAsText(T),re}function v(T){for(var N=new Uint8Array(T),re=new Array(N.length),J=0;J<N.length;J++)re[J]=String.fromCharCode(N[J]);return re.join("")}function g(T){if(T.slice)return T.slice(0);var N=new Uint8Array(T.byteLength);return N.set(new Uint8Array(T)),N.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:r.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:r.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():r.arrayBuffer&&r.blob&&n(T)?(this._bodyArrayBuffer=g(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||a(T))?this._bodyArrayBuffer=g(T):this._bodyText=T=Object.prototype.toString.call(T):this._bodyText="",this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var T=c(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=c(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(p)}),this.text=function(){var T=c(this);if(T)return T;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(T){var N=T.toUpperCase();return _.indexOf(N)>-1?N:T}function E(T,N){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var re=N.body;if(T instanceof E){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,N.headers||(this.headers=new l(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!re&&T._bodyInit!=null&&(re=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new l(N.headers)),this.method=O(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&re)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(re),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var J=/([?&])_=[^&]*/;if(J.test(this.url))this.url=this.url.replace(J,"$1_="+new Date().getTime());else{var A=/\?/;this.url+=(A.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})};function F(T){var N=new FormData;return T.trim().split("&").forEach(function(re){if(re){var J=re.split("="),A=J.shift().replace(/\+/g," "),k=J.join("=").replace(/\+/g," ");N.append(decodeURIComponent(A),decodeURIComponent(k))}}),N}function j(T){var N=new l,re=T.replace(/\r?\n[\t ]+/g," ");return re.split("\r").map(function(J){return J.indexOf("\n")===0?J.substr(1,J.length):J}).forEach(function(J){var A=J.split(":"),k=A.shift().trim();if(k){var $=A.join(":").trim();N.append(k,$)}}),N}m.call(E.prototype);function C(T,N){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new l(N.headers),this.url=N.url||"",this._initBody(T)}m.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},C.error=function(){var T=new C(null,{status:0,statusText:""});return T.type="error",T};var Y=[301,302,303,307,308];C.redirect=function(T,N){if(Y.indexOf(N)===-1)throw new RangeError("Invalid status code");return new C(null,{status:N,headers:{location:T}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(T){t.DOMException=function(N,re){this.message=N,this.name=re;var J=Error(N);this.stack=J.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function ie(T,N){return new Promise(function(re,J){var A=new E(T,N);if(A.signal&&A.signal.aborted)return J(new t.DOMException("Aborted","AbortError"));var k=new XMLHttpRequest;function $(){k.abort()}k.onload=function(){var U={status:k.status,statusText:k.statusText,headers:j(k.getAllResponseHeaders()||"")};U.url="responseURL"in k?k.responseURL:U.headers.get("X-Request-URL");var L="response"in k?k.response:k.responseText;setTimeout(function(){re(new C(L,U))},0)},k.onerror=function(){setTimeout(function(){J(new TypeError("Network request failed"))},0)},k.ontimeout=function(){setTimeout(function(){J(new TypeError("Network request failed"))},0)},k.onabort=function(){setTimeout(function(){J(new t.DOMException("Aborted","AbortError"))},0)};function D(U){try{return U===""&&e.location.href?e.location.href:U}catch(L){return U}}k.open(A.method,D(A.url),!0),A.credentials==="include"?k.withCredentials=!0:A.credentials==="omit"&&(k.withCredentials=!1),"responseType"in k&&(r.blob?k.responseType="blob":r.arrayBuffer&&A.headers.get("Content-Type")&&A.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(k.responseType="arraybuffer")),N&&pf(N.headers)==="object"&&!(N.headers instanceof l)?Object.getOwnPropertyNames(N.headers).forEach(function(U){k.setRequestHeader(U,u(N.headers[U]))}):A.headers.forEach(function(U,L){k.setRequestHeader(L,U)}),A.signal&&(A.signal.addEventListener("abort",$),k.onreadystatechange=function(){k.readyState===4&&A.signal.removeEventListener("abort",$)}),k.send(typeof A._bodyInit=="undefined"?null:A._bodyInit)})}ie.polyfill=!0,e.fetch||(e.fetch=ie,e.Headers=l,e.Request=E,e.Response=C),t.Headers=l,t.Request=E,t.Response=C,t.fetch=ie,Object.defineProperty(t,"__esModule",{value:!0})})});var kz=h(function(){function gv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gv=function(r){return typeof r}:gv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gv(t)}(function(t){typeof define=="function"&&define.amd?define(t):t()})(function(){"use strict";function t(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function e(_,O){for(var E=0;E<O.length;E++){var F=O[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(_,F.key,F)}}function r(_,O,E){return O&&e(_.prototype,O),E&&e(_,E),_}function n(_,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),O&&a(_,O)}function i(_){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},i(_)}function a(_,O){return a=Object.setPrototypeOf||function(F,j){return F.__proto__=j,F},a(_,O)}function o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_){return!1}}function u(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function s(_,O){return O&&(gv(O)==="object"||typeof O=="function")?O:u(_)}function l(_){var O=o();return function(){var F=i(_),j;if(O){var C=i(this).constructor;j=Reflect.construct(F,arguments,C)}else j=F.apply(this,arguments);return s(this,j)}}function c(_,O){for(;!Object.prototype.hasOwnProperty.call(_,O)&&(_=i(_),_!==null););return _}function f(_,O,E){return typeof Reflect!="undefined"&&Reflect.get?f=Reflect.get:f=function(j,C,Y){var ie=c(j,C);if(!!ie){var T=Object.getOwnPropertyDescriptor(ie,C);return T.get?T.get.call(Y):T.value}},f(_,O,E||_)}var p=function(){function _(){t(this,_),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(_,[{key:"addEventListener",value:function(E,F,j){E in this.listeners||(this.listeners[E]=[]),this.listeners[E].push({callback:F,options:j})}},{key:"removeEventListener",value:function(E,F){if(E in this.listeners){for(var j=this.listeners[E],C=0,Y=j.length;C<Y;C++)if(j[C].callback===F){j.splice(C,1);return}}}},{key:"dispatchEvent",value:function(E){if(E.type in this.listeners){for(var F=this.listeners[E.type],j=F.slice(),C=0,Y=j.length;C<Y;C++){var ie=j[C];try{ie.callback.call(this,E)}catch(T){Promise.resolve().then(function(){throw T})}ie.options&&ie.options.once&&this.removeEventListener(E.type,ie.callback)}return!E.defaultPrevented}}}]),_}(),d=function(_){n(E,_);var O=l(E);function E(){var F;return t(this,E),F=O.call(this),F.listeners||p.call(u(F)),Object.defineProperty(u(F),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(u(F),"onabort",{value:null,writable:!0,configurable:!0}),F}return r(E,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(j){j.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,j)),f(i(E.prototype),"dispatchEvent",this).call(this,j)}}]),E}(p),v=function(){function _(){t(this,_),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return r(_,[{key:"abort",value:function(){var E;try{E=new Event("abort")}catch(F){typeof document!="undefined"?document.createEvent?(E=document.createEvent("Event"),E.initEvent("abort",!1,!1)):(E=document.createEventObject(),E.type="abort"):E={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(E)}},{key:"toString",value:function(){return"[object AbortController]"}}]),_}();typeof Symbol!="undefined"&&Symbol.toStringTag&&(v.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal");function g(_){return _.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof _.Request=="function"&&!_.Request.prototype.hasOwnProperty("signal")||!_.AbortController}function m(_){typeof _=="function"&&(_={fetch:_});var O=_,E=O.fetch,F=O.Request,j=F===void 0?E.Request:F,C=O.AbortController,Y=O.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,ie=Y===void 0?!1:Y;if(!g({fetch:E,Request:j,AbortController:C,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:ie}))return{fetch:E,Request:T};var T=j;(T&&!T.prototype.hasOwnProperty("signal")||ie)&&(T=function(A,k){var $;k&&k.signal&&($=k.signal,delete k.signal);var D=new j(A,k);return $&&Object.defineProperty(D,"signal",{writable:!1,enumerable:!1,configurable:!0,value:$}),D},T.prototype=j.prototype);var N=E,re=function(A,k){var $=T&&T.prototype.isPrototypeOf(A)?A.signal:k?k.signal:void 0;if($){var D;try{D=new DOMException("Aborted","AbortError")}catch(L){D=new Error("Aborted"),D.name="AbortError"}if($.aborted)return Promise.reject(D);var U=new Promise(function(L,ne){$.addEventListener("abort",function(){return ne(D)},{once:!0})});return k&&k.signal&&delete k.signal,Promise.race([U,N(A,k)])}return N(A,k)};return{fetch:re,Request:T}}(function(_){if(!!g(_)){if(!_.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var O=m(_),E=O.fetch,F=O.Request;_.fetch=E,_.Request=F,Object.defineProperty(_,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:v}),Object.defineProperty(_,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:d})}})(typeof self!="undefined"?self:global)})});var xz=h(function(){(function(){var t=function(r,n,i){var a=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return a?new Promise(function(o,u){a.call(navigator,r,o,u)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))};navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=t)})()});var Fz=h(function(bv,G1){function mv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mv=function(r){return typeof r}:mv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mv(t)}(function(t,e){(typeof bv=="undefined"?"undefined":mv(bv))==="object"&&typeof G1!="undefined"?G1.exports=e():typeof define=="function"&&define.amd?define(e):t.ResizeObserver=e()})(bv,function(){"use strict";var t=function(){if(typeof Map!="undefined")return Map;function A(k,$){var D=-1;return k.some(function(U,L){return U[0]===$?(D=L,!0):!1}),D}return function(){function k(){this.__entries__=[]}return Object.defineProperty(k.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),k.prototype.get=function($){var D=A(this.__entries__,$),U=this.__entries__[D];return U&&U[1]},k.prototype.set=function($,D){var U=A(this.__entries__,$);~U?this.__entries__[U][1]=D:this.__entries__.push([$,D])},k.prototype.delete=function($){var D=this.__entries__,U=A(D,$);~U&&D.splice(U,1)},k.prototype.has=function($){return!!~A(this.__entries__,$)},k.prototype.clear=function(){this.__entries__.splice(0)},k.prototype.forEach=function($,D){D===void 0&&(D=null);for(var U=0,L=this.__entries__;U<L.length;U++){var ne=L[U];$.call(D,ne[1],ne[0])}},k}()}(),e=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,r=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),n=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(r):function(A){return setTimeout(function(){return A(Date.now())},1e3/60)}}(),i=2;function a(A,k){var $=!1,D=!1,U=0;function L(){$&&($=!1,A()),D&&fe()}function ne(){n(L)}function fe(){var ce=Date.now();if($){if(ce-U<i)return;D=!0}else $=!0,D=!1,setTimeout(ne,k);U=ce}return fe}var o=20,u=["top","right","bottom","left","width","height","size","weight"],s=typeof MutationObserver!="undefined",l=function(){function A(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),o)}return A.prototype.addObserver=function(k){~this.observers_.indexOf(k)||this.observers_.push(k),this.connected_||this.connect_()},A.prototype.removeObserver=function(k){var $=this.observers_,D=$.indexOf(k);~D&&$.splice(D,1),!$.length&&this.connected_&&this.disconnect_()},A.prototype.refresh=function(){var k=this.updateObservers_();k&&this.refresh()},A.prototype.updateObservers_=function(){var k=this.observers_.filter(function($){return $.gatherActive(),$.hasActive()});return k.forEach(function($){return $.broadcastActive()}),k.length>0},A.prototype.connect_=function(){!e||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},A.prototype.disconnect_=function(){!e||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},A.prototype.onTransitionEnd_=function(k){var $=k.propertyName,D=$===void 0?"":$,U=u.some(function(L){return!!~D.indexOf(L)});U&&this.refresh()},A.getInstance=function(){return this.instance_||(this.instance_=new A),this.instance_},A.instance_=null,A}(),c=function(k,$){for(var D=0,U=Object.keys($);D<U.length;D++){var L=U[D];Object.defineProperty(k,L,{value:$[L],enumerable:!1,writable:!1,configurable:!0})}return k},f=function(k){var $=k&&k.ownerDocument&&k.ownerDocument.defaultView;return $||r},p=C(0,0,0,0);function d(A){return parseFloat(A)||0}function v(A){for(var k=[],$=1;$<arguments.length;$++)k[$-1]=arguments[$];return k.reduce(function(D,U){var L=A["border-"+U+"-width"];return D+d(L)},0)}function g(A){for(var k=["top","right","bottom","left"],$={},D=0,U=k;D<U.length;D++){var L=U[D],ne=A["padding-"+L];$[L]=d(ne)}return $}function m(A){var k=A.getBBox();return C(0,0,k.width,k.height)}function _(A){var k=A.clientWidth,$=A.clientHeight;if(!k&&!$)return p;var D=f(A).getComputedStyle(A),U=g(D),L=U.left+U.right,ne=U.top+U.bottom,fe=d(D.width),ce=d(D.height);if(D.boxSizing==="border-box"&&(Math.round(fe+L)!==k&&(fe-=v(D,"left","right")+L),Math.round(ce+ne)!==$&&(ce-=v(D,"top","bottom")+ne)),!E(A)){var $e=Math.round(fe+L)-k,nt=Math.round(ce+ne)-$;Math.abs($e)!==1&&(fe-=$e),Math.abs(nt)!==1&&(ce-=nt)}return C(U.left,U.top,fe,ce)}var O=function(){return typeof SVGGraphicsElement!="undefined"?function(A){return A instanceof f(A).SVGGraphicsElement}:function(A){return A instanceof f(A).SVGElement&&typeof A.getBBox=="function"}}();function E(A){return A===f(A).document.documentElement}function F(A){return e?O(A)?m(A):_(A):p}function j(A){var k=A.x,$=A.y,D=A.width,U=A.height,L=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,ne=Object.create(L.prototype);return c(ne,{x:k,y:$,width:D,height:U,top:$,right:k+D,bottom:U+$,left:k}),ne}function C(A,k,$,D){return{x:A,y:k,width:$,height:D}}var Y=function(){function A(k){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=C(0,0,0,0),this.target=k}return A.prototype.isActive=function(){var k=F(this.target);return this.contentRect_=k,k.width!==this.broadcastWidth||k.height!==this.broadcastHeight},A.prototype.broadcastRect=function(){var k=this.contentRect_;return this.broadcastWidth=k.width,this.broadcastHeight=k.height,k},A}(),ie=function(){function A(k,$){var D=j($);c(this,{target:k,contentRect:D})}return A}(),T=function(){function A(k,$,D){if(this.activeObservations_=[],this.observations_=new t,typeof k!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=k,this.controller_=$,this.callbackCtx_=D}return A.prototype.observe=function(k){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(k instanceof f(k).Element))throw new TypeError('parameter 1 is not of type "Element".');var $=this.observations_;$.has(k)||($.set(k,new Y(k)),this.controller_.addObserver(this),this.controller_.refresh())}},A.prototype.unobserve=function(k){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(k instanceof f(k).Element))throw new TypeError('parameter 1 is not of type "Element".');var $=this.observations_;!$.has(k)||($.delete(k),$.size||this.controller_.removeObserver(this))}},A.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},A.prototype.gatherActive=function(){var k=this;this.clearActive(),this.observations_.forEach(function($){$.isActive()&&k.activeObservations_.push($)})},A.prototype.broadcastActive=function(){if(!!this.hasActive()){var k=this.callbackCtx_,$=this.activeObservations_.map(function(D){return new ie(D.target,D.broadcastRect())});this.callback_.call(k,$,k),this.clearActive()}},A.prototype.clearActive=function(){this.activeObservations_.splice(0)},A.prototype.hasActive=function(){return this.activeObservations_.length>0},A}(),N=typeof WeakMap!="undefined"?new WeakMap:new t,re=function(){function A(k){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var $=l.getInstance(),D=new T(k,$,this);N.set(this,D)}return A}();["observe","unobserve","disconnect"].forEach(function(A){re.prototype[A]=function(){var k;return(k=N.get(this))[A].apply(k,arguments)}});var J=function(){return typeof r.ResizeObserver!="undefined"?r.ResizeObserver:re}();return J})});var Cz=h(function(myt,_v){function fs(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fs=function(r){return typeof r}:fs=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fs(t)}var K1=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n,i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(D,U,L){return Object.defineProperty(D,U,{value:L,enumerable:!0,configurable:!0,writable:!0}),D[U]}try{s({},"")}catch(D){s=function(L,ne,fe){return L[ne]=fe}}function l(D,U,L,ne){var fe=U&&U.prototype instanceof m?U:m,ce=Object.create(fe.prototype),$e=new A(ne||[]);return ce._invoke=T(D,L,$e),ce}t.wrap=l;function c(D,U,L){try{return{type:"normal",arg:D.call(U,L)}}catch(ne){return{type:"throw",arg:ne}}}var f="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function _(){}function O(){}var E={};s(E,a,function(){return this});var F=Object.getPrototypeOf,j=F&&F(F(k([])));j&&j!==e&&r.call(j,a)&&(E=j);var C=O.prototype=m.prototype=Object.create(E);_.prototype=O,s(C,"constructor",O),s(O,"constructor",_),_.displayName=s(O,u,"GeneratorFunction");function Y(D){["next","throw","return"].forEach(function(U){s(D,U,function(L){return this._invoke(U,L)})})}t.isGeneratorFunction=function(D){var U=typeof D=="function"&&D.constructor;return U?U===_||(U.displayName||U.name)==="GeneratorFunction":!1},t.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,O):(D.__proto__=O,s(D,u,"GeneratorFunction")),D.prototype=Object.create(C),D},t.awrap=function(D){return{__await:D}};function ie(D,U){function L(ce,$e,nt,St){var Ot=c(D[ce],D,$e);if(Ot.type==="throw")St(Ot.arg);else{var kr=Ot.arg,un=kr.value;return un&&fs(un)==="object"&&r.call(un,"__await")?U.resolve(un.__await).then(function(Ht){L("next",Ht,nt,St)},function(Ht){L("throw",Ht,nt,St)}):U.resolve(un).then(function(Ht){kr.value=Ht,nt(kr)},function(Ht){return L("throw",Ht,nt,St)})}}var ne;function fe(ce,$e){function nt(){return new U(function(St,Ot){L(ce,$e,St,Ot)})}return ne=ne?ne.then(nt,nt):nt()}this._invoke=fe}Y(ie.prototype),s(ie.prototype,o,function(){return this}),t.AsyncIterator=ie,t.async=function(D,U,L,ne,fe){fe===void 0&&(fe=Promise);var ce=new ie(l(D,U,L,ne),fe);return t.isGeneratorFunction(U)?ce:ce.next().then(function($e){return $e.done?$e.value:ce.next()})};function T(D,U,L){var ne=f;return function(ce,$e){if(ne===d)throw new Error("Generator is already running");if(ne===v){if(ce==="throw")throw $e;return $()}for(L.method=ce,L.arg=$e;;){var nt=L.delegate;if(nt){var St=N(nt,L);if(St){if(St===g)continue;return St}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(ne===f)throw ne=v,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);ne=d;var Ot=c(D,U,L);if(Ot.type==="normal"){if(ne=L.done?v:p,Ot.arg===g)continue;return{value:Ot.arg,done:L.done}}else Ot.type==="throw"&&(ne=v,L.method="throw",L.arg=Ot.arg)}}}function N(D,U){var L=D.iterator[U.method];if(L===n){if(U.delegate=null,U.method==="throw"){if(D.iterator.return&&(U.method="return",U.arg=n,N(D,U),U.method==="throw"))return g;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var ne=c(L,D.iterator,U.arg);if(ne.type==="throw")return U.method="throw",U.arg=ne.arg,U.delegate=null,g;var fe=ne.arg;if(!fe)return U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,g;if(fe.done)U[D.resultName]=fe.value,U.next=D.nextLoc,U.method!=="return"&&(U.method="next",U.arg=n);else return fe;return U.delegate=null,g}Y(C),s(C,u,"Generator"),s(C,a,function(){return this}),s(C,"toString",function(){return"[object Generator]"});function re(D){var U={tryLoc:D[0]};1 in D&&(U.catchLoc=D[1]),2 in D&&(U.finallyLoc=D[2],U.afterLoc=D[3]),this.tryEntries.push(U)}function J(D){var U=D.completion||{};U.type="normal",delete U.arg,D.completion=U}function A(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(re,this),this.reset(!0)}t.keys=function(D){var U=[];for(var L in D)U.push(L);return U.reverse(),function ne(){for(;U.length;){var fe=U.pop();if(fe in D)return ne.value=fe,ne.done=!1,ne}return ne.done=!0,ne}};function k(D){if(D){var U=D[a];if(U)return U.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var L=-1,ne=function fe(){for(;++L<D.length;)if(r.call(D,L))return fe.value=D[L],fe.done=!1,fe;return fe.value=n,fe.done=!0,fe};return ne.next=ne}}return{next:$}}t.values=k;function $(){return{value:n,done:!0}}return A.prototype={constructor:A,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(J),!U)for(var L in this)L.charAt(0)==="t"&&r.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=n)},stop:function(){this.done=!0;var U=this.tryEntries[0],L=U.completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var L=this;function ne(Ot,kr){return $e.type="throw",$e.arg=U,L.next=Ot,kr&&(L.method="next",L.arg=n),!!kr}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var ce=this.tryEntries[fe],$e=ce.completion;if(ce.tryLoc==="root")return ne("end");if(ce.tryLoc<=this.prev){var nt=r.call(ce,"catchLoc"),St=r.call(ce,"finallyLoc");if(nt&&St){if(this.prev<ce.catchLoc)return ne(ce.catchLoc,!0);if(this.prev<ce.finallyLoc)return ne(ce.finallyLoc)}else if(nt){if(this.prev<ce.catchLoc)return ne(ce.catchLoc,!0)}else if(St){if(this.prev<ce.finallyLoc)return ne(ce.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(U,L){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var fe=this.tryEntries[ne];if(fe.tryLoc<=this.prev&&r.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var ce=fe;break}}ce&&(U==="break"||U==="continue")&&ce.tryLoc<=L&&L<=ce.finallyLoc&&(ce=null);var $e=ce?ce.completion:{};return $e.type=U,$e.arg=L,ce?(this.method="next",this.next=ce.finallyLoc,g):this.complete($e)},complete:function(U,L){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&L&&(this.next=L),g},finish:function(U){for(var L=this.tryEntries.length-1;L>=0;--L){var ne=this.tryEntries[L];if(ne.finallyLoc===U)return this.complete(ne.completion,ne.afterLoc),J(ne),g}},catch:function(U){for(var L=this.tryEntries.length-1;L>=0;--L){var ne=this.tryEntries[L];if(ne.tryLoc===U){var fe=ne.completion;if(fe.type==="throw"){var ce=fe.arg;J(ne)}return ce}}throw new Error("illegal catch attempt")},delegateYield:function(U,L,ne){return this.delegate={iterator:k(U),resultName:L,nextLoc:ne},this.method==="next"&&(this.arg=n),g}},t}((typeof _v=="undefined"?"undefined":fs(_v))==="object"?_v.exports:{});try{regeneratorRuntime=K1}catch(t){(typeof globalThis=="undefined"?"undefined":fs(globalThis))==="object"?globalThis.regeneratorRuntime=K1:Function("r","regeneratorRuntime = r")(K1)}});var hf=h(function(byt,Dz){Dz.exports=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}});var Y1=h(function(_yt,Bz){function Uz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(r),!0).forEach(function(n){X4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X4e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sv=function(r){return typeof r}:Sv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sv(t)}function J4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Q4e(t,e,r){return e&&jz(t.prototype,e),r&&jz(t,r),t}var ps;function Mz(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Z4e=0;function eBe(t){return"__private_"+Z4e+++"_"+t}var tBe=hf();function rBe(t,e,r){var n=[];return t.forEach(function(i){return typeof i!="string"?n.push(i):e[Symbol.split](i).forEach(function(a,o,u){a!==""&&n.push(a),o<u.length-1&&n.push(r)})}),n}function Nz(t,e){var r=/\$/g,n="$$$$",i=[t];if(e==null)return i;for(var a=0,o=Object.keys(e);a<o.length;a++){var u=o[a];if(u!=="_"){var s=e[u];typeof s=="string"&&(s=r[Symbol.replace](s,n)),i=rBe(i,new RegExp("%\\{".concat(u,"\\}"),"g"),s)}}return i}Bz.exports=(ps=eBe("apply"),function(){function t(e){J4e(this,t),Object.defineProperty(this,ps,{value:nBe}),this.locale={strings:{},pluralize:function(n){return n===1?0:1}},Array.isArray(e)?e.forEach(Mz(this,ps)[ps],this):Mz(this,ps)[ps](e)}return Q4e(t,[{key:"translate",value:function(r,n){return this.translateArray(r,n).join("")}},{key:"translateArray",value:function(r,n){if(!tBe(this.locale.strings,r))throw new Error("missing string: ".concat(r));var i=this.locale.strings[r],a=Sv(i)==="object";if(a){if(n&&typeof n.smart_count!="undefined"){var o=this.locale.pluralize(n.smart_count);return Nz(i[o],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return Nz(i,n)}}]),t}());function nBe(t){if(!!(t!=null&&t.strings)){var e=this.locale;this.locale=wv(wv({},e),{},{strings:wv(wv({},e.strings),t.strings)}),this.locale.pluralize=t.pluralize||e.pluralize}}});var X1=h(function(wyt,Lz){Lz.exports=function(){var e={},r=e._fns={};e.emit=function(o,u,s,l,c,f,p){var d=n(o);d.length&&i(o,d,[u,s,l,c,f,p])},e.on=function(o,u){r[o]||(r[o]=[]),r[o].push(u)},e.once=function(o,u){function s(){u.apply(this,arguments),e.off(o,s)}this.on(o,s)},e.off=function(o,u){var s=[];if(o&&u){var l=this._fns[o],c=0,f=l?l.length:0;for(c;c<f;c++)l[c]!==u&&s.push(l[c])}s.length?this._fns[o]=s:delete this._fns[o]};function n(a){var o=r[a]?r[a]:[],u=a.indexOf(":"),s=u===-1?[a]:[a.substring(0,u),a.substring(u+1)],l=Object.keys(r),c=0,f=l.length;for(c;c<f;c++){var p=l[c];if(p==="*"&&(o=o.concat(r[p])),s.length===2&&s[0]===p){o=o.concat(r[p]);break}}return o}function i(a,o,u){var s=0,l=o.length;for(s;s<l&&o[s];s++)o[s].event=a,o[s].apply(o[s],u)}return e}});var Co=h(function(Syt,zz){var iBe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",aBe=function(e,r){return function(){for(var n="",i=r;i--;)n+=e[Math.random()*e.length|0];return n}},oBe=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21,r="",n=e;n--;)r+=iBe[Math.random()*64|0];return r};zz.exports={nanoid:oBe,customAlphabet:aBe}});var vf=h(function(Oyt,Wz){function Pa(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pa=function(r){return typeof r}:Pa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pa(t)}var $z="Expected a function",Hz=0/0,uBe="[object Symbol]",sBe=/^\s+|\s+$/g,lBe=/^[-+]0x[0-9a-f]+$/i,cBe=/^0b[01]+$/i,fBe=/^0o[0-7]+$/i,pBe=parseInt,dBe=(typeof global=="undefined"?"undefined":Pa(global))=="object"&&global&&global.Object===Object&&global,hBe=(typeof self=="undefined"?"undefined":Pa(self))=="object"&&self&&self.Object===Object&&self,vBe=dBe||hBe||Function("return this")(),yBe=Object.prototype,gBe=yBe.toString,mBe=Math.max,bBe=Math.min,J1=function(){return vBe.Date.now()};function _Be(t,e,r){var n,i,a,o,u,s,l=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError($z);e=Vz(e)||0,Ov(r)&&(c=!!r.leading,f="maxWait"in r,a=f?mBe(Vz(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function d(C){var Y=n,ie=i;return n=i=void 0,l=C,o=t.apply(ie,Y),o}function v(C){return l=C,u=setTimeout(_,e),c?d(C):o}function g(C){var Y=C-s,ie=C-l,T=e-Y;return f?bBe(T,a-ie):T}function m(C){var Y=C-s,ie=C-l;return s===void 0||Y>=e||Y<0||f&&ie>=a}function _(){var C=J1();if(m(C))return O(C);u=setTimeout(_,g(C))}function O(C){return u=void 0,p&&n?d(C):(n=i=void 0,o)}function E(){u!==void 0&&clearTimeout(u),l=0,n=s=i=u=void 0}function F(){return u===void 0?o:O(J1())}function j(){var C=J1(),Y=m(C);if(n=arguments,i=this,s=C,Y){if(u===void 0)return v(s);if(f)return u=setTimeout(_,e),d(s)}return u===void 0&&(u=setTimeout(_,e)),o}return j.cancel=E,j.flush=F,j}function wBe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError($z);return Ov(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),_Be(t,e,{leading:n,maxWait:e,trailing:i})}function Ov(t){var e=Pa(t);return!!t&&(e=="object"||e=="function")}function SBe(t){return!!t&&Pa(t)=="object"}function OBe(t){return Pa(t)=="symbol"||SBe(t)&&gBe.call(t)==uBe}function Vz(t){if(typeof t=="number")return t;if(OBe(t))return Hz;if(Ov(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ov(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(sBe,"");var r=cBe.test(t);return r||fBe.test(t)?pBe(t.slice(2),r?2:8):lBe.test(t)?Hz:+t}Wz.exports=wBe});var qv=h(function(Pyt,Gz){function Pv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pv=function(r){return typeof r}:Pv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pv(t)}Gz.exports=function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+Pv(e));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return(r?"-":"")+e+" B";var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var a=n[i];return e>=10||e%1==0?(r?"-":"")+e.toFixed(0)+" "+a:(r?"-":"")+e.toFixed(1)+" "+a}});var Xz=h(function(qyt,Yz){"use strict";function Rv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rv=function(r){return typeof r}:Rv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rv(t)}function Kz(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}Kz.prototype.match=function(t){var e=!0,r=this.parts,n,i=r.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),n=0;e&&n<i;n++)r[n]!=="*"&&(n<a.length?e=r[n]===a[n]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(Rv(t)=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};Yz.exports=function(t,e,r){var n=new Kz(t,r||/[\/\.]/);return typeof e!="undefined"?n.match(e):n}});var Qz=h(function(Ryt,Jz){var PBe=Xz(),qBe=/[\/\+\.]/;Jz.exports=function(t,e){function r(n){var i=PBe(n,t,qBe);return i&&i.length>=2}return e?r(e.split(";")[0]):r}});var eP=h(function(Eyt,r$){function Zz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zz(Object(r),!0).forEach(function(n){RBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RBe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function TBe(t,e,r){return e&&e$(t.prototype,e),r&&e$(t,r),t}function ABe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var IBe=0;function kBe(t){return"__private_"+IBe+++"_"+t}var Z1=kBe("publish"),t$=function(){function t(){EBe(this,t),Object.defineProperty(this,Z1,{value:xBe}),this.state={},this.callbacks=[]}return TBe(t,[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(r){var n=Q1({},this.state),i=Q1(Q1({},this.state),r);this.state=i,ABe(this,Z1)[Z1](n,i,r)}},{key:"subscribe",value:function(r){var n=this;return this.callbacks.push(r),function(){n.callbacks.splice(n.callbacks.indexOf(r),1)}}}]),t}();function xBe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.callbacks.forEach(function(n){n.apply(void 0,e)})}t$.VERSION="2.0.3";r$.exports=function(){return new t$}});var Ev=h(function(Tyt,n$){n$.exports=function(e){var r=e.lastIndexOf(".");return r===-1||r===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,r),extension:e.slice(r+1)}}});var tP=h(function(Ayt,i$){i$.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}});var rP=h(function(Iyt,o$){var FBe=Ev(),a$=tP();o$.exports=function(e){var r;if(e.type)return e.type;var n=e.name?(r=FBe(e.name).extension)==null?void 0:r.toLowerCase():null;return n&&n in a$?a$[n]:"application/octet-stream"}});var nP=h(function(kyt,s$){function CBe(t){return t.charCodeAt(0).toString(32)}function u$(t){var e="";return t.replace(/[^A-Z0-9]/ig,function(r){return e+="-".concat(CBe(r)),"/"})+e}s$.exports=function(e){var r="uppy";return typeof e.name=="string"&&(r+="-".concat(u$(e.name.toLowerCase()))),e.type!==void 0&&(r+="-".concat(e.type)),e.meta&&typeof e.meta.relativePath=="string"&&(r+="-".concat(u$(e.meta.relativePath.toLowerCase()))),e.data.size!==void 0&&(r+="-".concat(e.data.size)),e.data.lastModified!==void 0&&(r+="-".concat(e.data.lastModified)),r}});var f$=h(function(xyt,c$){function DBe(t,e){return NBe(t)||MBe(t,e)||jBe(t,e)||UBe()}function UBe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jBe(t,e){if(!!t){if(typeof t=="string")return l$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l$(t,e)}}function l$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MBe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function NBe(t){if(Array.isArray(t))return t}c$.exports=function(e){if(e==null&&(e=typeof navigator!="undefined"?navigator.userAgent:null),!e)return!0;var r=/Edge\/(\d+\.\d+)/.exec(e);if(!r)return!0;var n=r[1],i=n.split("."),a=DBe(i,2),o=a[0],u=a[1];return o=parseInt(o,10),u=parseInt(u,10),o<15||o===15&&u<15063||o>18||o===18&&u>=18218}});var d$=h(function(Fyt,p$){p$.exports=function(e,r){return r.name?r.name:e.split("/")[0]==="image"?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}});var v$=h(function(Cyt,h$){function iP(t){return t<10?"0".concat(t):t.toString()}h$.exports=function(){var e=new Date,r=iP(e.getHours()),n=iP(e.getMinutes()),i=iP(e.getSeconds());return"".concat(r,":").concat(n,":").concat(i)}});var aP=h(function(Dyt,y$){var Tv=v$(),BBe={debug:function(){},warn:function(){},error:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).error.apply(e,["[Uppy] [".concat(Tv(),"]")].concat(n))}},LBe={debug:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).debug.apply(e,["[Uppy] [".concat(Tv(),"]")].concat(n))},warn:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).warn.apply(e,["[Uppy] [".concat(Tv(),"]")].concat(n))},error:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).error.apply(e,["[Uppy] [".concat(Tv(),"]")].concat(n))}};y$.exports={justErrorsLogger:BBe,debugLogger:LBe}});var m$=h(function(Uyt,g$){g$.exports={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}}});var T$=h(function(jyt,E$){"use strict";function b$(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function zBe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){b$(a,n,i,o,u,"next",s)}function u(s){b$(a,n,i,o,u,"throw",s)}o(void 0)})}}function Av(t){return WBe(t)||VBe(t)||HBe(t)||$Be()}function $Be(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function HBe(t,e){if(!!t){if(typeof t=="string")return oP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oP(t,e)}}function VBe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WBe(t){if(Array.isArray(t))return oP(t)}function oP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $r(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$r=function(r){return typeof r}:$r=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$r(t)}function _$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(r),!0).forEach(function(n){Do(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Do(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function GBe(t,e,r){return e&&w$(t.prototype,e),r&&w$(t,r),t}function Iv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yf(t,e)}function sP(t){var e=S$();return function(){var n=gf(t),i;if(e){var a=gf(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return KBe(this,i)}}function KBe(t,e){if(e&&($r(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YBe(t)}function YBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kv(t){var e=typeof Map=="function"?new Map:void 0;return kv=function(n){if(n===null||!XBe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return xv(n,arguments,gf(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),yf(i,n)},kv(t)}function xv(t,e,r){return S$()?xv=Reflect.construct:xv=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&yf(l,o.prototype),l},xv.apply(null,arguments)}function S$(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function XBe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function yf(t,e){return yf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},yf(t,e)}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(t)}var O$,P$;function se(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var JBe=0;function ht(t){return"__private_"+JBe+++"_"+t}var QBe=Y1(),ZBe=X1(),eLe=Co(),tLe=eLe.nanoid,rLe=vf(),lP=qv(),nLe=Qz(),iLe=eP(),aLe=rP(),oLe=Ev(),uLe=nP(),sLe=f$(),lLe=d$(),q$=aP(),cLe=q$.justErrorsLogger,fLe=q$.debugLogger,pLe=m$(),$n=function(t){uP(r,t);var e=sP(r);function r(){var n;return Iv(this,r),n=e.apply(this,arguments),n.isRestriction=!0,n}return r}(kv(Error));typeof AggregateError=="undefined"&&(globalThis.AggregateError=function(t){uP(r,t);var e=sP(r);function r(n,i){var a;return Iv(this,r),a=e.call(this,i),a.errors=n,a}return r}(kv(Error)));var dLe=function(t){uP(r,t);var e=sP(r);function r(){var n;return Iv(this,r),n=e.apply(this,arguments),n.isRestriction=!0,n}return r}(AggregateError),jt=ht("plugins"),mf=ht("storeUnsubscribe"),Fi=ht("emitter"),Uo=ht("preProcessors"),jo=ht("uploaders"),Ci=ht("postProcessors"),bf=ht("checkRestrictions"),cP=ht("checkMinNumberOfFiles"),_f=ht("checkRequiredMetaFieldsOnFile"),fP=ht("checkRequiredMetaFields"),bt=ht("showOrLogErrorAndThrow"),wf=ht("assertNewUploadAllowed"),Sf=ht("checkAndCreateFileStateObject"),Of=ht("startIfAutoProceed"),pP=ht("addListeners"),bn=ht("updateOnlineStatus"),Di=ht("createUpload"),dP=ht("getUpload"),Mo=ht("removeUpload"),Ui=ht("runUpload");O$=Symbol.for("uppy test: getPlugins");P$=Symbol.for("uppy test: createUpload");var R$=function(t,e){function r(n){var i=this;Iv(this,r),Object.defineProperty(this,Ui,{value:RLe}),Object.defineProperty(this,Mo,{value:qLe}),Object.defineProperty(this,dP,{value:PLe}),Object.defineProperty(this,Di,{value:OLe}),Object.defineProperty(this,pP,{value:SLe}),Object.defineProperty(this,Of,{value:wLe}),Object.defineProperty(this,Sf,{value:_Le}),Object.defineProperty(this,wf,{value:bLe}),Object.defineProperty(this,bt,{value:mLe}),Object.defineProperty(this,fP,{value:gLe}),Object.defineProperty(this,_f,{value:yLe}),Object.defineProperty(this,cP,{value:vLe}),Object.defineProperty(this,bf,{value:hLe}),Object.defineProperty(this,jt,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,mf,{writable:!0,value:void 0}),Object.defineProperty(this,Fi,{writable:!0,value:ZBe()}),Object.defineProperty(this,Uo,{writable:!0,value:new Set}),Object.defineProperty(this,jo,{writable:!0,value:new Set}),Object.defineProperty(this,Ci,{writable:!0,value:new Set}),Object.defineProperty(this,bn,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=pLe;var a={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},meta:{},onBeforeFileAdded:function(u){return u},onBeforeUpload:function(u){return u},store:iLe(),logger:cLe,infoTimeout:5e3};if(this.opts=X(X(X({},a),n),{},{restrictions:X(X({},a.restrictions),n&&n.restrictions)}),n&&n.logger&&n.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):n&&n.debug&&(this.opts.logger=fLe),this.log("Using Core v".concat(this.constructor.VERSION)),this.opts.restrictions.allowedFileTypes&&this.opts.restrictions.allowedFileTypes!==null&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.calculateProgress=rLe(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:sLe(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:X({},this.opts.meta),info:[],recoveredState:null}),se(this,mf)[mf]=this.store.subscribe(function(o,u,s){i.emit("state-update",o,u,s),i.updateAll(u)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),se(this,pP)[pP]()}return GBe(r,[{key:"emit",value:function(i){for(var a,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];(a=se(this,Fi)[Fi]).emit.apply(a,[i].concat(u))}},{key:"on",value:function(i,a){return se(this,Fi)[Fi].on(i,a),this}},{key:"once",value:function(i,a){return se(this,Fi)[Fi].once(i,a),this}},{key:"off",value:function(i,a){return se(this,Fi)[Fi].off(i,a),this}},{key:"updateAll",value:function(i){this.iteratePlugins(function(a){a.update(i)})}},{key:"setState",value:function(i){this.store.setState(i)}},{key:"getState",value:function(){return this.store.getState()}},{key:"state",get:function(){return this.getState()}},{key:"setFileState",value:function(i,a){if(!this.getState().files[i])throw new Error("Can\u2019t set state for ".concat(i," (the file could have been removed)"));this.setState({files:X(X({},this.getState().files),{},Do({},i,X(X({},this.getState().files[i]),a)))})}},{key:"i18nInit",value:function(){var i=new QBe([this.defaultLocale,this.opts.locale]);this.i18n=i.translate.bind(i),this.i18nArray=i.translateArray.bind(i),this.locale=i.locale}},{key:"setOptions",value:function(i){this.opts=X(X(X({},this.opts),i),{},{restrictions:X(X({},this.opts.restrictions),i&&i.restrictions)}),i.meta&&this.setMeta(i.meta),this.i18nInit(),i.locale&&this.iteratePlugins(function(a){a.setOptions()}),this.setState()}},{key:"resetProgress",value:function(){var i={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},a=X({},this.getState().files),o={};Object.keys(a).forEach(function(u){var s=X({},a[u]);s.progress=X(X({},s.progress),i),o[u]=s}),this.setState({files:o,totalProgress:0}),this.emit("reset-progress")}},{key:"addPreProcessor",value:function(i){se(this,Uo)[Uo].add(i)}},{key:"removePreProcessor",value:function(i){return se(this,Uo)[Uo].delete(i)}},{key:"addPostProcessor",value:function(i){se(this,Ci)[Ci].add(i)}},{key:"removePostProcessor",value:function(i){return se(this,Ci)[Ci].delete(i)}},{key:"addUploader",value:function(i){se(this,jo)[jo].add(i)}},{key:"removeUploader",value:function(i){return se(this,jo)[jo].delete(i)}},{key:"setMeta",value:function(i){var a=X(X({},this.getState().meta),i),o=X({},this.getState().files);Object.keys(o).forEach(function(u){o[u]=X(X({},o[u]),{},{meta:X(X({},o[u].meta),i)})}),this.log("Adding metadata:"),this.log(i),this.setState({meta:a,files:o})}},{key:"setFileMeta",value:function(i,a){var o=X({},this.getState().files);if(!o[i]){this.log("Was trying to set metadata for a file that has been removed: ",i);return}var u=X(X({},o[i].meta),a);o[i]=X(X({},o[i]),{},{meta:u}),this.setState({files:o})}},{key:"getFile",value:function(i){return this.getState().files[i]}},{key:"getFiles",value:function(){var i=this.getState(),a=i.files;return Object.values(a)}},{key:"getObjectOfFilesPerState",value:function(){var i=this.getState(),a=i.files,o=i.totalProgress,u=i.error,s=Object.values(a),l=s.filter(function(O){var E=O.progress;return!E.uploadComplete&&E.uploadStarted}),c=s.filter(function(O){return!O.progress.uploadStarted}),f=s.filter(function(O){return O.progress.uploadStarted||O.progress.preprocess||O.progress.postprocess}),p=s.filter(function(O){return O.progress.uploadStarted}),d=s.filter(function(O){return O.isPaused}),v=s.filter(function(O){return O.progress.uploadComplete}),g=s.filter(function(O){return O.error}),m=l.filter(function(O){return!O.isPaused}),_=s.filter(function(O){return O.progress.preprocess||O.progress.postprocess});return{newFiles:c,startedFiles:f,uploadStartedFiles:p,pausedFiles:d,completeFiles:v,erroredFiles:g,inProgressFiles:l,inProgressNotPausedFiles:m,processingFiles:_,isUploadStarted:p.length>0,isAllComplete:o===100&&v.length===s.length&&_.length===0,isAllErrored:!!u&&g.length===s.length,isAllPaused:l.length!==0&&d.length===l.length,isUploadInProgress:l.length>0,isSomeGhost:s.some(function(O){return O.isGhost})}}},{key:"validateRestrictions",value:function(i,a){try{return se(this,bf)[bf](i,a),{result:!0}}catch(o){return{result:!1,reason:o.message}}}},{key:"checkIfFileAlreadyExists",value:function(i){var a=this.getState(),o=a.files;return!!(o[i]&&!o[i].isGhost)}},{key:"addFile",value:function(i){se(this,wf)[wf](i);var a=this.getState(),o=a.files,u=se(this,Sf)[Sf](o,i);return o[u.id]&&o[u.id].isGhost&&(u=X(X({},o[u.id]),{},{data:i.data,isGhost:!1}),this.log("Replaced the blob in the restored ghost file: ".concat(u.name,", ").concat(u.id))),this.setState({files:X(X({},o),{},Do({},u.id,u))}),this.emit("file-added",u),this.emit("files-added",[u]),this.log("Added file: ".concat(u.name,", ").concat(u.id,", mime type: ").concat(u.type)),se(this,Of)[Of](),u.id}},{key:"addFiles",value:function(i){var a=this;se(this,wf)[wf]();for(var o=X({},this.getState().files),u=[],s=[],l=0;l<i.length;l++)try{var c=se(this,Sf)[Sf](o,i[l]);o[c.id]&&o[c.id].isGhost&&(c=X(X({},o[c.id]),{},{data:i[l].data,isGhost:!1}),this.log("Replaced blob in a ghost file: ".concat(c.name,", ").concat(c.id))),o[c.id]=c,u.push(c)}catch(d){d.isRestriction||s.push(d)}if(this.setState({files:o}),u.forEach(function(d){a.emit("file-added",d)}),this.emit("files-added",u),u.length>5?this.log("Added batch of ".concat(u.length," files")):Object.keys(u).forEach(function(d){a.log("Added file: ".concat(u[d].name,"\n id: ").concat(u[d].id,"\n type: ").concat(u[d].type))}),u.length>0&&se(this,Of)[Of](),s.length>0){var f="Multiple errors occurred while adding files:\n";if(s.forEach(function(d){f+="\n * ".concat(d.message)}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:f},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(s,f);var p=new Error(f);throw p.errors=s,p}}},{key:"removeFiles",value:function(i,a){var o=this,u=this.getState(),s=u.files,l=u.currentUploads,c=X({},s),f=X({},l),p=Object.create(null);i.forEach(function(m){s[m]&&(p[m]=s[m],delete c[m])});function d(m){return p[m]===void 0}Object.keys(f).forEach(function(m){var _=l[m].fileIDs.filter(d);if(_.length===0){delete f[m];return}f[m]=X(X({},l[m]),{},{fileIDs:_})});var v={currentUploads:f,files:c};Object.keys(c).length===0&&(v.allowNewUpload=!0,v.error=null,v.recoveredState=null),this.setState(v),this.calculateTotalProgress();var g=Object.keys(p);g.forEach(function(m){o.emit("file-removed",p[m],a)}),g.length>5?this.log("Removed ".concat(g.length," files")):this.log("Removed files: ".concat(g.join(", ")))}},{key:"removeFile",value:function(i,a){a===void 0&&(a=null),this.removeFiles([i],a)}},{key:"pauseResume",value:function(i){if(!(!this.getState().capabilities.resumableUploads||this.getFile(i).uploadComplete)){var a=this.getFile(i).isPaused||!1,o=!a;return this.setFileState(i,{isPaused:o}),this.emit("upload-pause",i,o),o}}},{key:"pauseAll",value:function(){var i=X({},this.getState().files),a=Object.keys(i).filter(function(o){return!i[o].progress.uploadComplete&&i[o].progress.uploadStarted});a.forEach(function(o){var u=X(X({},i[o]),{},{isPaused:!0});i[o]=u}),this.setState({files:i}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var i=X({},this.getState().files),a=Object.keys(i).filter(function(o){return!i[o].progress.uploadComplete&&i[o].progress.uploadStarted});a.forEach(function(o){var u=X(X({},i[o]),{},{isPaused:!1,error:null});i[o]=u}),this.setState({files:i}),this.emit("resume-all")}},{key:"retryAll",value:function(){var i=X({},this.getState().files),a=Object.keys(i).filter(function(u){return i[u].error});if(a.forEach(function(u){var s=X(X({},i[u]),{},{isPaused:!1,error:null});i[u]=s}),this.setState({files:i,error:null}),this.emit("retry-all",a),a.length===0)return Promise.resolve({successful:[],failed:[]});var o=se(this,Di)[Di](a,{forceAllowNewUpload:!0});return se(this,Ui)[Ui](o)}},{key:"cancelAll",value:function(){this.emit("cancel-all");var i=this.getState(),a=i.files,o=Object.keys(a);o.length&&this.removeFiles(o,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}},{key:"retryUpload",value:function(i){this.setFileState(i,{error:null,isPaused:!1}),this.emit("upload-retry",i);var a=se(this,Di)[Di]([i],{forceAllowNewUpload:!0});return se(this,Ui)[Ui](a)}},{key:"reset",value:function(){this.cancelAll()}},{key:"logout",value:function(){this.iteratePlugins(function(i){i.provider&&i.provider.logout&&i.provider.logout()})}},{key:"calculateProgress",value:function(i,a){if(!this.getFile(i.id)){this.log("Not setting progress for a file that has been removed: ".concat(i.id));return}var o=Number.isFinite(a.bytesTotal)&&a.bytesTotal>0;this.setFileState(i.id,{progress:X(X({},this.getFile(i.id).progress),{},{bytesUploaded:a.bytesUploaded,bytesTotal:a.bytesTotal,percentage:o?Math.round(a.bytesUploaded/a.bytesTotal*100):0})}),this.calculateTotalProgress()}},{key:"calculateTotalProgress",value:function(){var i=this.getFiles(),a=i.filter(function(g){return g.progress.uploadStarted||g.progress.preprocess||g.progress.postprocess});if(a.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}var o=a.filter(function(g){return g.progress.bytesTotal!=null}),u=a.filter(function(g){return g.progress.bytesTotal==null});if(o.length===0){var s=a.length*100,l=u.reduce(function(g,m){return g+m.progress.percentage},0),c=Math.round(l/s*100);this.setState({totalProgress:c});return}var f=o.reduce(function(g,m){return g+m.progress.bytesTotal},0),p=f/o.length;f+=p*u.length;var d=0;o.forEach(function(g){d+=g.progress.bytesUploaded}),u.forEach(function(g){d+=p*(g.progress.percentage||0)/100});var v=f===0?0:Math.round(d/f*100);v>100&&(v=100),this.setState({totalProgress:v}),this.emit("progress",v)}},{key:"updateOnlineStatus",value:function(){var i=typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0;i?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(i,a){if(typeof i!="function"){var o="Expected a plugin class, but got ".concat(i===null?"null":$r(i),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(o)}var u=new i(this,a),s=u.id;if(!s)throw new Error("Your plugin must have an id");if(!u.type)throw new Error("Your plugin must have a type");var l=this.getPlugin(s);if(l){var c="Already found a plugin named '".concat(l.id,"'. ")+"Tried to use: '".concat(s,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(c)}return i.VERSION&&this.log("Using ".concat(s," v").concat(i.VERSION)),u.type in se(this,jt)[jt]?se(this,jt)[jt][u.type].push(u):se(this,jt)[jt][u.type]=[u],u.install(),this}},{key:"getPlugin",value:function(i){for(var a=0,o=Object.values(se(this,jt)[jt]);a<o.length;a++){var u=o[a],s=u.find(function(l){return l.id===i});if(s!=null)return s}}},{key:t,value:function(i){return se(this,jt)[jt][i]}},{key:"iteratePlugins",value:function(i){Object.values(se(this,jt)[jt]).flat(1).forEach(i)}},{key:"removePlugin",value:function(i){this.log("Removing plugin ".concat(i.id)),this.emit("plugin-remove",i),i.uninstall&&i.uninstall();var a=se(this,jt)[jt][i.type],o=a.findIndex(function(l){return l.id===i.id});o!==-1&&a.splice(o,1);var u=this.getState(),s={plugins:X(X({},u.plugins),{},Do({},i.id,void 0))};this.setState(s)}},{key:"close",value:function(){var i=this;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.reset(),se(this,mf)[mf](),this.iteratePlugins(function(a){i.removePlugin(a)}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",se(this,bn)[bn]),window.removeEventListener("offline",se(this,bn)[bn]))}},{key:"hideInfo",value:function(){var i=this.getState(),a=i.info;this.setState({info:a.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(i,a,o){var u=this;a===void 0&&(a="info"),o===void 0&&(o=3e3);var s=$r(i)==="object";this.setState({info:[].concat(Av(this.getState().info),[{type:a,message:s?i.message:i,details:s?i.details:null}])}),setTimeout(function(){return u.hideInfo()},o),this.emit("info-visible")}},{key:"log",value:function(i,a){var o=this.opts.logger;switch(a){case"error":o.error(i);break;case"warning":o.warn(i);break;default:o.debug(i);break}}},{key:"restore",value:function(i){return this.log('Core: attempting to restore upload "'.concat(i,'"')),this.getState().currentUploads[i]?se(this,Ui)[Ui](i):(se(this,Mo)[Mo](i),Promise.reject(new Error("Nonexistent upload")))}},{key:e,value:function(){var i;return(i=se(this,Di))[Di].apply(i,arguments)}},{key:"addResultData",value:function(i,a){if(!se(this,dP)[dP](i)){this.log("Not setting result for an upload that has been removed: ".concat(i));return}var o=this.getState(),u=o.currentUploads,s=X(X({},u[i]),{},{result:X(X({},u[i].result),a)});this.setState({currentUploads:X(X({},u),{},Do({},i,s))})}},{key:"upload",value:function(){var i=this,a;(a=se(this,jt)[jt].uploader)!=null&&a.length||this.log("No uploader type plugins are used","warning");var o=this.getState(),u=o.files,s=this.opts.onBeforeUpload(u);return s===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(s&&$r(s)==="object"&&(u=s,this.setState({files:u})),Promise.resolve().then(function(){se(i,cP)[cP](u),se(i,fP)[fP](u)}).catch(function(l){se(i,bt)[bt](l)}).then(function(){var l=i.getState(),c=l.currentUploads,f=Object.values(c).flatMap(function(v){return v.fileIDs}),p=[];Object.keys(u).forEach(function(v){var g=i.getFile(v);!g.progress.uploadStarted&&f.indexOf(v)===-1&&p.push(g.id)});var d=se(i,Di)[Di](p);return se(i,Ui)[Ui](d)}).catch(function(l){se(i,bt)[bt](l,{showInformer:!1})}))}}]),r}(O$,P$);function hLe(t,e){e===void 0&&(e=this.getFiles());var r=this.opts.restrictions,n=r.maxFileSize,i=r.minFileSize,a=r.maxTotalFileSize,o=r.maxNumberOfFiles,u=r.allowedFileTypes;if(o&&e.length+1>o)throw new $n("".concat(this.i18n("youCanOnlyUploadX",{smart_count:o})));if(u){var s=u.some(function(f){return f.indexOf("/")>-1?t.type?nLe(t.type.replace(/;.*?$/,""),f):!1:f[0]==="."&&t.extension?t.extension.toLowerCase()===f.substr(1).toLowerCase():!1});if(!s){var l=u.join(", ");throw new $n(this.i18n("youCanOnlyUploadFileTypes",{types:l}))}}if(a&&t.size!=null){var c=0;if(c+=t.size,e.forEach(function(f){c+=f.size}),c>a)throw new $n(this.i18n("exceedsSize",{size:lP(a),file:t.name}))}if(n&&t.size!=null&&t.size>n)throw new $n(this.i18n("exceedsSize",{size:lP(n),file:t.name}));if(i&&t.size!=null&&t.size<i)throw new $n(this.i18n("inferiorSize",{size:lP(i)}))}function vLe(t){var e=this.opts.restrictions.minNumberOfFiles;if(Object.keys(t).length<e)throw new $n("".concat(this.i18n("youHaveToAtLeastSelectX",{smart_count:e})))}function yLe(t){for(var e=this.opts.restrictions.requiredMetaFields,r=Object.prototype.hasOwnProperty,n=[],i=[],a=0;a<e.length;a++)if(!r.call(t.meta,e[a])||t.meta[e[a]]===""){var o=new $n("".concat(this.i18n("missingRequiredMetaFieldOnFile",{fileName:t.name})));n.push(o),i.push(e[a]),se(this,bt)[bt](o,{file:t,showInformer:!1,throwErr:!1})}return this.setFileState(t.id,{missingRequiredMetaFields:i}),n}function gLe(t){var e=this,r=Object.keys(t).flatMap(function(n){var i=e.getFile(n);return se(e,_f)[_f](i)});if(r.length)throw new dLe(r,"".concat(this.i18n("missingRequiredMetaField")))}function mLe(t,e){var r=e===void 0?{}:e,n=r.showInformer,i=n===void 0?!0:n,a=r.file,o=a===void 0?null:a,u=r.throwErr,s=u===void 0?!0:u,l=$r(t)==="object"?t.message:t,c=$r(t)==="object"&&t.details?t.details:"",f=l;if(c&&(f+=" ".concat(c)),t.isRestriction?(this.log(f),this.emit("restriction-failed",o,t)):this.log(f,"error"),i&&this.info({message:l,details:c},"error",this.opts.infoTimeout),s)throw $r(t)==="object"?t:new Error(t)}function bLe(t){var e=this.getState(),r=e.allowNewUpload;r===!1&&se(this,bt)[bt](new $n(this.i18n("noMoreFilesAllowed")),{file:t})}function _Le(t,e){var r=aLe(e),n=lLe(r,e),i=oLe(n).extension,a=Boolean(e.isRemote),o=uLe(X(X({},e),{},{type:r}));if(this.checkIfFileAlreadyExists(o)){var u=new $n(this.i18n("noDuplicates",{fileName:n}));se(this,bt)[bt](u,{file:e})}var s=e.meta||{};s.name=n,s.type=r;var l=Number.isFinite(e.data.size)?e.data.size:null,c={source:e.source||"",id:o,name:n,extension:i||"",meta:X(X({},this.getState().meta),s),type:r,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isRemote:a,remote:e.remote||"",preview:e.preview},f=this.opts.onBeforeFileAdded(c,t);f===!1?se(this,bt)[bt](new $n("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,fileDescriptor:e}):$r(f)==="object"&&f!==null&&(c=f);try{var p=Object.keys(t).map(function(d){return t[d]});se(this,bf)[bf](c,p)}catch(d){se(this,bt)[bt](d,{file:c})}return c}function wLe(){var t=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){t.scheduledAutoProceed=null,t.upload().catch(function(e){e.isRestriction||t.log(e.stack||e.message||e)})},4))}function SLe(){var t=this,e=function(n,i,a){var o=n.message||"Unknown error";n.details&&(o+=" ".concat(n.details)),t.setState({error:o}),i!=null&&i.id in t.getState().files&&t.setFileState(i.id,{error:o,response:a})};this.on("error",e),this.on("upload-error",function(r,n,i){if(e(n,r,i),$r(n)==="object"&&n.message){var a=new Error(n.message);a.details=n.message,n.details&&(a.details+=" ".concat(n.details)),a.message=t.i18n("failedToUpload",{file:r.name}),se(t,bt)[bt](a,{throwErr:!1})}else se(t,bt)[bt](n,{throwErr:!1})}),this.on("upload",function(){t.setState({error:null})}),this.on("upload-started",function(r){if(!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r.id));return}t.setFileState(r.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:r.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",function(r,n){if(!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r.id));return}var i=t.getFile(r.id).progress;t.setFileState(r.id,{progress:X(X({},i),{},{postprocess:se(t,Ci)[Ci].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:i.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),r.size==null&&t.setFileState(r.id,{size:n.bytesUploaded||i.bytesTotal}),t.calculateTotalProgress()}),this.on("preprocess-progress",function(r,n){if(!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r.id));return}t.setFileState(r.id,{progress:X(X({},t.getFile(r.id).progress),{},{preprocess:n})})}),this.on("preprocess-complete",function(r){if(!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r.id));return}var n=X({},t.getState().files);n[r.id]=X(X({},n[r.id]),{},{progress:X({},n[r.id].progress)}),delete n[r.id].progress.preprocess,t.setState({files:n})}),this.on("postprocess-progress",function(r,n){if(!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r.id));return}t.setFileState(r.id,{progress:X(X({},t.getState().files[r.id].progress),{},{postprocess:n})})}),this.on("postprocess-complete",function(r){if(!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r.id));return}var n=X({},t.getState().files);n[r.id]=X(X({},n[r.id]),{},{progress:X({},n[r.id].progress)}),delete n[r.id].progress.postprocess,t.setState({files:n})}),this.on("restored",function(){t.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",function(r){r&&se(t,_f)[_f](r)}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",se(this,bn)[bn]),window.addEventListener("offline",se(this,bn)[bn]),setTimeout(se(this,bn)[bn],3e3))}function OLe(t,e){e===void 0&&(e={});var r=e,n=r.forceAllowNewUpload,i=n===void 0?!1:n,a=this.getState(),o=a.allowNewUpload,u=a.currentUploads;if(!o&&!i)throw new Error("Cannot create a new upload: already uploading.");var s=tLe();return this.emit("upload",{id:s,fileIDs:t}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:X(X({},u),{},Do({},s,{fileIDs:t,step:0,result:{}}))}),s}function PLe(t){var e=this.getState(),r=e.currentUploads;return r[t]}function qLe(t){var e=X({},this.getState().currentUploads);delete e[t],this.setState({currentUploads:e})}function RLe(t){return hP.apply(this,arguments)}function hP(){return hP=zBe(regeneratorRuntime.mark(function t(e){var r=this,n,i,a,o,u,s,l,c,f,p,d,v;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:n=this.getState(),i=n.currentUploads,a=i[e],o=a.step||0,u=[].concat(Av(se(this,Uo)[Uo]),Av(se(this,jo)[jo]),Av(se(this,Ci)[Ci])),m.prev=4,s=o;case 6:if(!(s<u.length)){m.next=19;break}if(a){m.next=9;break}return m.abrupt("break",19);case 9:return l=u[s],c=X(X({},a),{},{step:s}),this.setState({currentUploads:X(X({},i),{},Do({},e,c))}),m.next=14,l(c.fileIDs,e);case 14:i=this.getState().currentUploads,a=i[e];case 16:s++,m.next=6;break;case 19:m.next=26;break;case 21:throw m.prev=21,m.t0=m.catch(4),this.emit("error",m.t0),se(this,Mo)[Mo](e),m.t0;case 26:if(!a){m.next=35;break}return a.fileIDs.forEach(function(_){var O=r.getFile(_);O&&O.progress.postprocess&&r.emit("postprocess-complete",O)}),f=a.fileIDs.map(function(_){return r.getFile(_)}),p=f.filter(function(_){return!_.error}),d=f.filter(function(_){return _.error}),m.next=33,this.addResultData(e,{successful:p,failed:d,uploadID:e});case 33:i=this.getState().currentUploads,a=i[e];case 35:return a&&(v=a.result,this.emit("complete",v),se(this,Mo)[Mo](e)),v==null&&this.log("Not setting result for an upload that has been removed: ".concat(e)),m.abrupt("return",v);case 38:case"end":return m.stop()}},t,this,[[4,21]])})),hP.apply(this,arguments)}R$.VERSION="2.1.4";E$.exports=R$});var te={};RA(te,{Component:function(){return Tf},Fragment:function(){return Ef},cloneElement:function(){return xLe},createContext:function(){return FLe},createElement:function(){return U$},createRef:function(){return TLe},h:function(){return U$},hydrate:function(){return Y$},isValidElement:function(){return I$},options:function(){return ye},render:function(){return K$},toChildArray:function(){return B$}});function ji(t,e){for(var r in e)t[r]=e[r];return t}function D$(t){var e=t.parentNode;e&&e.removeChild(t)}function U$(t,e,r){var n,i,a,o={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?Pf.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return Rf(t,o,n,i,null)}function Rf(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++A$:i};return i==null&&ye.vnode!=null&&ye.vnode(a),a}function TLe(){return{current:null}}function Ef(t){return t.children}function Tf(t,e){this.props=t,this.context=e}function ds(t,e){if(e==null)return t.__?ds(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ds(t):null}function j$(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return j$(t)}}function vP(t){(!t.__d&&(t.__d=!0)&&qf.push(t)&&!Cv.__r++||x$!==ye.debounceRendering)&&((x$=ye.debounceRendering)||k$)(Cv)}function Cv(){for(var t;Cv.__r=qf.length;)t=qf.sort(function(e,r){return e.__v.__b-r.__v.__b}),qf=[],t.some(function(e){var r,n,i,a,o,u;e.__d&&(o=(a=(r=e).__v).__e,(u=r.__P)&&(n=[],(i=ji({},a)).__v=a.__v+1,yP(u,a,i,r.__n,u.ownerSVGElement!==void 0,a.__h!=null?[o]:null,n,o==null?ds(a):o,a.__h),V$(n,a),a.__e!=o&&j$(a)))})}function M$(t,e,r,n,i,a,o,u,s,l){var c,f,p,d,v,g,m,_=n&&n.__k||C$,O=_.length;for(r.__k=[],c=0;c<e.length;c++)if((d=r.__k[c]=(d=e[c])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Rf(null,d,null,null,d):Array.isArray(d)?Rf(Ef,{children:d},null,null,null):d.__b>0?Rf(d.type,d.props,d.key,null,d.__v):d)!=null){if(d.__=r,d.__b=r.__b+1,(p=_[c])===null||p&&d.key==p.key&&d.type===p.type)_[c]=void 0;else for(f=0;f<O;f++){if((p=_[f])&&d.key==p.key&&d.type===p.type){_[f]=void 0;break}p=null}yP(t,d,p=p||Fv,i,a,o,u,s,l),v=d.__e,(f=d.ref)&&p.ref!=f&&(m||(m=[]),p.ref&&m.push(p.ref,null,d),m.push(f,d.__c||v,d)),v!=null?(g==null&&(g=v),typeof d.type=="function"&&d.__k===p.__k?d.__d=s=N$(d,s,t):s=L$(t,d,p,_,v,s),typeof r.type=="function"&&(r.__d=s)):s&&p.__e==s&&s.parentNode!=t&&(s=ds(p))}for(r.__e=g,c=O;c--;)_[c]!=null&&(typeof r.type=="function"&&_[c].__e!=null&&_[c].__e==r.__d&&(r.__d=ds(n,c+1)),G$(_[c],_[c]));if(m)for(c=0;c<m.length;c++)W$(m[c],m[++c],m[++c])}function N$(t,e,r){for(var n,i=t.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=t,e=typeof n.type=="function"?N$(n,e,r):L$(r,n,n,i,n.__e,e));return e}function B$(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){B$(r,e)}):e.push(t)),e}function L$(t,e,r,n,i,a){var o,u,s;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),o=null;else{for(u=a,s=0;(u=u.nextSibling)&&s<n.length;s+=2)if(u==i)break e;t.insertBefore(i,a),o=a}return o!==void 0?o:i.nextSibling}function ALe(t,e,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in e||Dv(t,a,null,r[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||Dv(t,a,e[a],r[a],n)}function z$(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||ELe.test(e)?r:r+"px"}function Dv(t,e,r,n,i){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||z$(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||z$(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?H$:$$,a):t.removeEventListener(e,a?H$:$$,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch(o){}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function $$(t){this.l[t.type+!1](ye.event?ye.event(t):t)}function H$(t){this.l[t.type+!0](ye.event?ye.event(t):t)}function yP(t,e,r,n,i,a,o,u,s){var l,c,f,p,d,v,g,m,_,O,E,F=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(s=r.__h,u=e.__e=r.__e,e.__h=null,a=[u]),(l=ye.__b)&&l(e);try{e:if(typeof F=="function"){if(m=e.props,_=(l=F.contextType)&&n[l.__c],O=l?_?_.props.value:l.__:n,r.__c?g=(c=e.__c=r.__c).__=c.__E:("prototype"in F&&F.prototype.render?e.__c=c=new F(m,O):(e.__c=c=new Tf(m,O),c.constructor=F,c.render=kLe),_&&_.sub(c),c.props=m,c.state||(c.state={}),c.context=O,c.__n=n,f=c.__d=!0,c.__h=[]),c.__s==null&&(c.__s=c.state),F.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ji({},c.__s)),ji(c.__s,F.getDerivedStateFromProps(m,c.__s))),p=c.props,d=c.state,f)F.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(F.getDerivedStateFromProps==null&&m!==p&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,O),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,O)===!1||e.__v===r.__v){c.props=m,c.state=c.__s,e.__v!==r.__v&&(c.__d=!1),c.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(j){j&&(j.__=e)}),c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,O),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(p,d,v)})}c.context=O,c.props=m,c.state=c.__s,(l=ye.__r)&&l(e),c.__d=!1,c.__v=e,c.__P=t,l=c.render(c.props,c.state,c.context),c.state=c.__s,c.getChildContext!=null&&(n=ji(ji({},n),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(v=c.getSnapshotBeforeUpdate(p,d)),E=l!=null&&l.type===Ef&&l.key==null?l.props.children:l,M$(t,Array.isArray(E)?E:[E],e,r,n,i,a,o,u,s),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),g&&(c.__E=c.__=null),c.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=ILe(r.__e,e,r,n,i,a,o,s);(l=ye.diffed)&&l(e)}catch(j){e.__v=null,(s||a!=null)&&(e.__e=u,e.__h=!!s,a[a.indexOf(u)]=null),ye.__e(j,e,r)}}function V$(t,e){ye.__c&&ye.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){ye.__e(n,r.__v)}})}function ILe(t,e,r,n,i,a,o,u){var s,l,c,f=r.props,p=e.props,d=e.type,v=0;if(d==="svg"&&(i=!0),a!=null){for(;v<a.length;v++)if((s=a[v])&&"setAttribute"in s==!!d&&(d?s.localName===d:s.nodeType===3)){t=s,a[v]=null;break}}if(t==null){if(d===null)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),a=null,u=!1}if(d===null)f===p||u&&t.data===p||(t.data=p);else{if(a=a&&Pf.call(t.childNodes),l=(f=r.props||Fv).dangerouslySetInnerHTML,c=p.dangerouslySetInnerHTML,!u){if(a!=null)for(f={},v=0;v<t.attributes.length;v++)f[t.attributes[v].name]=t.attributes[v].value;(c||l)&&(c&&(l&&c.__html==l.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(ALe(t,p,f,i,u),c)e.__k=[];else if(v=e.props.children,M$(t,Array.isArray(v)?v:[v],e,r,n,i&&d!=="foreignObject",a,o,a?a[0]:r.__k&&ds(r,0),u),a!=null)for(v=a.length;v--;)a[v]!=null&&D$(a[v]);u||("value"in p&&(v=p.value)!==void 0&&(v!==f.value||v!==t.value||d==="progress"&&!v)&&Dv(t,"value",v,f.value,!1),"checked"in p&&(v=p.checked)!==void 0&&v!==t.checked&&Dv(t,"checked",v,f.checked,!1))}return t}function W$(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ye.__e(n,r)}}function G$(t,e,r){var n,i;if(ye.unmount&&ye.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||W$(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){ye.__e(a,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&G$(n[i],e,typeof t.type!="function");r||t.__e==null||D$(t.__e),t.__e=t.__d=void 0}function kLe(t,e,r){return this.constructor(t,r)}function K$(t,e,r){var n,i,a;ye.__&&ye.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],yP(e,t=(!n&&r||e).__k=U$(Ef,null,[t]),i||Fv,Fv,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Pf.call(e.childNodes):null,a,!n&&r?r:i?i.__e:e.firstChild,n),V$(a,t)}function Y$(t,e){K$(t,e,Y$)}function xLe(t,e,r){var n,i,a,o=ji({},t.props);for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:o[a]=e[a];return arguments.length>2&&(o.children=arguments.length>3?Pf.call(arguments,2):r),Rf(t.type,o,n||t.key,i||t.ref,null)}function FLe(t,e){var r={__c:e="__cC"+F$++,__:t,Consumer:function(i,a){return i.children(a)},Provider:function(i){var a,o;return this.getChildContext||(a=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&a.some(vP)},this.sub=function(u){a.push(u);var s=u.componentWillUnmount;u.componentWillUnmount=function(){a.splice(a.indexOf(u),1),s&&s.call(u)}}),i.children}};return r.Provider.__=r.Consumer.contextType=r}var Pf,ye,A$,I$,qf,k$,x$,F$,Fv,C$,ELe,Z=S(function(){Fv={},C$=[],ELe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;Pf=C$.slice,ye={__e:function(e,r){for(var n,i,a;r=r.__;)if((n=r.__c)&&!n.__)try{if((i=n.constructor)&&i.getDerivedStateFromError!=null&&(n.setState(i.getDerivedStateFromError(e)),a=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e),a=n.__d),a)return n.__E=n}catch(o){e=o}throw e}},A$=0,I$=function(e){return e!=null&&e.constructor===void 0},Tf.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ji({},this.state),typeof t=="function"&&(t=t(ji({},r),this.props)),t&&ji(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),vP(this))},Tf.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),vP(this))},Tf.prototype.render=Ef,qf=[],k$=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Cv.__r=0,F$=0});var gP=h(function(Myt,X$){X$.exports=function(e){return(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE}});var mP=h(function(Nyt,J$){var CLe=gP();J$.exports=function(e,r){return r===void 0&&(r=document),typeof e=="string"?r.querySelector(e):CLe(e)?e:null}});var _n=h(function(Byt,tH){function Q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q$(Object(r),!0).forEach(function(n){Z$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z$(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ULe(t,e,r){return e&&eH(t.prototype,e),r&&eH(t,r),t}var jLe=Y1();tH.exports=function(){function t(e,r){DLe(this,t),r===void 0&&(r={}),this.uppy=e,this.opts=r}return ULe(t,[{key:"getPluginState",value:function(){var r=this.uppy.getState(),n=r.plugins;return n[this.id]||{}}},{key:"setPluginState",value:function(r){var n=this.uppy.getState(),i=n.plugins;this.uppy.setState({plugins:hs(hs({},i),{},Z$({},this.id,hs(hs({},i[this.id]),r)))})}},{key:"setOptions",value:function(r){this.opts=hs(hs({},this.opts),r),this.setPluginState(),this.i18nInit()}},{key:"i18nInit",value:function(){var r=new jLe([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.setPluginState()}},{key:"addTarget",value:function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"render",value:function(){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(){}},{key:"afterUpdate",value:function(){}}]),t}()});var uH=h(function(Lyt,oH){function Af(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Af=function(r){return typeof r}:Af=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Af(t)}function MLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NLe(t,e,r){return e&&rH(t.prototype,e),r&&rH(t,r),t}function BLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bP(t,e)}function bP(t,e){return bP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bP(t,e)}function LLe(t){var e=$Le();return function(){var n=Uv(t),i;if(e){var a=Uv(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return zLe(this,i)}}function zLe(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nH(t)}function nH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Le(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Uv(t)}function HLe(t){return KLe(t)||GLe(t)||WLe(t)||VLe()}function VLe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function WLe(t,e){if(!!t){if(typeof t=="string")return _P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _P(t,e)}}function GLe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KLe(t){if(Array.isArray(t))return _P(t)}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iH(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var YLe=0;function XLe(t){return"__private_"+YLe+++"_"+t}var JLe=(Z(),ee(te)),aH=JLe.render,QLe=mP(),ZLe=_n();function e9e(t){var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=i,e||(e=Promise.resolve().then(function(){return e=null,t.apply(void 0,HLe(r))})),e}}var If=XLe("updateUI"),t9e=function(t){BLe(r,t);var e=LLe(r);function r(){var n;return MLe(this,r),n=e.apply(this,arguments),Object.defineProperty(nH(n),If,{writable:!0,value:void 0}),n}return NLe(r,[{key:"mount",value:function(i,a){var o=this,u=a.id,s=QLe(i);if(s){this.isTargetDOMEl=!0;var l=document.createDocumentFragment();return iH(this,If)[If]=e9e(function(d){!o.uppy.getPlugin(o.id)||(aH(o.render(d),l),o.afterUpdate())}),this.uppy.log("Installing ".concat(u," to a DOM element '").concat(i,"'")),this.opts.replaceTargetContent&&(s.innerHTML=""),aH(this.render(this.uppy.getState()),l),this.el=l.firstElementChild,s.appendChild(l),this.onMount(),this.el}var c;if(Af(i)==="object"&&i instanceof r)c=i;else if(typeof i=="function"){var f=i;this.uppy.iteratePlugins(function(d){if(d instanceof f)return c=d,!1})}if(c)return this.uppy.log("Installing ".concat(u," to ").concat(c.id)),this.parent=c,this.el=c.addTarget(a),this.onMount(),this.el;this.uppy.log("Not installing ".concat(u));var p="Invalid target option given to ".concat(u,".");throw typeof i=="function"?p+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":p+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(p)}},{key:"update",value:function(i){if(this.el!=null){var a,o;(a=(o=iH(this,If))[If])==null||a.call(o,i)}}},{key:"unmount",value:function(){if(this.isTargetDOMEl){var i;(i=this.el)==null||i.remove()}this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}]),r}(ZLe);oH.exports=t9e});var ot=h(function(zyt,vs){"use strict";var sH=T$(),r9e=uH(),n9e=_n(),i9e=aP(),a9e=i9e.debugLogger;vs.exports=sH;vs.exports.Uppy=sH;vs.exports.UIPlugin=r9e;vs.exports.BasePlugin=n9e;vs.exports.debugLogger=a9e});var No=h(function($yt,cH){function jv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jv=function(r){return typeof r}:jv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jv(t)}function o9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kf(t,e)}function s9e(t){var e=lH();return function(){var n=xf(t),i;if(e){var a=xf(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return l9e(this,i)}}function l9e(t,e){if(e&&(jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c9e(t)}function c9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wP(t){var e=typeof Map=="function"?new Map:void 0;return wP=function(n){if(n===null||!f9e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Mv(n,arguments,xf(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),kf(i,n)},wP(t)}function Mv(t,e,r){return lH()?Mv=Reflect.construct:Mv=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&kf(l,o.prototype),l},Mv.apply(null,arguments)}function lH(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f9e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function kf(t,e){return kf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},kf(t,e)}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(t)}var p9e=function(t){u9e(r,t);var e=s9e(r);function r(n,i){var a;return o9e(this,r),i===void 0&&(i=null),a=e.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),a.cause=n,a.isNetworkError=!0,a.request=i,a}return r}(wP(Error));cH.exports=p9e});var Nv=h(function(Hyt,fH){var d9e=No();fH.exports=function(){return fetch.apply(void 0,arguments).catch(function(e){throw e.name==="AbortError"?e:new d9e(e)})}});var hH=h(function(Vyt,dH){"use strict";function Bv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bv=function(r){return typeof r}:Bv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bv(t)}function h9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ff(t,e)}function y9e(t){var e=pH();return function(){var n=Cf(t),i;if(e){var a=Cf(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return g9e(this,i)}}function g9e(t,e){if(e&&(Bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m9e(t)}function m9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SP(t){var e=typeof Map=="function"?new Map:void 0;return SP=function(n){if(n===null||!b9e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Lv(n,arguments,Cf(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ff(i,n)},SP(t)}function Lv(t,e,r){return pH()?Lv=Reflect.construct:Lv=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&Ff(l,o.prototype),l},Lv.apply(null,arguments)}function pH(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function b9e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ff(t,e){return Ff=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ff(t,e)}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(t)}var _9e=function(t){v9e(r,t);var e=y9e(r);function r(){var n;return h9e(this,r),n=e.call(this,"Authorization required"),n.name="AuthError",n.isAuthError=!0,n}return r}(SP(Error));dH.exports=_9e});var Hv=h(function(Wyt,wH){"use strict";function w9e(t,e){return q9e(t)||P9e(t,e)||O9e(t,e)||S9e()}function S9e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O9e(t,e){if(!!t){if(typeof t=="string")return vH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vH(t,e)}}function vH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P9e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function q9e(t){if(Array.isArray(t))return t}function yH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yH(Object(r),!0).forEach(function(n){gH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function E9e(t,e,r){return e&&mH(t.prototype,e),r&&mH(t,r),t}function bH(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function T9e(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){bH(a,n,i,o,u,"next",s)}function u(s){bH(a,n,i,o,u,"throw",s)}o(void 0)})}}var $v,qa,Hn,Ra,_H;function Vn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var A9e=0;function OP(t){return"__private_"+A9e+++"_"+t}var PP=Nv(),I9e=hH();function k9e(t){return t.replace(/\/$/,"")}function qP(t){return RP.apply(this,arguments)}function RP(){return RP=T9e(regeneratorRuntime.mark(function t(e){var r,n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e.status!==401){o.next=2;break}throw new I9e;case 2:if(r=e.json(),!(e.status<200||e.status>300)){o.next=14;break}return n="Failed request with status: ".concat(e.status,". ").concat(e.statusText),o.prev=5,o.next=8,r;case 8:i=o.sent,n=i.message?"".concat(n," message: ").concat(i.message):n,n=i.requestId?"".concat(n," request-Id: ").concat(i.requestId):n;case 11:throw o.prev=11,new Error(n);case 14:return o.abrupt("return",r);case 15:case"end":return o.stop()}},t,null,[[5,,11,14]])})),RP.apply(this,arguments)}wH.exports=(_H=(qa=OP("getPostResponseFunc"),Hn=OP("getUrl"),Ra=OP("errorHandler"),$v=function(){function t(e,r){var n=this;R9e(this,t),Object.defineProperty(this,Ra,{value:F9e}),Object.defineProperty(this,Hn,{value:x9e}),Object.defineProperty(this,qa,{writable:!0,value:function(a){return function(o){return a?o:n.onReceiveResponse(o)}}}),this.uppy=e,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}return E9e(t,[{key:"hostname",get:function(){var r=this.uppy.getState(),n=r.companion,i=this.opts.companionUrl;return k9e(n&&n[i]?n[i]:i)}},{key:"headers",value:function(){var r=this.opts.companionHeaders||{};return Promise.resolve(zv(zv({},t.defaultHeaders),r))}},{key:"onReceiveResponse",value:function(r){var n=this.uppy.getState(),i=n.companion||{},a=this.opts.companionUrl,o=r.headers;return o.has("i-am")&&o.get("i-am")!==i[a]&&this.uppy.setState({companion:zv(zv({},i),{},gH({},a,o.get("i-am")))}),r}},{key:"preflight",value:function(r){var n=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(Vn(this,Hn)[Hn](r),{method:"OPTIONS"}).then(function(i){return i.headers.has("access-control-allow-headers")&&(n.allowedHeaders=i.headers.get("access-control-allow-headers").split(",").map(function(a){return a.trim().toLowerCase()})),n.preflightDone=!0,n.allowedHeaders.slice()}).catch(function(i){return n.uppy.log("[CompanionClient] unable to make preflight request ".concat(i),"warning"),n.preflightDone=!0,n.allowedHeaders.slice()})}},{key:"preflightAndHeaders",value:function(r){var n=this;return Promise.all([this.preflight(r),this.headers()]).then(function(i){var a=w9e(i,2),o=a[0],u=a[1];return Object.keys(u).forEach(function(s){o.includes(s.toLowerCase())||(n.uppy.log("[CompanionClient] excluding disallowed header ".concat(s)),delete u[s])}),u})}},{key:"get",value:function(r,n){var i=this,a="get";return this.preflightAndHeaders(r).then(function(o){return PP(Vn(i,Hn)[Hn](r),{method:a,headers:o,credentials:i.opts.companionCookiesRule||"same-origin"})}).then(Vn(this,qa)[qa](n)).then(qP).catch(Vn(this,Ra)[Ra](a,r))}},{key:"post",value:function(r,n,i){var a=this,o="post";return this.preflightAndHeaders(r).then(function(u){return PP(Vn(a,Hn)[Hn](r),{method:o,headers:u,credentials:a.opts.companionCookiesRule||"same-origin",body:JSON.stringify(n)})}).then(Vn(this,qa)[qa](i)).then(qP).catch(Vn(this,Ra)[Ra](o,r))}},{key:"delete",value:function(r,n,i){var a=this,o="delete";return this.preflightAndHeaders(r).then(function(u){return PP("".concat(a.hostname,"/").concat(r),{method:o,headers:u,credentials:a.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null})}).then(Vn(this,qa)[qa](i)).then(qP).catch(Vn(this,Ra)[Ra](o,r))}}]),t}()),$v.VERSION="2.0.4",$v.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client=".concat($v.VERSION)},_H);function x9e(t){return/^(https?:|)\/\//.test(t)?t:"".concat(this.hostname,"/").concat(t)}function F9e(t,e){var r=this;return function(n){var i;if(!((i=n)!=null&&i.isAuthError)){var a=new Error("Could not ".concat(t," ").concat(Vn(r,Hn)[Hn](e)));a.cause=n,n=a}return Promise.reject(n)}}});var SH=h(function(Gyt,Vv){"use strict";Vv.exports.setItem=function(t,e){return new Promise(function(r){localStorage.setItem(t,e),r()})};Vv.exports.getItem=function(t){return Promise.resolve(localStorage.getItem(t))};Vv.exports.removeItem=function(t){return new Promise(function(e){localStorage.removeItem(t),e()})}});var TH=h(function(Kyt,EH){"use strict";function Wv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wv=function(r){return typeof r}:Wv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wv(t)}function OH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OH(Object(r),!0).forEach(function(n){C9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PH(t,e){return M9e(t)||j9e(t,e)||U9e(t,e)||D9e()}function D9e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U9e(t,e){if(!!t){if(typeof t=="string")return qH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qH(t,e)}}function qH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j9e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function M9e(t){if(Array.isArray(t))return t}function N9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function B9e(t,e,r){return e&&RH(t.prototype,e),r&&RH(t,r),t}function Df(){return typeof Reflect!="undefined"&&Reflect.get?Df=Reflect.get:Df=function(e,r,n){var i=L9e(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Df.apply(this,arguments)}function L9e(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Bo(t),t!==null););return t}function z9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EP(t,e)}function EP(t,e){return EP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},EP(t,e)}function $9e(t){var e=W9e();return function(){var n=Bo(t),i;if(e){var a=Bo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return H9e(this,i)}}function H9e(t,e){if(e&&(Wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V9e(t)}function V9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Bo(t){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Bo(t)}var G9e=Hv(),K9e=SH(),Y9e=function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")};EH.exports=function(t){z9e(r,t);var e=$9e(r);function r(n,i){var a;return N9e(this,r),a=e.call(this,n,i),a.provider=i.provider,a.id=a.provider,a.name=a.opts.name||Y9e(a.id),a.pluginId=a.opts.pluginId,a.tokenKey="companion-".concat(a.pluginId,"-auth-token"),a.companionKeysParams=a.opts.companionKeysParams,a.preAuthToken=null,a}return B9e(r,[{key:"headers",value:function(){var i=this;return Promise.all([Df(Bo(r.prototype),"headers",this).call(this),this.getAuthToken()]).then(function(a){var o=PH(a,2),u=o[0],s=o[1],l={};return s&&(l["uppy-auth-token"]=s),i.companionKeysParams&&(l["uppy-credentials-params"]=btoa(JSON.stringify({params:i.companionKeysParams}))),Gv(Gv({},u),l)})}},{key:"onReceiveResponse",value:function(i){i=Df(Bo(r.prototype),"onReceiveResponse",this).call(this,i);var a=this.uppy.getPlugin(this.pluginId),o=a.getPluginState().authenticated,u=o?i.status!==401:i.status<400;return a.setPluginState({authenticated:u}),i}},{key:"setAuthToken",value:function(i){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,i)}},{key:"getAuthToken",value:function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}},{key:"authUrl",value:function(i){return i===void 0&&(i={}),this.preAuthToken&&(i.uppyPreAuthToken=this.preAuthToken),"".concat(this.hostname,"/").concat(this.id,"/connect?").concat(new URLSearchParams(i))}},{key:"fileUrl",value:function(i){return"".concat(this.hostname,"/").concat(this.id,"/get/").concat(i)}},{key:"fetchPreAuthToken",value:function(){var i=this;return this.companionKeysParams?this.post("".concat(this.id,"/preauth/"),{params:this.companionKeysParams}).then(function(a){i.preAuthToken=a.token}).catch(function(a){i.uppy.log("[CompanionClient] unable to fetch preAuthToken ".concat(a),"warning")}):Promise.resolve()}},{key:"list",value:function(i){return this.get("".concat(this.id,"/list/").concat(i||""))}},{key:"logout",value:function(){var i=this;return this.get("".concat(this.id,"/logout")).then(function(a){return Promise.all([a,i.uppy.getPlugin(i.pluginId).storage.removeItem(i.tokenKey)])}).then(function(a){var o=PH(a,1),u=o[0];return u})}}],[{key:"initPlugin",value:function(i,a,o){if(i.type="acquirer",i.files=[],o&&(i.opts=Gv(Gv({},o),a)),a.serverUrl||a.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(a.companionAllowedHosts){var u=a.companionAllowedHosts;if(typeof u!="string"&&!Array.isArray(u)&&!(u instanceof RegExp))throw new TypeError("".concat(i.id,': the option "companionAllowedHosts" must be one of string, Array, RegExp'));i.opts.companionAllowedHosts=u}else/^(?!https?:\/\/).*$/i.test(a.companionUrl)?i.opts.companionAllowedHosts="https://".concat(a.companionUrl.replace(/^\/\//,"")):i.opts.companionAllowedHosts=new URL(a.companionUrl).origin;i.storage=i.opts.storage||K9e}}]),r}(G9e)});var kH=h(function(Yyt,IH){"use strict";function Kv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kv=function(r){return typeof r}:Kv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kv(t)}function X9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function J9e(t,e,r){return e&&AH(t.prototype,e),r&&AH(t,r),t}function Q9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&TP(t,e)}function TP(t,e){return TP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},TP(t,e)}function Z9e(t){var e=r7e();return function(){var n=Yv(t),i;if(e){var a=Yv(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return e7e(this,i)}}function e7e(t,e){if(e&&(Kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t7e(t)}function t7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r7e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(t)}var n7e=Hv(),i7e=function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")};IH.exports=function(t){Q9e(r,t);var e=Z9e(r);function r(n,i){var a;return X9e(this,r),a=e.call(this,n,i),a.provider=i.provider,a.id=a.provider,a.name=a.opts.name||i7e(a.id),a.pluginId=a.opts.pluginId,a}return J9e(r,[{key:"fileUrl",value:function(i){return"".concat(this.hostname,"/search/").concat(this.id,"/get/").concat(i)}},{key:"search",value:function(i,a){return a=a?"&".concat(a):"",this.get("search/".concat(this.id,"/list?q=").concat(encodeURIComponent(i)).concat(a))}}]),r}(n7e)});var UH=h(function(Xyt,DH){function a7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o7e(t,e,r){return e&&xH(t.prototype,e),r&&xH(t,r),t}var Wn,Ea,Hr,Gt,Xv,FH,CH;function vt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var u7e=0;function Uf(t){return"__private_"+u7e+++"_"+t}var s7e=X1();DH.exports=(Wn=Uf("queued"),Ea=Uf("emitter"),Hr=Uf("isOpen"),Gt=Uf("socket"),Xv=Uf("handleMessage"),FH=Symbol.for("uppy test: getSocket"),CH=Symbol.for("uppy test: getQueued"),function(t,e){function r(n){var i=this;a7e(this,r),Object.defineProperty(this,Wn,{writable:!0,value:[]}),Object.defineProperty(this,Ea,{writable:!0,value:s7e()}),Object.defineProperty(this,Hr,{writable:!0,value:!1}),Object.defineProperty(this,Gt,{writable:!0,value:void 0}),Object.defineProperty(this,Xv,{writable:!0,value:function(o){try{var u=JSON.parse(o.data);i.emit(u.action,u.payload)}catch(s){console.log(s)}}}),this.opts=n,(!n||n.autoOpen!==!1)&&this.open()}return o7e(r,[{key:"isOpen",get:function(){return vt(this,Hr)[Hr]}},{key:t,value:function(){return vt(this,Gt)[Gt]}},{key:e,value:function(){return vt(this,Wn)[Wn]}},{key:"open",value:function(){var i=this;vt(this,Gt)[Gt]=new WebSocket(this.opts.target),vt(this,Gt)[Gt].onopen=function(){for(vt(i,Hr)[Hr]=!0;vt(i,Wn)[Wn].length>0&&vt(i,Hr)[Hr];){var a=vt(i,Wn)[Wn].shift();i.send(a.action,a.payload)}},vt(this,Gt)[Gt].onclose=function(){vt(i,Hr)[Hr]=!1},vt(this,Gt)[Gt].onmessage=vt(this,Xv)[Xv]}},{key:"close",value:function(){var i;(i=vt(this,Gt)[Gt])==null||i.close()}},{key:"send",value:function(i,a){if(!vt(this,Hr)[Hr]){vt(this,Wn)[Wn].push({action:i,payload:a});return}vt(this,Gt)[Gt].send(JSON.stringify({action:i,payload:a}))}},{key:"on",value:function(i,a){vt(this,Ea)[Ea].on(i,a)}},{key:"emit",value:function(i,a){vt(this,Ea)[Ea].emit(i,a)}},{key:"once",value:function(i,a){vt(this,Ea)[Ea].once(i,a)}}]),r}(FH,CH))});var tr=h(function(Jyt,jH){"use strict";var l7e=Hv(),c7e=TH(),f7e=kH(),p7e=UH();jH.exports={RequestClient:l7e,Provider:c7e,SearchProvider:f7e,Socket:p7e}});var NH=h(function(Qyt,MH){var d7e=(Z(),ee(te)),Kt=d7e.h;function h7e(){return Kt("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},Kt("g",{fill:"none","fill-rule":"evenodd"},Kt("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),Kt("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),Kt("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),Kt("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),Kt("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),Kt("path",{d:"M4 4h18v18H4z"})))}function v7e(t){var e=t.pluginName,r=t.pluginIcon,n=t.i18nArray,i=t.handleAuth,a=e==="Google Drive",o=Kt("span",{className:"uppy-Provider-authTitleName"},e,Kt("br",null));return Kt("div",{className:"uppy-Provider-auth"},Kt("div",{className:"uppy-Provider-authIcon"},r()),Kt("div",{className:"uppy-Provider-authTitle"},n("authenticateWithTitle",{pluginName:o})),a?Kt("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:i,"data-uppy-super-focusable":!0},Kt(h7e,null),n("signInWithGoogle")):Kt("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:i,"data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:e})))}MH.exports=v7e});var zH=h(function(Zyt,LH){var y7e=(Z(),ee(te)),BH=y7e.h;LH.exports=function(t){return[BH("span",{className:"uppy-ProviderBrowser-user",key:"username"},t.username),BH("button",{type:"button",onClick:t.logout,className:"uppy-u-reset uppy-ProviderBrowser-userLogout",key:"logout"},t.i18n("logOut"))]}});var VH=h(function(egt,HH){var $H=(Z(),ee(te)),jf=$H.h,g7e=$H.Fragment,m7e=function(e){var r=e.getFolder,n=e.title,i=e.isLast;return jf(g7e,null,jf("button",{type:"button",className:"uppy-u-reset",onClick:r},n),i?"":" / ")};HH.exports=function(t){var e=t.getFolder,r=t.title,n=t.breadcrumbsIcon,i=t.directories;return jf("div",{className:"uppy-Provider-breadcrumbs"},jf("div",{className:"uppy-Provider-breadcrumbsIcon"},n),i.map(function(a,o){return jf(m7e,{key:a.id,getFolder:function(){return e(a.id)},title:o===0?r:a.title,isLast:o+1===i.length})}))}});var GH=h(function(tgt,WH){var b7e=zH(),_7e=VH();WH.exports=function(t){var e=[];return t.showBreadcrumbs&&e.push(_7e({getFolder:t.getFolder,directories:t.directories,breadcrumbsIcon:t.pluginIcon&&t.pluginIcon(),title:t.title})),e.push(b7e({logout:t.logout,username:t.username,i18n:t.i18n})),e}});var Pr=h(function(rgt,Jv){function Mf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mf=function(r){return typeof r}:Mf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mf(t)}(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(!!i){var a=Mf(i);if(a==="string"||a==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var o=e.apply(null,i);o&&r.push(o)}}else if(a==="object")if(i.toString===Object.prototype.toString)for(var u in i)t.call(i,u)&&i[u]&&r.push(u);else r.push(i.toString())}}return r.join(" ")}typeof Jv!="undefined"&&Jv.exports?(e.default=e,Jv.exports=e):typeof define=="function"&&Mf(define.amd)==="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var AP=h(function(ngt,XH){function KH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KH(Object(r),!0).forEach(function(n){w7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w7e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var S7e=Ev();XH.exports=function(e){return YH(YH({},e),{},{type:e.mimeType,extension:e.name?S7e(e.name).extension:null})}});var tV=h(function(igt,eV){function Qv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qv=function(r){return typeof r}:Qv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qv(t)}function O7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P7e(t,e,r){return e&&JH(t.prototype,e),r&&JH(t,r),t}function q7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IP(t,e)}function IP(t,e){return IP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},IP(t,e)}function R7e(t){var e=T7e();return function(){var n=Zv(t),i;if(e){var a=Zv(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return E7e(this,i)}}function E7e(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QH(t)}function QH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T7e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(t)}var ZH=(Z(),ee(te)),Lo=ZH.h,A7e=ZH.Component;eV.exports=function(t){q7e(r,t);var e=R7e(r);function r(n){var i;return O7e(this,r),i=e.call(this,n),i.preventEnterPress=i.preventEnterPress.bind(QH(i)),i}return P7e(r,[{key:"preventEnterPress",value:function(i){i.keyCode===13&&(i.stopPropagation(),i.preventDefault())}},{key:"render",value:function(){var i=this;return Lo("div",{className:"uppy-ProviderBrowser-filter"},Lo("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:this.props.i18n("filter"),"aria-label":this.props.i18n("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:function(o){return i.props.filterQuery(o)},value:this.props.filterInput}),Lo("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},Lo("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),this.props.filterInput&&Lo("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":this.props.i18n("resetFilter"),title:this.props.i18n("resetFilter"),onClick:this.props.filterQuery},Lo("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},Lo("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))}}]),r}(A7e)});var nV=h(function(agt,rV){var I7e=(Z(),ee(te)),kP=I7e.h;rV.exports=function(t){return kP("div",{className:"uppy-ProviderBrowser-footer"},kP("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:t.done,type:"button"},t.i18n("selectX",{smart_count:t.selected})),kP("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:t.cancel,type:"button"},t.i18n("cancel")))}});var aV=h(function(ogt,iV){var k7e=(Z(),ee(te)),wn=k7e.h;function x7e(){return wn("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},wn("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function F7e(){return wn("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},wn("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function C7e(){return wn("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},wn("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),wn("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}iV.exports=function(t){if(t.itemIconString!==null)switch(t.itemIconString){case"file":return wn(x7e,null);case"folder":return wn(F7e,null);case"video":return wn(C7e,null);default:return wn("img",{src:t.itemIconString,alt:t.alt})}}});var uV=h(function(ugt,oV){var D7e=(Z(),ee(te)),ey=D7e.h;function U7e(t){var e=t.className,r=t.isDisabled,n=t.restrictionReason,i=t.isChecked,a=t.title,o=t.itemIconEl,u=t.showTitles,s=t.toggleCheckbox,l=t.id,c=t.children;return ey("li",{className:e,title:r?n:null},ey("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(i?"uppy-ProviderBrowserItem-checkbox--is-checked":""," uppy-ProviderBrowserItem-checkbox--grid"),onChange:s,name:"listitem",id:l,checked:i,disabled:r,"data-uppy-super-focusable":!0}),ey("label",{htmlFor:l,"aria-label":a,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},ey("span",{className:"uppy-ProviderBrowserItem-inner-relative"},o,u&&a,c)))}oV.exports=U7e});var lV=h(function(sgt,sV){var j7e=(Z(),ee(te)),zo=j7e.h;function M7e(t){var e=t.className,r=t.isDisabled,n=t.restrictionReason,i=t.isCheckboxDisabled,a=t.isChecked,o=t.toggleCheckbox,u=t.type,s=t.id,l=t.itemIconEl,c=t.title,f=t.handleFolderClick,p=t.showTitles,d=t.i18n;return zo("li",{className:e,title:r?n:null},i?null:zo("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(a?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:o,name:"listitem",id:s,checked:a,"aria-label":u==="file"?null:d("allFilesFromFolderNamed",{name:c}),disabled:r,"data-uppy-super-focusable":!0}),u==="file"?zo("label",{htmlFor:s,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},zo("div",{className:"uppy-ProviderBrowserItem-iconWrap"},l),p&&c):zo("button",{type:"button",className:"uppy-u-reset uppy-ProviderBrowserItem-inner",onClick:f,"aria-label":d("openFolderNamed",{name:c})},zo("div",{className:"uppy-ProviderBrowserItem-iconWrap"},l),p&&zo("span",null,c)))}sV.exports=M7e});var pV=h(function(lgt,fV){function Nf(){return Nf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nf.apply(this,arguments)}var N7e=(Z(),ee(te)),Bf=N7e.h,B7e=Pr(),L7e=aV(),cV=uV(),z7e=lV();fV.exports=function(t){var e=t.author,r=t.getItemIcon(),n=B7e("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":t.isChecked},{"uppy-ProviderBrowserItem--disabled":t.isDisabled},{"uppy-ProviderBrowserItem--noPreview":r==="video"}),i=Bf(L7e,{itemIconString:r});switch(t.viewType){case"grid":return Bf(cV,Nf({},t,{className:n,itemIconEl:i}));case"list":return Bf(z7e,Nf({},t,{className:n,itemIconEl:i}));case"unsplash":return Bf(cV,Nf({},t,{className:n,itemIconEl:i}),Bf("a",{href:"".concat(e.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},e.name));default:throw new Error("There is no such type ".concat(t.viewType))}}});var FP=h(function(cgt,yV){function dV(t){return W7e(t)||V7e(t)||H7e(t)||$7e()}function $7e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H7e(t,e){if(!!t){if(typeof t=="string")return xP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xP(t,e)}}function V7e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W7e(t){if(Array.isArray(t))return xP(t)}function xP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var G7e=(Z(),ee(te)),Ta=G7e.h,hV=Pr(),K7e=AP(),Y7e=tV(),X7e=nV(),vV=pV(),J7e="shared-with-me";function Q7e(t){var e=t.currentSelection,r=t.folders,n=t.files,i=t.uppyFiles,a=t.viewType,o=t.headerComponent,u=t.showBreadcrumbs,s=t.isChecked,l=t.toggleCheckbox,c=t.handleScroll,f=t.showTitles,p=t.i18n,d=t.validateRestrictions,v=t.showFilter,g=t.filterQuery,m=t.filterInput,_=t.getNextFolder,O=t.cancel,E=t.done,F=t.columns,j=e.length;return Ta("div",{className:hV("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(a))},Ta("div",{className:"uppy-ProviderBrowser-header"},Ta("div",{className:hV("uppy-ProviderBrowser-headerBar",!u&&"uppy-ProviderBrowser-headerBar--simple")},o)),v&&Ta(Y7e,{i18n:p,filterQuery:g,filterInput:m}),function(){return!r.length&&!n.length?Ta("div",{className:"uppy-Provider-empty"},t.i18n("noFilesFound")):Ta("div",{className:"uppy-ProviderBrowser-body"},Ta("ul",{className:"uppy-ProviderBrowser-list",onScroll:c,role:"listbox",tabIndex:"-1"},r.map(function(C){var Y;return vV({columns:F,showTitles:f,viewType:a,i18n:p,id:C.id,title:C.name,getItemIcon:function(){return C.icon},isChecked:s(C),toggleCheckbox:function(T){return l(T,C)},type:"folder",isDisabled:(Y=s(C))==null?void 0:Y.loading,isCheckboxDisabled:C.id===J7e,handleFolderClick:function(){return _(C)}})}),n.map(function(C){var Y=d(K7e(C),[].concat(dV(i),dV(e)));return vV({id:C.id,title:C.name,author:C.author,getItemIcon:function(){return C.icon},isChecked:s(C),toggleCheckbox:function(T){return l(T,C)},columns:F,showTitles:f,viewType:a,i18n:p,type:"file",isDisabled:!Y.result&&!s(C),restrictionReason:Y.reason})})))}(),j>0&&Ta(X7e,{selected:j,done:E,cancel:O,i18n:p}))}yV.exports=Q7e});var CP=h(function(fgt,mV){var Z7e=(Z(),ee(te)),gV=Z7e.h;mV.exports=function(t){return gV("div",{className:"uppy-Provider-loading"},gV("span",null,t.i18n("loading")))}});var UP=h(function(pgt,wV){function ty(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ty=function(r){return typeof r}:ty=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ty(t)}function eze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tze(t,e,r){return e&&bV(t.prototype,e),r&&bV(t,r),t}function rze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DP(t,e)}function DP(t,e){return DP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},DP(t,e)}function nze(t){var e=oze();return function(){var n=ry(t),i;if(e){var a=ry(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ize(this,i)}}function ize(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aze(t)}function aze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(t)}var _V=(Z(),ee(te)),uze=_V.Component,sze=_V.toChildArray;wV.exports=function(t){rze(r,t);var e=nze(r);function r(){return eze(this,r),e.apply(this,arguments)}return tze(r,[{key:"componentWillUnmount",value:function(){var i=this.props.onUnmount;i()}},{key:"render",value:function(){var i=this.props.children;return sze(i)[0]}}]),r}(uze)});var jP=h(function(dgt,SV){SV.exports=function(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}});var RV=h(function(hgt,qV){function lze(t){return pze(t)||fze(t)||OV(t)||cze()}function cze(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fze(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pze(t){if(Array.isArray(t))return MP(t)}function dze(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=OV(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function OV(t,e){if(!!t){if(typeof t=="string")return MP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MP(t,e)}}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vze(t,e,r){return e&&PV(t.prototype,e),r&&PV(t,r),t}var yze=AP();qV.exports=function(){function t(e){hze(this,t),this.plugin=e,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}return vze(t,[{key:"filterItems",value:function(r){var n=this.plugin.getPluginState();return!n.filterInput||n.filterInput===""?r:r.filter(function(i){return i.name.toLowerCase().indexOf(n.filterInput.toLowerCase())!==-1})}},{key:"toggleCheckbox",value:function(r,n){r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();var i=this.plugin.getPluginState(),a=i.folders,o=i.files,u=this.filterItems(a.concat(o));if(this.lastCheckbox&&r.shiftKey){var s=u.indexOf(this.lastCheckbox),l=u.indexOf(n),c=s<l?u.slice(s,l+1):u.slice(l,s+1),f=[],p=dze(c),d;try{for(p.s();!(d=p.n()).done;){var v=d.value,g=this.plugin.uppy,m=g.validateRestrictions(yze(v),[].concat(lze(g.getFiles()),f));m.result?f.push(v):g.info({message:m.reason},"error",g.opts.infoTimeout)}}catch(E){p.e(E)}finally{p.f()}this.plugin.setPluginState({currentSelection:f});return}this.lastCheckbox=n;var _=this.plugin.getPluginState(),O=_.currentSelection;this.isChecked(n)?this.plugin.setPluginState({currentSelection:O.filter(function(E){return E.id!==n.id})}):this.plugin.setPluginState({currentSelection:O.concat([n])})}},{key:"isChecked",value:function(r){var n=this.plugin.getPluginState(),i=n.currentSelection;return i.some(function(a){return a.id===r.id})}},{key:"loaderWrapper",value:function(r,n,i){var a=this;r.then(function(o){a.plugin.setPluginState({loading:!1}),n(o)}).catch(function(o){a.plugin.setPluginState({loading:!1}),i(o)}),this.plugin.setPluginState({loading:!0})}}]),t}()});var NP=h(function(vgt,TV){function gze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mze(t,e,r){return e&&EV(t.prototype,e),r&&EV(t,r),t}var bze=rP(),_ze=jP(),wze=nP(),Sze=RV();TV.exports=function(){function t(e,r){gze(this,t),this.plugin=e,this.provider=r.provider,this.sharedHandler=new Sze(e),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}return mze(t,[{key:"providerFileToId",value:function(r){return wze({data:r,name:r.name||r.id,type:r.mimetype})}},{key:"preFirstRender",value:function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}},{key:"shouldHandleScroll",value:function(r){var n=r.target,i=n.scrollHeight,a=n.scrollTop,o=n.offsetHeight,u=i-(a+o);return u<50&&!this.isHandlingScroll}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[]})}},{key:"cancelPicking",value:function(){this.clearSelection();var r=this.plugin.uppy.getPlugin("Dashboard");r&&r.hideAllPanels()}},{key:"handleError",value:function(r){var n=this.plugin.uppy,i=n.i18n("companionError");n.log(r.toString()),!r.isAuthError&&n.info({message:i,details:r.toString()},"error",5e3)}},{key:"addFile",value:function(r){var n={id:this.providerFileToId(r),source:this.plugin.id,data:r,name:r.name||r.id,type:r.mimeType,isRemote:!0,meta:{},body:{fileId:r.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(r.requestPath)),body:{fileId:r.id},providerOptions:this.provider.opts,providerName:this.provider.name}},i=bze(n);i&&_ze(i)&&(n.preview=r.thumbnail),r.author&&(n.meta.author=r.author),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(n),!0}catch(a){return a.isRestriction||this.plugin.uppy.log(a),!1}}}]),t}()});var UV=h(function(ygt,DV){function ny(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ny=function(r){return typeof r}:ny=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ny(t)}function AV(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function Oze(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){AV(a,n,i,o,u,"next",s)}function u(s){AV(a,n,i,o,u,"throw",s)}o(void 0)})}}function IV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IV(Object(r),!0).forEach(function(n){Pze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rze(t,e,r){return e&&kV(t.prototype,e),r&&kV(t,r),t}function Eze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BP(t,e)}function BP(t,e){return BP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},BP(t,e)}function Tze(t){var e=Ize();return function(){var n=iy(t),i;if(e){var a=iy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Aze(this,i)}}function Aze(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vr(t)}function Vr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ize(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},iy(t)}var xV,ys,ay,FV;function LP(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var kze=0;function CV(t){return"__private_"+kze+++"_"+t}var xze=(Z(),ee(te)),gs=xze.h,Fze=NH(),Cze=GH(),Dze=FP(),Uze=CP(),zP=UP(),jze=NP();function Mze(){return location.origin}DV.exports=(FV=(ys=CV("updateFilesAndFolders"),ay=CV("isOriginAllowed"),xV=function(t){Eze(r,t);var e=Tze(r);function r(n,i){var a;qze(this,r),a=e.call(this,n,i),Object.defineProperty(Vr(a),ay,{value:Bze}),Object.defineProperty(Vr(a),ys,{value:Nze});var o={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};return a.opts=Mi(Mi({},o),i),a.filterQuery=a.filterQuery.bind(Vr(a)),a.getFolder=a.getFolder.bind(Vr(a)),a.getNextFolder=a.getNextFolder.bind(Vr(a)),a.logout=a.logout.bind(Vr(a)),a.handleAuth=a.handleAuth.bind(Vr(a)),a.handleScroll=a.handleScroll.bind(Vr(a)),a.listAllFiles=a.listAllFiles.bind(Vr(a)),a.donePicking=a.donePicking.bind(Vr(a)),a.render=a.render.bind(Vr(a)),a.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),a}return Rze(r,[{key:"tearDown",value:function(){}},{key:"getFolder",value:function(i,a){var o=this;return this.sharedHandler.loaderWrapper(this.provider.list(i),function(u){var s=[],l=[],c,f=o.plugin.getPluginState(),p=f.directories.findIndex(function(d){return i===d.id});p!==-1?c=f.directories.slice(0,p+1):c=f.directories.concat([{id:i,title:a}]),o.username=u.username||o.username,LP(o,ys)[ys](u,l,s),o.plugin.setPluginState({directories:c})},this.handleError)}},{key:"getNextFolder",value:function(i){this.getFolder(i.requestPath,i.name),this.lastCheckbox=void 0}},{key:"logout",value:function(){var i=this;this.provider.logout().then(function(a){if(a.ok){if(!a.revoked){var o=i.plugin.uppy.i18n("companionUnauthorizeHint",{provider:i.plugin.title,url:a.manual_revoke_url});i.plugin.uppy.info(o,"info",7e3)}var u={authenticated:!1,files:[],folders:[],directories:[]};i.plugin.setPluginState(u)}}).catch(this.handleError)}},{key:"filterQuery",value:function(i){var a=this.plugin.getPluginState();this.plugin.setPluginState(Mi(Mi({},a),{},{filterInput:i?i.target.value:""}))}},{key:"addFolder",value:function(i){var a=this,o=this.providerFileToId(i),u=this.plugin.getPluginState(),s=Mi({},u.selectedFolders);if(!(o in s&&s[o].loading))return s[o]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:Mi({},s)}),this.listAllFiles(i.requestPath).then(function(l){var c=0;l.forEach(function(d){var v=a.providerFileToId(d);a.plugin.uppy.checkIfFileAlreadyExists(v)||c++}),c>0&&l.forEach(function(d){return a.addFile(d)});var f=l.map(a.providerFileToId);s[o]={loading:!1,files:f},a.plugin.setPluginState({selectedFolders:s});var p;c===0?p=a.plugin.uppy.i18n("folderAlreadyAdded",{folder:i.name}):l.length?p=a.plugin.uppy.i18n("folderAdded",{smart_count:c,folder:i.name}):p=a.plugin.uppy.i18n("emptyFolderAdded"),a.plugin.uppy.info(p)}).catch(function(l){var c=a.plugin.getPluginState(),f=Mi({},c.selectedFolders);delete f[o],a.plugin.setPluginState({selectedFolders:f}),a.handleError(l)})}},{key:"handleAuth",value:function(){var i=this,a=btoa(JSON.stringify({origin:Mze()})),o="@uppy/provider-views=".concat(r.VERSION),u=this.provider.authUrl({state:a,uppyVersions:o}),s=window.open(u,"_blank"),l=function c(f){if(!LP(i,ay)[ay](f.origin,i.plugin.opts.companionAllowedHosts)||f.source!==s){i.plugin.uppy.log("rejecting event from ".concat(f.origin," vs allowed pattern ").concat(i.plugin.opts.companionAllowedHosts));return}var p=typeof f.data=="string"?JSON.parse(f.data):f.data;if(p.error){i.plugin.uppy.log("auth aborted");var d=i.plugin.uppy,v=d.i18n("authAborted");d.info({message:v},"warning",5e3);return}if(!p.token){i.plugin.uppy.log("did not receive token from auth window");return}s.close(),window.removeEventListener("message",c),i.provider.setAuthToken(p.token),i.preFirstRender()};window.addEventListener("message",l)}},{key:"handleScroll",value:function(){var n=Oze(regeneratorRuntime.mark(function a(o){var u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=this.nextPagePath||null,!(this.shouldHandleScroll(o)&&u)){d.next=17;break}return this.isHandlingScroll=!0,d.prev=3,d.next=6,this.provider.list(u);case 6:s=d.sent,l=this.plugin.getPluginState(),c=l.files,f=l.folders,LP(this,ys)[ys](s,c,f),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(3),this.handleError(d.t0);case 14:return d.prev=14,this.isHandlingScroll=!1,d.finish(14);case 17:case"end":return d.stop()}},a,this,[[3,11,14,17]])}));function i(a){return n.apply(this,arguments)}return i}()},{key:"listAllFiles",value:function(i,a){var o=this;return a===void 0&&(a=null),a=a||[],new Promise(function(u,s){o.provider.list(i).then(function(l){l.items.forEach(function(f){f.isFolder?o.addFolder(f):a.push(f)});var c=l.nextPagePath||null;return c?o.listAllFiles(c,a).then(function(f){return u(f)}).catch(function(f){return s(f)}):u(a)}).catch(function(l){return s(l)})})}},{key:"donePicking",value:function(){var i=this,a=this.plugin.getPluginState(),o=a.currentSelection,u=o.map(function(s){return s.isFolder?i.addFolder(s):i.addFile(s)});this.sharedHandler.loaderWrapper(Promise.all(u),function(){i.clearSelection()},function(){})}},{key:"render",value:function(i,a){var o=this;a===void 0&&(a={});var u=this.plugin.getPluginState(),s=u.authenticated,l=u.didFirstRender;l||this.preFirstRender();var c=Mi(Mi({},this.opts),a),f=this.plugin.getPluginState(),p=f.files,d=f.folders,v=f.filterInput,g=f.loading,m=f.currentSelection,_=this.sharedHandler,O=_.isChecked,E=_.toggleCheckbox,F=_.filterItems,j=v!=="",C={showBreadcrumbs:c.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},Y={isChecked:O,toggleCheckbox:E,currentSelection:m,files:j?F(p):p,folders:j?F(d):d,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:Cze(C),title:this.plugin.title,viewType:c.viewType,showTitles:c.showTitles,showFilter:c.showFilter,showBreadcrumbs:c.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var T;return(T=o.plugin.uppy).validateRestrictions.apply(T,arguments)}};return g?gs(zP,{onUnmount:this.clearSelection},gs(Uze,{i18n:this.plugin.uppy.i18n})):s?gs(zP,{onUnmount:this.clearSelection},gs(Dze,Y)):gs(zP,{onUnmount:this.clearSelection},gs(Fze,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}}]),r}(jze)),xV.VERSION="2.0.6",FV);function Nze(t,e,r){this.nextPagePath=t.nextPagePath,t.items.forEach(function(n){n.isFolder?r.push(n):e.push(n)}),this.plugin.setPluginState({folders:r,files:e})}function Bze(t,e){var r=function(a){if(typeof a=="string")return new RegExp("^".concat(a,"$"));if(a instanceof RegExp)return a},n=Array.isArray(e)?e.map(r):[r(e)];return n.filter(function(i){return i!=null}).some(function(i){return i.test(t)||i.test("".concat(t,"/"))})}});var MV=h(function(ggt,jV){jV.exports=UV()});var BV=h(function(mgt,NV){var Lze=(Z(),ee(te)),$P=Lze.h;NV.exports=function(t){var e,r=function(a){a.keyCode===13&&n()},n=function(){e.value&&t.search(e.value)};return $P("div",{className:"uppy-SearchProvider"},$P("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":t.i18n("enterTextToSearch"),placeholder:t.i18n("enterTextToSearch"),onKeyUp:r,ref:function(a){e=a},"data-uppy-super-focusable":!0}),$P("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:n},t.i18n("searchImages")))}});var zV=h(function(bgt,LV){var zze=(Z(),ee(te)),oy=zze.h,$ze=13;LV.exports=function(t){var e=t.searchTerm,r=t.i18n,n=t.search,i=function(o){o.keyCode===$ze&&(o.stopPropagation(),o.preventDefault(),n(o.target.value))};return oy("div",{class:"uppy-ProviderBrowser-search"},oy("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:r("search"),"aria-label":r("search"),value:e,onKeyUp:i,"data-uppy-super-focusable":!0}),oy("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},oy("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))}});var XV=h(function(_gt,YV){function uy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uy=function(r){return typeof r}:uy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},uy(t)}function $V(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function Hze(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){$V(a,n,i,o,u,"next",s)}function u(s){$V(a,n,i,o,u,"throw",s)}o(void 0)})}}function HV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HV(Object(r),!0).forEach(function(n){Vze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gze(t,e,r){return e&&VV(t.prototype,e),r&&VV(t,r),t}function Kze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HP(t,e)}function HP(t,e){return HP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},HP(t,e)}function Yze(t){var e=Jze();return function(){var n=ly(t),i;if(e){var a=ly(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Xze(this,i)}}function Xze(t,e){if(e&&(uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aa(t)}function Aa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ly(t){return ly=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(t)}var WV,ms,GV;function KV(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Qze=0;function Zze(t){return"__private_"+Qze+++"_"+t}var e$e=(Z(),ee(te)),bs=e$e.h,t$e=BV(),r$e=FP(),n$e=CP(),i$e=zV(),VP=UP(),a$e=NP();YV.exports=(GV=(ms=Zze("updateFilesAndInputMode"),WV=function(t){Kze(r,t);var e=Yze(r);function r(n,i){var a;Wze(this,r),a=e.call(this,n,i),Object.defineProperty(Aa(a),ms,{value:o$e});var o={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};return a.opts=sy(sy({},o),i),a.search=a.search.bind(Aa(a)),a.triggerSearchInput=a.triggerSearchInput.bind(Aa(a)),a.addFile=a.addFile.bind(Aa(a)),a.handleScroll=a.handleScroll.bind(Aa(a)),a.donePicking=a.donePicking.bind(Aa(a)),a.render=a.render.bind(Aa(a)),a.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null}),a}return Gze(r,[{key:"tearDown",value:function(){}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})}},{key:"search",value:function(i){var a=this,o=this.plugin.getPluginState(),u=o.searchTerm;if(!(i&&i===u))return this.sharedHandler.loaderWrapper(this.provider.search(i),function(s){KV(a,ms)[ms](s,[])},this.handleError)}},{key:"triggerSearchInput",value:function(){this.plugin.setPluginState({isInputMode:!0})}},{key:"handleScroll",value:function(){var n=Hze(regeneratorRuntime.mark(function a(o){var u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=this.nextPageQuery||null,!(this.shouldHandleScroll(o)&&u)){d.next=17;break}return this.isHandlingScroll=!0,d.prev=3,s=this.plugin.getPluginState(),l=s.files,c=s.searchTerm,d.next=7,this.provider.search(c,u);case 7:f=d.sent,KV(this,ms)[ms](f,l),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(3),this.handleError(d.t0);case 14:return d.prev=14,this.isHandlingScroll=!1,d.finish(14);case 17:case"end":return d.stop()}},a,this,[[3,11,14,17]])}));function i(a){return n.apply(this,arguments)}return i}()},{key:"donePicking",value:function(){var i=this,a=this.plugin.getPluginState(),o=a.currentSelection,u=o.map(function(s){return i.addFile(s)});this.sharedHandler.loaderWrapper(Promise.all(u),function(){i.clearSelection()},function(){})}},{key:"render",value:function(i,a){var o=this;a===void 0&&(a={});var u=this.plugin.getPluginState(),s=u.didFirstRender,l=u.isInputMode,c=u.searchTerm;s||this.preFirstRender();var f=sy(sy({},this.opts),a),p=this.plugin.getPluginState(),d=p.files,v=p.folders,g=p.filterInput,m=p.loading,_=p.currentSelection,O=this.sharedHandler,E=O.isChecked,F=O.toggleCheckbox,j=O.filterItems,C=g!=="",Y={isChecked:E,toggleCheckbox:F,currentSelection:_,files:C?j(d):d,folders:C?j(v):v,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:i$e({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:c}),title:this.plugin.title,viewType:f.viewType,showTitles:f.showTitles,showFilter:f.showFilter,showBreadcrumbs:f.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var T;return(T=o.plugin.uppy).validateRestrictions.apply(T,arguments)}};return m?bs(VP,{onUnmount:this.clearSelection},bs(n$e,{i18n:this.plugin.uppy.i18n})):l?bs(VP,{onUnmount:this.clearSelection},bs(t$e,{search:this.search,i18n:this.plugin.uppy.i18n})):bs(VP,{onUnmount:this.clearSelection},bs(r$e,Y))}}]),r}(a$e)),WV.VERSION="2.0.6",GV);function o$e(t,e){this.nextPageQuery=t.nextPageQuery,t.items.forEach(function(r){e.push(r)}),this.plugin.setPluginState({isInputMode:!1,files:e,searchTerm:t.searchedFor})}});var QV=h(function(wgt,JV){JV.exports=XV()});var Ni=h(function(Sgt,ZV){var u$e=MV(),s$e=QV();ZV.exports={ProviderViews:u$e,SearchProviderViews:s$e}});var iW=h(function(Ogt,_s){function eW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eW(Object(r),!0).forEach(function(n){tW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tW(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c$e(t,e,r){return e&&rW(t.prototype,e),r&&rW(t,r),t}var nW;function Gn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var f$e=0;function WP(t){return"__private_"+f$e+++"_"+t}var p$e=Co(),d$e=p$e.nanoid,GP="uppy/STATE_UPDATE",h$e=function(e){return function(r){return r.uppy[e]}},Bi=WP("id"),Lf=WP("selector"),Li=WP("store");nW=Symbol.for("uppy test: get id");var KP=function(t){function e(r){l$e(this,e),Object.defineProperty(this,Bi,{writable:!0,value:void 0}),Object.defineProperty(this,Lf,{writable:!0,value:void 0}),Object.defineProperty(this,Li,{writable:!0,value:void 0}),Gn(this,Li)[Li]=r.store,Gn(this,Bi)[Bi]=r.id||d$e(),Gn(this,Lf)[Lf]=r.selector||h$e(Gn(this,Bi)[Bi]),this.setState({})}return c$e(e,[{key:"setState",value:function(n){Gn(this,Li)[Li].dispatch({type:GP,id:Gn(this,Bi)[Bi],payload:n})}},{key:"getState",value:function(){return Gn(this,Lf)[Lf](Gn(this,Li)[Li].getState())}},{key:"subscribe",value:function(n){var i=this,a=this.getState();return Gn(this,Li)[Li].subscribe(function(){var o=i.getState();if(a!==o){var u=v$e(a,o);n(a,o,u),a=o}})}},{key:t,value:function(){return Gn(this,Bi)[Bi]}}]),e}(nW);KP.VERSION="2.0.3";function v$e(t,e){var r=Object.keys(e),n={};return r.forEach(function(i){t[i]!==e[i]&&(n[i]=e[i])}),n}function y$e(t,e){if(t===void 0&&(t={}),e.type===GP){var r=cy(cy({},t[e.id]),e.payload);return cy(cy({},t),{},tW({},e.id,r))}return t}function g$e(){return function(){return function(t){return function(e){t(e)}}}}_s.exports=KP;_s.exports.ReduxStore=KP;_s.exports.STATE_UPDATE=GP;_s.exports.reducer=y$e;_s.exports.middleware=g$e});var oW=h(function(Pgt,aW){aW.exports=function(e){if(!e.bytesUploaded)return 0;var r=Date.now()-e.uploadStarted,n=e.bytesUploaded/(r/1e3);return n}});var sW=h(function(qgt,uW){uW.exports=function(e){return e.bytesTotal-e.bytesUploaded}});var YP=h(function(Rgt,lW){function m$e(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}lW.exports=m$e});var fy=h(function(Egt,cW){cW.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}});var pW=h(function(Tgt,fW){fW.exports=function(e){for(var r=[],n,i,a=0,o=Object.values(e);a<o.length;a++){var u=o[a].progress,s=u.preprocess,l=u.postprocess;if(i==null&&(s||l)){var c=s||l;n=c.mode,i=c.message}(s==null?void 0:s.mode)==="determinate"&&r.push(s.value),(l==null?void 0:l.mode)==="determinate"&&r.push(l.value)}var f=r.reduce(function(p,d){return p+d/r.length},0);return{mode:n,message:i,value:f}}});var hW=h(function(Agt,dW){dW.exports=function(e){var r=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,i=Math.floor(e%60);return{hours:r,minutes:n,seconds:i}}});var yW=h(function(Igt,vW){var b$e=hW();vW.exports=function(e){var r=b$e(e),n=r.hours===0?"":"".concat(r.hours,"h"),i=r.minutes===0?"":"".concat(r.hours===0?r.minutes:" ".concat(r.minutes.toString(10).padStart(2,"0")),"m"),a=r.hours!==0?"":"".concat(r.minutes===0?r.seconds:" ".concat(r.seconds.toString(10).padStart(2,"0")),"s");return"".concat(n).concat(i).concat(a)}});var OW=h(function(kgt,SW){var gW=Pr(),_$e=vf(),mW=qv(),w$e=yW(),S$e=(Z(),ee(te)),me=S$e.h,O$e=fy(),P$e="\xB7",bW=function(){return" ".concat(P$e," ")};function q$e(t){var e=t.newFiles,r=t.isUploadStarted,n=t.recoveredState,i=t.i18n,a=t.uploadState,o=t.isSomeGhost,u=t.startUpload,s=gW("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===O$e.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),l=e&&r&&!n?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return me("button",{type:"button",className:s,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:u,disabled:o,"data-uppy-super-focusable":!0},l)}function R$e(t){var e=t.i18n,r=t.uppy;return me("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:function(){return r.retryAll()},"data-uppy-super-focusable":!0},me("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},me("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}function E$e(t){var e=t.i18n,r=t.uppy;return me("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:function(){return r.cancelAll()},"data-uppy-super-focusable":!0},me("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},me("g",{fill:"none",fillRule:"evenodd"},me("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),me("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function T$e(t){var e=t.isAllPaused,r=t.i18n,n=t.isAllComplete,i=t.resumableUploads,a=t.uppy,o=r(e?"resume":"pause");function u(){return n?null:i?e?a.resumeAll():a.pauseAll():a.cancelAll()}return me("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:u,"data-uppy-super-focusable":!0},me("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},me("g",{fill:"none",fillRule:"evenodd"},me("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),me("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function A$e(t){var e=t.i18n,r=t.doneButtonHandler;return me("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},e("done"))}function XP(){return me("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},me("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function I$e(t){var e=t.progress,r=e.value,n=e.mode,i=e.message,a=Math.round(r*100),o="\xB7";return me("div",{className:"uppy-StatusBar-content"},me(XP,null),n==="determinate"?"".concat(a,"% ").concat(o," "):"",i)}function _W(t){var e=t.numUploads,r=t.complete,n=t.totalUploadedSize,i=t.totalSize,a=t.totalETA,o=t.i18n,u=e>1;return me("div",{className:"uppy-StatusBar-statusSecondary"},u&&o("filesUploadedOfTotal",{complete:r,smart_count:e}),me("span",{className:"uppy-StatusBar-additionalInfo"},u&&bW(),o("dataUploadedOfTotal",{complete:mW(n),total:mW(i)}),bW(),o("xTimeLeft",{time:w$e(a)})))}function wW(t){var e=t.i18n,r=t.complete,n=t.numUploads;return me("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:r,smart_count:n}))}function k$e(t){var e=t.i18n,r=t.newFiles,n=t.startUpload,i=gW("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return me("div",{className:"uppy-StatusBar-statusSecondary"},me("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:r})),me("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n},e("upload")))}var x$e=_$e(_W,500,{leading:!0,trailing:!0});function F$e(t){var e=t.i18n,r=t.supportsUploadProgress,n=t.totalProgress,i=t.showProgressDetails,a=t.isUploadStarted,o=t.isAllComplete,u=t.isAllPaused,s=t.newFiles,l=t.numUploads,c=t.complete,f=t.totalUploadedSize,p=t.totalSize,d=t.totalETA,v=t.startUpload,g=s&&a;if(!a||o)return null;var m=e(u?"paused":"uploading");function _(){return!u&&!g&&i?r?me(x$e,{numUploads:l,complete:c,totalUploadedSize:f,totalSize:p,totalETA:d,i18n:e}):me(wW,{i18n:e,complete:c,numUploads:l}):null}return me("div",{className:"uppy-StatusBar-content","aria-label":m,title:m},u?null:me(XP,null),me("div",{className:"uppy-StatusBar-status"},me("div",{className:"uppy-StatusBar-statusPrimary"},r?"".concat(m,": ").concat(n,"%"):m),_(),g?me(k$e,{i18n:e,newFiles:s,startUpload:v}):null))}function C$e(t){var e=t.i18n;return me("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},me("div",{className:"uppy-StatusBar-status"},me("div",{className:"uppy-StatusBar-statusPrimary"},me("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},me("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}function D$e(t){var e=t.error,r=t.i18n,n=t.complete,i=t.numUploads;function a(){var o="".concat(r("uploadFailed")," \n\n ").concat(e);alert(o)}return me("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},me("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},me("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),me("div",{className:"uppy-StatusBar-status"},me("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),me("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button"},"?")),me(wW,{i18n:r,complete:n,numUploads:i})))}SW.exports={UploadBtn:q$e,RetryBtn:R$e,CancelBtn:E$e,PauseResumeButton:T$e,DoneBtn:A$e,LoadingSpinner:XP,ProgressDetails:_W,ProgressBarProcessing:I$e,ProgressBarError:D$e,ProgressBarUploading:F$e,ProgressBarComplete:C$e}});var TW=h(function(xgt,EW){var U$e=(Z(),ee(te)),Wr=U$e.h,PW=Pr(),ws=fy(),JP=pW(),zi=OW(),j$e=zi.UploadBtn,M$e=zi.RetryBtn,N$e=zi.CancelBtn,B$e=zi.PauseResumeButton,L$e=zi.DoneBtn,z$e=zi.ProgressBarProcessing,$$e=zi.ProgressBarError,H$e=zi.ProgressBarUploading,V$e=zi.ProgressBarComplete,qW=ws.STATE_ERROR,RW=ws.STATE_WAITING,QP=ws.STATE_PREPROCESSING,py=ws.STATE_UPLOADING,ZP=ws.STATE_POSTPROCESSING,dy=ws.STATE_COMPLETE;EW.exports=W$e;function W$e(t){var e=t.newFiles,r=t.allowNewUpload,n=t.isUploadInProgress,i=t.isAllPaused,a=t.resumableUploads,o=t.error,u=t.hideUploadButton,s=t.hidePauseResumeButton,l=t.hideCancelButton,c=t.hideRetryButton,f=t.recoveredState,p=t.uploadState,d=t.totalProgress,v=t.files,g=t.supportsUploadProgress,m=t.hideAfterFinish,_=t.isSomeGhost,O=t.isTargetDOMEl,E=t.doneButtonHandler,F=t.isUploadStarted,j=t.i18n,C=t.startUpload,Y=t.uppy,ie=t.isAllComplete,T=t.showProgressDetails,N=t.numUploads,re=t.complete,J=t.totalSize,A=t.totalETA,k=t.totalUploadedSize;function $(){switch(p){case ZP:case QP:{var Ht=JP(v);return Ht.mode==="determinate"?Ht.value*100:d}case qW:return null;case py:return g?d:null;default:return d}}function D(){switch(p){case ZP:case QP:{var Ht=JP(v),Tl=Ht.mode;return Tl==="indeterminate"}case py:return!g;default:return!1}}function U(){if(f)return!1;switch(p){case RW:return u||e===0;case dy:return m;default:return!1}}var L=$(),ne=U(),fe=L!=null?L:100,ce=!o&&e&&!n&&!i&&r&&!u,$e=!l&&p!==RW&&p!==dy,nt=a&&!s&&p===py,St=o&&!ie&&!c,Ot=E&&p===dy,kr=PW("uppy-StatusBar-progress",{"is-indeterminate":D()}),un=PW({"uppy-Root":O},"uppy-StatusBar","is-".concat(p),{"has-ghosts":_});return Wr("div",{className:un,"aria-hidden":ne},Wr("div",{className:kr,style:{width:"".concat(fe,"%")},role:"progressbar","aria-label":"".concat(fe,"%"),"aria-valuetext":"".concat(fe,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":L}),function(){switch(p){case QP:case ZP:return Wr(z$e,{progress:JP(v)});case dy:return Wr(V$e,{i18n:j});case qW:return Wr($$e,{error:o,i18n:j,numUploads:N,complete:re});case py:return Wr(H$e,{i18n:j,supportsUploadProgress:g,totalProgress:d,showProgressDetails:T,isUploadStarted:F,isAllComplete:ie,isAllPaused:i,newFiles:e,numUploads:N,complete:re,totalUploadedSize:k,totalSize:J,totalETA:A,startUpload:C});default:return null}}(),Wr("div",{className:"uppy-StatusBar-actions"},f||ce?Wr(j$e,{newFiles:e,isUploadStarted:F,recoveredState:f,i18n:j,isSomeGhost:_,startUpload:C,uploadState:p}):null,St?Wr(M$e,{i18n:j,uppy:Y}):null,nt?Wr(B$e,{isAllPaused:i,i18n:j,isAllComplete:ie,resumableUploads:a,uppy:Y}):null,$e?Wr(N$e,{i18n:j,uppy:Y}):null,Ot?Wr(L$e,{i18n:j,doneButtonHandler:E}):null))}});var IW=h(function(Fgt,AW){AW.exports={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}}});var rq=h(function(Cgt,UW){function hy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hy=function(r){return typeof r}:hy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hy(t)}function kW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kW(Object(r),!0).forEach(function(n){G$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G$e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Y$e(t,e,r){return e&&FW(t.prototype,e),r&&FW(t,r),t}function X$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eq(t,e)}function eq(t,e){return eq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},eq(t,e)}function J$e(t){var e=Z$e();return function(){var n=vy(t),i;if(e){var a=vy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Q$e(this,i)}}function Q$e(t,e){if(e&&(hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tq(t)}function tq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(t)}var CW,DW,eHe=ot(),tHe=eHe.UIPlugin,rHe=oW(),nHe=sW(),iHe=YP(),Kn=fy(),aHe=TW(),oHe=IW();UW.exports=(DW=CW=function(t){X$e(r,t);var e=J$e(r);function r(n,i){var a;K$e(this,r),a=e.call(this,n,i),a.startUpload=function(){var u=a.uppy.getState(),s=u.recoveredState;if(s){a.uppy.emit("restore-confirmed");return}return a.uppy.upload().catch(function(){})},a.id=a.opts.id||"StatusBar",a.title="StatusBar",a.type="progressindicator",a.defaultLocale=oHe;var o={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};return a.opts=xW(xW({},o),i),a.i18nInit(),a.render=a.render.bind(tq(a)),a.install=a.install.bind(tq(a)),a}return Y$e(r,[{key:"render",value:function(i){var a=i.capabilities,o=i.files,u=i.allowNewUpload,s=i.totalProgress,l=i.error,c=i.recoveredState,f=this.uppy.getObjectOfFilesPerState(),p=f.newFiles,d=f.startedFiles,v=f.completeFiles,g=f.inProgressNotPausedFiles,m=f.isUploadStarted,_=f.isAllComplete,O=f.isAllErrored,E=f.isAllPaused,F=f.isUploadInProgress,j=f.isSomeGhost,C=c?Object.values(o):p,Y=sHe(g),ie=!!a.resumableUploads,T=a.uploadProgress!==!1,N=0,re=0;return d.forEach(function(J){N+=J.progress.bytesTotal||0,re+=J.progress.bytesUploaded||0}),aHe({error:l,uploadState:lHe(l,_,c,i.files||{}),allowNewUpload:u,totalProgress:s,totalSize:N,totalUploadedSize:re,isAllComplete:!1,isAllPaused:E,isAllErrored:O,isUploadStarted:m,isUploadInProgress:F,isSomeGhost:j,recoveredState:c,complete:v.length,newFiles:C.length,numUploads:d.length,totalETA:Y,files:o,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:ie,supportsUploadProgress:T,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var i=this.el,a=iHe(i);a||(i.dir="ltr")}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(tHe),CW.VERSION="2.1.2",DW);function uHe(t){var e=0;return t.forEach(function(r){e+=rHe(r.progress)}),e}function sHe(t){var e=uHe(t);if(e===0)return 0;var r=t.reduce(function(n,i){return n+nHe(i.progress)},0);return Math.round(r/e*10)/10}function lHe(t,e,r,n){if(t&&!e)return Kn.STATE_ERROR;if(e)return Kn.STATE_COMPLETE;if(r)return Kn.STATE_WAITING;for(var i=Kn.STATE_WAITING,a=Object.keys(n),o=0;o<a.length;o++){var u=n[a[o]].progress;if(u.uploadStarted&&!u.uploadComplete)return Kn.STATE_UPLOADING;u.preprocess&&i!==Kn.STATE_UPLOADING&&(i=Kn.STATE_PREPROCESSING),u.postprocess&&i!==Kn.STATE_UPLOADING&&i!==Kn.STATE_PREPROCESSING&&(i=Kn.STATE_POSTPROCESSING)}return i}});var BW=h(function(Dgt,NW){function yy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yy=function(r){return typeof r}:yy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yy(t)}function cHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fHe(t,e,r){return e&&jW(t.prototype,e),r&&jW(t,r),t}function pHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nq(t,e)}function nq(t,e){return nq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},nq(t,e)}function dHe(t){var e=yHe();return function(){var n=gy(t),i;if(e){var a=gy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return hHe(this,i)}}function hHe(t,e){if(e&&(yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vHe(t)}function vHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function gy(t){return gy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(t)}var iq=(Z(),ee(te)),gHe=iq.h,mHe=iq.Component,bHe=iq.createRef,MW=300;NW.exports=function(t){pHe(r,t);var e=dHe(r);function r(){var n;return cHe(this,r),n=e.apply(this,arguments),n.ref=bHe(),n}return fHe(r,[{key:"componentWillEnter",value:function(i){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(i,MW)}},{key:"componentWillLeave",value:function(i){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(i,MW)}},{key:"render",value:function(){var i=this.props.children;return gHe("div",{className:"uppy-Informer-animated",ref:this.ref},i)}}]),r}(mHe)});var HW=h(function(Ugt,$W){"use strict";function my(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?my=function(r){return typeof r}:my=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},my(t)}var _He=["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"];function wHe(t,e){if(t==null)return{};var r=SHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}function SHe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function OHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function PHe(t,e,r){return e&&LW(t.prototype,e),r&&LW(t,r),t}function qHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aq(t,e)}function aq(t,e){return aq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},aq(t,e)}function RHe(t){var e=THe();return function(){var n=_y(t),i;if(e){var a=_y(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return EHe(this,i)}}function EHe(t,e){if(e&&(my(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return by(t)}function by(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function THe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _y(t){return _y=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(t)}var wy=(Z(),ee(te)),AHe=wy.Component,IHe=wy.cloneElement,kHe=wy.h,Ss=wy.toChildArray;function xHe(t,e){return Object.assign(t,e)}function FHe(t,e){var r;return(r=t==null?void 0:t.key)!=null?r:e}function CHe(t,e){var r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=function(n){t.refs[e]=n})}function zf(t){for(var e={},r=0;r<t.length;r++)if(t[r]!=null){var n=FHe(t[r],r.toString(36));e[n]=t[r]}return e}function DHe(t,e){t=t||{},e=e||{};var r=function(p){return e.hasOwnProperty(p)?e[p]:t[p]},n={},i=[];for(var a in t)e.hasOwnProperty(a)?i.length&&(n[a]=i,i=[]):i.push(a);var o={};for(var u in e){if(n.hasOwnProperty(u))for(var s=0;s<n[u].length;s++){var l=n[u][s];o[n[u][s]]=r(l)}o[u]=r(u)}for(var c=0;c<i.length;c++)o[i[c]]=r(i[c]);return o}var UHe=function(e){return e},zW=function(t){qHe(r,t);var e=RHe(r);function r(n,i){var a;return OHe(this,r),a=e.call(this,n,i),a.refs={},a.state={children:zf(Ss(Ss(a.props.children))||[])},a.performAppear=a.performAppear.bind(by(a)),a.performEnter=a.performEnter.bind(by(a)),a.performLeave=a.performLeave.bind(by(a)),a}return PHe(r,[{key:"componentWillMount",value:function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}},{key:"componentDidMount",value:function(){var i=this.state.children;for(var a in i)i[a]&&this.performAppear(a)}},{key:"componentWillReceiveProps",value:function(i){var a=zf(Ss(i.children)||[]),o=this.state.children;this.setState(function(c){return{children:DHe(c.children,a)}});var u;for(u in a)if(a.hasOwnProperty(u)){var s=o&&o.hasOwnProperty(u);a[u]&&s&&this.currentlyTransitioningKeys[u]?(this.keysToEnter.push(u),this.keysToAbortLeave.push(u)):a[u]&&!s&&!this.currentlyTransitioningKeys[u]&&this.keysToEnter.push(u)}for(u in o)if(o.hasOwnProperty(u)){var l=a&&a.hasOwnProperty(u);o[u]&&!l&&!this.currentlyTransitioningKeys[u]&&this.keysToLeave.push(u)}}},{key:"componentDidUpdate",value:function(){var i=this.keysToEnter;this.keysToEnter=[],i.forEach(this.performEnter);var a=this.keysToLeave;this.keysToLeave=[],a.forEach(this.performLeave)}},{key:"_finishAbort",value:function(i){var a=this.keysToAbortLeave.indexOf(i);a!==-1&&this.keysToAbortLeave.splice(a,1)}},{key:"performAppear",value:function(i){this.currentlyTransitioningKeys[i]=!0;var a=this.refs[i];a.componentWillAppear?a.componentWillAppear(this._handleDoneAppearing.bind(this,i)):this._handleDoneAppearing(i)}},{key:"_handleDoneAppearing",value:function(i){var a=this.refs[i];a.componentDidAppear&&a.componentDidAppear(),delete this.currentlyTransitioningKeys[i],this._finishAbort(i);var o=zf(Ss(this.props.children)||[]);(!o||!o.hasOwnProperty(i))&&this.performLeave(i)}},{key:"performEnter",value:function(i){this.currentlyTransitioningKeys[i]=!0;var a=this.refs[i];a.componentWillEnter?a.componentWillEnter(this._handleDoneEntering.bind(this,i)):this._handleDoneEntering(i)}},{key:"_handleDoneEntering",value:function(i){var a=this.refs[i];a.componentDidEnter&&a.componentDidEnter(),delete this.currentlyTransitioningKeys[i],this._finishAbort(i);var o=zf(Ss(this.props.children)||[]);(!o||!o.hasOwnProperty(i))&&this.performLeave(i)}},{key:"performLeave",value:function(i){var a=this.keysToAbortLeave.indexOf(i);if(a===-1){this.currentlyTransitioningKeys[i]=!0;var o=this.refs[i];o.componentWillLeave?o.componentWillLeave(this._handleDoneLeaving.bind(this,i)):this._handleDoneLeaving(i)}}},{key:"_handleDoneLeaving",value:function(i){var a=this.keysToAbortLeave.indexOf(i);if(a===-1){var o=this.refs[i];o.componentDidLeave&&o.componentDidLeave(),delete this.currentlyTransitioningKeys[i];var u=zf(Ss(this.props.children)||[]);if(u&&u.hasOwnProperty(i))this.performEnter(i);else{var s=xHe({},this.state.children);delete s[i],this.setState({children:s})}}}},{key:"render",value:function(i,a){var o=i.childFactory,u=i.transitionLeave,s=i.transitionName,l=i.transitionAppear,c=i.transitionEnter,f=i.transitionLeaveTimeout,p=i.transitionEnterTimeout,d=i.transitionAppearTimeout,v=i.component,g=wHe(i,_He),m=a.children,_=[];for(var O in m)if(m.hasOwnProperty(O)){var E=m[O];if(E){var F=CHe(this,O),j=IHe(o(E),{ref:F,key:O});_.push(j)}}return kHe(v,g,_)}}]),r}(AHe);zW.defaultProps={component:"span",childFactory:UHe};$W.exports=zW});var uq=h(function(jgt,XW){function Sy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sy=function(r){return typeof r}:Sy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sy(t)}function VW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VW(Object(r),!0).forEach(function(n){jHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jHe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NHe(t,e,r){return e&&GW(t.prototype,e),r&&GW(t,r),t}function BHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oq(t,e)}function oq(t,e){return oq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},oq(t,e)}function LHe(t){var e=HHe();return function(){var n=Oy(t),i;if(e){var a=Oy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return zHe(this,i)}}function zHe(t,e){if(e&&(Sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $He(t)}function $He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Oy(t){return Oy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(t)}var KW,YW,VHe=(Z(),ee(te)),$f=VHe.h,WHe=ot(),GHe=WHe.UIPlugin,KHe=BW(),YHe=HW();XW.exports=(YW=KW=function(t){BHe(r,t);var e=LHe(r);function r(n,i){var a;MHe(this,r),a=e.call(this,n,i),a.render=function(u){return $f("div",{className:"uppy uppy-Informer"},$f(YHe,null,u.info.map(function(s){return $f(KHe,{key:s.message},$f("p",{role:"alert"},s.message," ",s.details&&$f("span",{"aria-label":s.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function(){return alert("".concat(s.message," \n\n ").concat(s.details))}},"?")))})))},a.type="progressindicator",a.id=a.opts.id||"Informer",a.title="Informer";var o={};return a.opts=WW(WW({},o),i),a}return NHe(r,[{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}}]),r}(GHe),KW.VERSION="2.0.5",YW)});var QW=h(function(Mgt,JW){var XHe=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;JW.exports=function(e,r,n){var i,a,o=XHe.exec(e),u=(i=(a=r.mimeType)!=null?a:o==null?void 0:o[1])!=null?i:"plain/text",s;if(o[2]!=null){for(var l=atob(decodeURIComponent(o[3])),c=new Uint8Array(l.length),f=0;f<l.length;f++)c[f]=l.charCodeAt(f);s=[c]}else s=[decodeURIComponent(o[3])];return n?new File(s,r.name||"",{type:u}):new Blob(s,{type:u})}});var eG=h(function(Ngt,ZW){ZW.exports=function(e){return e.startsWith("blob:")}});var kG=h(function(qq){"use strict";function JHe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sn(t,e){return eVe(t)||ZHe(t,e)||sq(t,e)||QHe()}function QHe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ZHe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function eVe(t){if(Array.isArray(t))return t}function Ae(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=sq(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function Ia(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(r){return typeof r}:Ia=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ia(t)}function Py(t){return nVe(t)||rVe(t)||sq(t)||tVe()}function tVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sq(t,e){if(!!t){if(typeof t=="string")return lq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lq(t,e)}}function rVe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nVe(t){if(Array.isArray(t))return lq(t)}function lq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tG(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function ut(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){tG(a,n,i,o,u,"next",s)}function u(s){tG(a,n,i,o,u,"throw",s)}o(void 0)})}}function qy(){return typeof Reflect!="undefined"&&Reflect.get?qy=Reflect.get:qy=function(e,r,n){var i=iVe(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},qy.apply(this,arguments)}function iVe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=$o(t),t!==null););return t}function Os(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hf(t,e)}function Ps(t){var e=nG();return function(){var n=$o(t),i;if(e){var a=$o(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rG(this,i)}}function rG(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return On(t)}function On(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cq(t){var e=typeof Map=="function"?new Map:void 0;return cq=function(n){if(n===null||!aVe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Ry(n,arguments,$o(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Hf(i,n)},cq(t)}function Ry(t,e,r){return nG()?Ry=Reflect.construct:Ry=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&Hf(l,o.prototype),l},Ry.apply(null,arguments)}function nG(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function aVe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Hf(t,e){return Hf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Hf(t,e)}function $o(t){return $o=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},$o(t)}function Pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qn(t,e,r){return e&&iG(t.prototype,e),r&&iG(t,r),t}function Ve(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(qq,"__esModule",{value:!0});var aG=typeof self!="undefined"?self:global,ka=typeof navigator!="undefined",Ey=ka&&typeof HTMLImageElement=="undefined",oG=!(typeof global=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),oVe=!!aG.Buffer,uVe=function(e){return e!==void 0};function uG(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(uVe).length===0)}function At(t){var e=new Error(t);throw delete e.stack,e}function sG(t){var e=function(r){var n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}var fq=function(e){return String.fromCharCode.apply(null,e)},lG=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0,Ty=function(){function t(e){Pn(this,t);var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);var a=new DataView(e,r,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof t){n===void 0&&(n=e.byteLength-r),r+=e.byteOffset,r+n>e.byteOffset+e.byteLength&&At("Creating view outside of available memory in ArrayBuffer");var o=new DataView(e.buffer,r,n);this._swapDataView(o)}else if(typeof e=="number"){var u=new DataView(new ArrayBuffer(e));this._swapDataView(u)}else At("Invalid input argument for BufferView: "+e)}return qn(t,[{key:"_swapArrayBuffer",value:function(r){this._swapDataView(new DataView(r))}},{key:"_swapBuffer",value:function(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))}},{key:"_swapDataView",value:function(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength}},{key:"_lengthToEnd",value:function(r){return this.byteLength-r}},{key:"set",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;return r instanceof DataView||r instanceof t?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||At("BufferView.set(): Invalid data argument."),this.toUint8().set(r,n),new i(this,n,r.byteLength)}},{key:"subarray",value:function(r,n){return n=n||this._lengthToEnd(r),new t(this,r,n)}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(r,n){return new Uint8Array(this.buffer,this.byteOffset+r,n)}},{key:"getString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=this.getUint8Array(r,n);return a=i,lG?lG.decode(a):oVe?Buffer.from(a).toString("utf8"):decodeURIComponent(escape(fq(a)));var a}},{key:"getLatin1String",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=this.getUint8Array(r,n);return fq(i)}},{key:"getUnicodeString",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=[],a=0;a<n&&r+a<this.byteLength;a+=2)i.push(this.getUint16(r+a));return fq(i)}},{key:"getInt8",value:function(r){return this.dataView.getInt8(r)}},{key:"getUint8",value:function(r){return this.dataView.getUint8(r)}},{key:"getInt16",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt16(r,n)}},{key:"getInt32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt32(r,n)}},{key:"getUint16",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint16(r,n)}},{key:"getUint32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint32(r,n)}},{key:"getFloat32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)}},{key:"getFloat64",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)}},{key:"getFloat",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)}},{key:"getDouble",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)}},{key:"getUintBytes",value:function(r,n,i){switch(n){case 1:return this.getUint8(r,i);case 2:return this.getUint16(r,i);case 4:return this.getUint32(r,i);case 8:return this.getUint64&&this.getUint64(r,i)}}},{key:"getUint",value:function(r,n,i){switch(n){case 8:return this.getUint8(r,i);case 16:return this.getUint16(r,i);case 32:return this.getUint32(r,i);case 64:return this.getUint64&&this.getUint64(r,i)}}},{key:"toString",value:function(r){return this.dataView.toString(r,this.constructor.name)}},{key:"ensureChunk",value:function(){}}],[{key:"from",value:function(r,n){return r instanceof this&&r.le===n?r:new t(r,void 0,void 0,n)}}]),t}();function pq(t,e){At("".concat(t," '").concat(e,"' was not loaded, try using full build of exifr."))}var dq=function(t){Os(r,t);var e=Ps(r);function r(n){var i;return Pn(this,r),i=e.call(this),i.kind=n,i}return qn(r,[{key:"get",value:function(i,a){return this.has(i)||pq(this.kind,i),a&&(i in a||function(o,u){At("Unknown ".concat(o," '").concat(u,"'."))}(this.kind,i),a[i].enabled||pq(this.kind,i)),qy($o(r.prototype),"get",this).call(this,i)}},{key:"keyList",value:function(){return Array.from(this.keys())}}]),r}(cq(Map)),cG=new dq("file parser"),Rn=new dq("segment parser"),fG=new dq("file reader"),sVe=aG.fetch;function pG(t,e){return(r=t).startsWith("data:")||r.length>1e4?yq(t,e,"base64"):oG&&t.includes("://")?hq(t,e,"url",dG):oG?yq(t,e,"fs"):ka?hq(t,e,"url",dG):void At("Invalid input argument");var r}function hq(t,e,r,n){return vq.apply(this,arguments)}function vq(){return vq=ut(regeneratorRuntime.mark(function t(e,r,n,i){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",fG.has(n)?yq(e,r,n):i?function(){var u=ut(regeneratorRuntime.mark(function s(l,c){var f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,c(l);case 2:return f=d.sent,d.abrupt("return",new Ty(f));case 4:case"end":return d.stop()}},s)}));return function(s,l){return u.apply(this,arguments)}}()(e,i):void At("Parser ".concat(n," is not loaded")));case 1:case"end":return o.stop()}},t)})),vq.apply(this,arguments)}function yq(t,e,r){return gq.apply(this,arguments)}function gq(){return gq=ut(regeneratorRuntime.mark(function t(e,r,n){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=new(fG.get(n))(e,r),o.next=3,i.read();case 3:return o.abrupt("return",i);case 4:case"end":return o.stop()}},t)})),gq.apply(this,arguments)}var dG=function(e){return sVe(e).then(function(r){return r.arrayBuffer()})},lVe=function(e){return new Promise(function(r,n){var i=new FileReader;i.onloadend=function(){return r(i.result||new ArrayBuffer)},i.onerror=n,i.readAsArrayBuffer(e)})},mq=new Map,cVe=new Map,fVe=new Map,Ay=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],hG=["jfif","xmp","icc","iptc","ihdr"],bq=["tiff"].concat(hG),It=["ifd0","ifd1","exif","gps","interop"],Iy=[].concat(Py(bq),It),ky=["makerNote","userComment"],vG=["translateKeys","translateValues","reviveValues","multiSegment"],xy=[].concat(vG,["sanitize","mergeOutput","silentErrors"]),yG=function(){function t(){Pn(this,t)}return qn(t,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),t}(),Vf=function(t){Os(r,t);var e=Ps(r);function r(n,i,a,o){var u;if(Pn(this,r),u=e.call(this),Ve(On(u),"enabled",!1),Ve(On(u),"skip",new Set),Ve(On(u),"pick",new Set),Ve(On(u),"deps",new Set),Ve(On(u),"translateKeys",!1),Ve(On(u),"translateValues",!1),Ve(On(u),"reviveValues",!1),u.key=n,u.enabled=i,u.parse=u.enabled,u.applyInheritables(o),u.canBeFiltered=It.includes(n),u.canBeFiltered&&(u.dict=mq.get(n)),a!==void 0)if(Array.isArray(a))u.parse=u.enabled=!0,u.canBeFiltered&&a.length>0&&u.translateTagSet(a,u.pick);else if(Ia(a)=="object"){if(u.enabled=!0,u.parse=a.parse!==!1,u.canBeFiltered){var s=a.pick,l=a.skip;s&&s.length>0&&u.translateTagSet(s,u.pick),l&&l.length>0&&u.translateTagSet(l,u.skip)}u.applyInheritables(a)}else a===!0||a===!1?u.parse=u.enabled=a:At("Invalid options argument: ".concat(a));return rG(u)}return qn(r,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}},{key:"applyInheritables",value:function(i){var a,o,u=Ae(vG),s;try{for(u.s();!(s=u.n()).done;)a=s.value,o=i[a],o!==void 0&&(this[a]=o)}catch(l){u.e(l)}finally{u.f()}}},{key:"translateTagSet",value:function(i,a){if(this.dict){var o,u,s=this.dict,l=s.tagKeys,c=s.tagValues,f=Ae(i),p;try{for(f.s();!(p=f.n()).done;)o=p.value,typeof o=="string"?(u=c.indexOf(o),u===-1&&(u=l.indexOf(Number(o))),u!==-1&&a.add(Number(l[u]))):a.add(o)}catch(m){f.e(m)}finally{f.f()}}else{var d=Ae(i),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;a.add(g)}}catch(m){d.e(m)}finally{d.f()}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Fy(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Fy(this.pick,this.deps)}}]),r}(yG),rr={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},gG=new Map,_q=function(t){Os(r,t);var e=Ps(r);function r(n){var i;return Pn(this,r),i=e.call(this),n===!0?i.setupFromTrue():n===void 0?i.setupFromUndefined():Array.isArray(n)?i.setupFromArray(n):Ia(n)=="object"?i.setupFromObject(n):At("Invalid options argument ".concat(n)),i.firstChunkSize===void 0&&(i.firstChunkSize=ka?i.firstChunkSizeBrowser:i.firstChunkSizeNode),i.mergeOutput&&(i.ifd1.enabled=!1),i.filterNestedSegmentTags(),i.traverseTiffDependencyTree(),i.checkLoadedPlugins(),i}return qn(r,[{key:"setupFromUndefined",value:function(){var i,a=Ae(Ay),o;try{for(a.s();!(o=a.n()).done;)i=o.value,this[i]=rr[i]}catch(d){a.e(d)}finally{a.f()}var u=Ae(xy),s;try{for(u.s();!(s=u.n()).done;)i=s.value,this[i]=rr[i]}catch(d){u.e(d)}finally{u.f()}var l=Ae(ky),c;try{for(l.s();!(c=l.n()).done;)i=c.value,this[i]=rr[i]}catch(d){l.e(d)}finally{l.f()}var f=Ae(Iy),p;try{for(f.s();!(p=f.n()).done;)i=p.value,this[i]=new Vf(i,rr[i],void 0,this)}catch(d){f.e(d)}finally{f.f()}}},{key:"setupFromTrue",value:function(){var i,a=Ae(Ay),o;try{for(a.s();!(o=a.n()).done;)i=o.value,this[i]=rr[i]}catch(d){a.e(d)}finally{a.f()}var u=Ae(xy),s;try{for(u.s();!(s=u.n()).done;)i=s.value,this[i]=rr[i]}catch(d){u.e(d)}finally{u.f()}var l=Ae(ky),c;try{for(l.s();!(c=l.n()).done;)i=c.value,this[i]=!0}catch(d){l.e(d)}finally{l.f()}var f=Ae(Iy),p;try{for(f.s();!(p=f.n()).done;)i=p.value,this[i]=new Vf(i,!0,void 0,this)}catch(d){f.e(d)}finally{f.f()}}},{key:"setupFromArray",value:function(i){var a,o=Ae(Ay),u;try{for(o.s();!(u=o.n()).done;)a=u.value,this[a]=rr[a]}catch(v){o.e(v)}finally{o.f()}var s=Ae(xy),l;try{for(s.s();!(l=s.n()).done;)a=l.value,this[a]=rr[a]}catch(v){s.e(v)}finally{s.f()}var c=Ae(ky),f;try{for(c.s();!(f=c.n()).done;)a=f.value,this[a]=rr[a]}catch(v){c.e(v)}finally{c.f()}var p=Ae(Iy),d;try{for(p.s();!(d=p.n()).done;)a=d.value,this[a]=new Vf(a,!1,void 0,this)}catch(v){p.e(v)}finally{p.f()}this.setupGlobalFilters(i,void 0,It)}},{key:"setupFromObject",value:function(i){var a,o=Ae((It.ifd0=It.ifd0||It.image,It.ifd1=It.ifd1||It.thumbnail,Object.assign(this,i),Ay)),u;try{for(o.s();!(u=o.n()).done;)a=u.value,this[a]=wq(i[a],rr[a])}catch(m){o.e(m)}finally{o.f()}var s=Ae(xy),l;try{for(s.s();!(l=s.n()).done;)a=l.value,this[a]=wq(i[a],rr[a])}catch(m){s.e(m)}finally{s.f()}var c=Ae(ky),f;try{for(c.s();!(f=c.n()).done;)a=f.value,this[a]=wq(i[a],rr[a])}catch(m){c.e(m)}finally{c.f()}var p=Ae(bq),d;try{for(p.s();!(d=p.n()).done;)a=d.value,this[a]=new Vf(a,rr[a],i[a],this)}catch(m){p.e(m)}finally{p.f()}var v=Ae(It),g;try{for(v.s();!(g=v.n()).done;)a=g.value,this[a]=new Vf(a,rr[a],i[a],this.tiff)}catch(m){v.e(m)}finally{v.f()}this.setupGlobalFilters(i.pick,i.skip,It,Iy),i.tiff===!0?this.batchEnableWithBool(It,!0):i.tiff===!1?this.batchEnableWithUserValue(It,i):Array.isArray(i.tiff)?this.setupGlobalFilters(i.tiff,void 0,It):Ia(i.tiff)=="object"&&this.setupGlobalFilters(i.tiff.pick,i.tiff.skip,It)}},{key:"batchEnableWithBool",value:function(i,a){var o=Ae(i),u;try{for(o.s();!(u=o.n()).done;){var s=u.value;this[s].enabled=a}}catch(l){o.e(l)}finally{o.f()}}},{key:"batchEnableWithUserValue",value:function(i,a){var o=Ae(i),u;try{for(o.s();!(u=o.n()).done;){var s=u.value,l=a[s];this[s].enabled=l!==!1&&l!==void 0}}catch(c){o.e(c)}finally{o.f()}}},{key:"setupGlobalFilters",value:function(i,a,o){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;if(i&&i.length){var s=Ae(u),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;this[c].enabled=!1}}catch(Y){s.e(Y)}finally{s.f()}var f=mG(i,o),p=Ae(f),d;try{for(p.s();!(d=p.n()).done;){var v=Sn(d.value,2),g=v[0],m=v[1];Fy(this[g].pick,m),this[g].enabled=!0}}catch(Y){p.e(Y)}finally{p.f()}}else if(a&&a.length){var _=mG(a,o),O=Ae(_),E;try{for(O.s();!(E=O.n()).done;){var F=Sn(E.value,2),j=F[0],C=F[1];Fy(this[j].skip,C)}}catch(Y){O.e(Y)}finally{O.f()}}}},{key:"filterNestedSegmentTags",value:function(){var i=this.ifd0,a=this.exif,o=this.xmp,u=this.iptc,s=this.icc;this.makerNote?a.deps.add(37500):a.skip.add(37500),this.userComment?a.deps.add(37510):a.skip.add(37510),o.enabled||i.skip.add(700),u.enabled||i.skip.add(33723),s.enabled||i.skip.add(34675)}},{key:"traverseTiffDependencyTree",value:function(){var i=this,a=this.ifd0,o=this.exif,u=this.gps,s=this.interop;s.needed&&(o.deps.add(40965),a.deps.add(40965)),o.needed&&a.deps.add(34665),u.needed&&a.deps.add(34853),this.tiff.enabled=It.some(function(p){return i[p].enabled===!0})||this.makerNote||this.userComment;var l=Ae(It),c;try{for(l.s();!(c=l.n()).done;){var f=c.value;this[f].finalizeFilters()}}catch(p){l.e(p)}finally{l.f()}}},{key:"onlyTiff",get:function(){var i=this;return!hG.map(function(a){return i[a].enabled}).some(function(a){return a===!0})&&this.tiff.enabled}},{key:"checkLoadedPlugins",value:function(){var i=Ae(bq),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;this[o].enabled&&!Rn.has(o)&&pq("segment parser",o)}}catch(u){i.e(u)}finally{i.f()}}}],[{key:"useCached",value:function(i){var a=gG.get(i);return a!==void 0||(a=new this(i),gG.set(i,a)),a}}]),r}(yG);function mG(t,e){var r,n,i,a,o=[],u=Ae(e),s;try{for(u.s();!(s=u.n()).done;){i=s.value;var l=Ae((r=mq.get(i),n=[],r)),c;try{for(l.s();!(c=l.n()).done;)a=c.value,(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0])}catch(f){l.e(f)}finally{l.f()}n.length&&o.push([i,n])}}catch(f){u.e(f)}finally{u.f()}return o}function wq(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Fy(t,e){var r=Ae(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;t.add(i)}}catch(a){r.e(a)}finally{r.f()}}Ve(_q,"default",rr);var pVe=function(){function t(e){var r=this;Pn(this,t),Ve(this,"parsers",{}),Ve(this,"output",{}),Ve(this,"errors",[]),Ve(this,"pushToErrors",function(n){return r.errors.push(n)}),this.options=_q.useCached(e)}return qn(t,[{key:"read",value:function(){var e=ut(regeneratorRuntime.mark(function n(i){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,function(u,s){return typeof u=="string"?pG(u,s):ka&&!Ey&&u instanceof HTMLImageElement?pG(u.src,s):u instanceof Uint8Array||u instanceof ArrayBuffer||u instanceof DataView?new Ty(u):ka&&u instanceof Blob?hq(u,s,"blob",lVe):void At("Invalid input argument")}(i,this.options);case 2:this.file=o.sent;case 3:case"end":return o.stop()}},n,this)}));function r(n){return e.apply(this,arguments)}return r}()},{key:"setup",value:function(){if(!this.fileParser){var r=this.file,n=r.getUint16(0),i=Ae(cG),a;try{for(i.s();!(a=i.n()).done;){var o=Sn(a.value,2),u=o[0],s=o[1];if(s.canHandle(r,n))return this.fileParser=new s(this.options,this.file,this.parsers),r[u]=!0}}catch(l){i.e(l)}finally{i.f()}this.file.close&&this.file.close(),At("Unknown file format")}}},{key:"parse",value:function(){var e=ut(regeneratorRuntime.mark(function n(){var i,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=this.output,a=this.errors,this.setup(),!this.options.silentErrors){s.next=8;break}return s.next=5,this.executeParsers().catch(this.pushToErrors);case 5:a.push.apply(a,Py(this.fileParser.errors)),s.next=10;break;case 8:return s.next=10,this.executeParsers();case 10:return this.file.close&&this.file.close(),this.options.silentErrors&&a.length>0&&(i.errors=a),s.abrupt("return",uG(o=i)?void 0:o);case 13:case"end":return s.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"executeParsers",value:function(){var e=ut(regeneratorRuntime.mark(function n(){var i=this,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=this.output,s.next=3,this.fileParser.parse();case 3:return o=Object.values(this.parsers).map(function(){var l=ut(regeneratorRuntime.mark(function c(f){var p;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,f.parse();case 2:p=v.sent,f.assignToOutput(a,p);case 4:case"end":return v.stop()}},c)}));return function(c){return l.apply(this,arguments)}}()),this.options.silentErrors&&(o=o.map(function(l){return l.catch(i.pushToErrors)})),s.next=7,Promise.all(o);case 7:case"end":return s.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"extractThumbnail",value:function(){var e=ut(regeneratorRuntime.mark(function n(){var i,a,o,u,s,l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.setup(),i=this.options,a=this.file,o=Rn.get("tiff",i),!a.tiff){p.next=6;break}u={start:0,type:"tiff"},p.next=11;break;case 6:if(p.t0=a.jpeg,!p.t0){p.next=11;break}return p.next=10,this.fileParser.getOrFindSegment("tiff");case 10:u=p.sent;case 11:if(u!==void 0){p.next=13;break}return p.abrupt("return");case 13:return p.next=15,this.fileParser.ensureSegmentChunk(u);case 15:return s=p.sent,l=this.parsers.tiff=new o(s,i,a),p.next=19,l.extractThumbnail();case 19:return c=p.sent,p.abrupt("return",(a.close&&a.close(),c));case 21:case"end":return p.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()}]),t}(),qs=function(){function t(e){var r=this;Pn(this,t);var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;Ve(this,"errors",[]),Ve(this,"raw",new Map),Ve(this,"handleError",function(a){if(!r.options.silentErrors)throw a;r.errors.push(a.message)}),this.chunk=this.normalizeInput(e),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return qn(t,[{key:"normalizeInput",value:function(r){return r instanceof Ty?r:new Ty(r)}},{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"output",get:function(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}},{key:"translateBlock",value:function(r,n){var i=fVe.get(n),a=cVe.get(n),o=mq.get(n),u=this.options[n],s=u.reviveValues&&!!i,l=u.translateValues&&!!a,c=u.translateKeys&&!!o,f={},p=Ae(r),d;try{for(p.s();!(d=p.n()).done;){var v=Sn(d.value,2),g=v[0],m=v[1];s&&i.has(g)?m=i.get(g)(m):l&&a.has(g)&&(m=this.translateValue(m,a.get(g))),c&&o.has(g)&&(g=o.get(g)||g),f[g]=m}}catch(_){p.e(_)}finally{p.f()}return f}},{key:"translateValue",value:function(r,n){return n[r]||n.DEFAULT||r}},{key:"assignToOutput",value:function(r,n){this.assignObjectToOutput(r,this.constructor.type,n)}},{key:"assignObjectToOutput",value:function(r,n,i){if(this.globalOptions.mergeOutput)return Object.assign(r,i);r[n]?Object.assign(r[n],i):r[n]=i}}],[{key:"findPosition",value:function(r,n){var i=r.getUint16(n+2)+2,a=typeof this.headerLength=="function"?this.headerLength(r,n,i):this.headerLength,o=n+a,u=i-a;return{offset:n,length:i,headerLength:a,start:o,size:u,end:o+u}}},{key:"parse",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new this(r,new _q(JHe({},this.type,n)),r).parse()}}]),t}();Ve(qs,"headerLength",4),Ve(qs,"type",void 0),Ve(qs,"multiSegment",!1),Ve(qs,"canHandle",function(){return!1});function dVe(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function hVe(t){return t>=224&&t<=239}function vVe(t,e,r){var n=Ae(Rn),i;try{for(n.s();!(i=n.n()).done;){var a=Sn(i.value,2),o=a[0],u=a[1];if(u.canHandle(t,e,r))return o}}catch(s){n.e(s)}finally{n.f()}}var bG=function(t){Os(r,t);var e=Ps(r);function r(){var n;return Pn(this,r),n=e.apply(this,arguments),Ve(On(n),"appSegments",[]),Ve(On(n),"jpegSegments",[]),Ve(On(n),"unknownSegments",[]),n}return qn(r,[{key:"parse",value:function(){var n=ut(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.findAppSegments();case 2:return u.next=4,this.readSegments(this.appSegments);case 4:this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments);case 6:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"setupSegmentFinderArgs",value:function(i){var a=this;i===!0?(this.findAll=!0,this.wanted=new Set(Rn.keyList())):(i=i===void 0?Rn.keyList().filter(function(o){return a.options[o].enabled}):i.filter(function(o){return a.options[o].enabled&&Rn.has(o)}),this.findAll=!1,this.remaining=new Set(i),this.wanted=new Set(i)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var n=ut(regeneratorRuntime.mark(function a(){var o=this,u,s,l,c,f,p,d,v,g,m=arguments;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(u=m.length>0&&m[0]!==void 0?m[0]:0,s=m.length>1?m[1]:void 0,this.setupSegmentFinderArgs(s),l=this.file,c=this.findAll,f=this.wanted,p=this.remaining,O.t0=!c&&this.file.chunked,!O.t0){O.next=10;break}if(c=Array.from(f).some(function(E){var F=Rn.get(E),j=o.options[E];return F.multiSegment&&j.multiSegment}),O.t1=c,!O.t1){O.next=10;break}return O.next=10,this.file.readWhole();case 10:if(u=this.findAppSegmentsInRange(u,l.byteLength),!(!this.options.onlyTiff&&l.chunked)){O.next=30;break}d=!1;case 13:if(!(p.size>0&&!d&&(l.canReadNextChunk||this.unfinishedMultiSegment))){O.next=30;break}if(v=l.nextChunkOffset,g=this.appSegments.some(function(E){return!o.file.available(E.offset||E.start,E.length||E.size)}),!(u>v&&!g)){O.next=21;break}return O.next=18,l.readNextChunk(u);case 18:O.t2=!O.sent,O.next=24;break;case 21:return O.next=23,l.readNextChunk(v);case 23:O.t2=!O.sent;case 24:if(d=O.t2,u=this.findAppSegmentsInRange(u,l.byteLength),u!==void 0){O.next=28;break}return O.abrupt("return");case 28:O.next=13;break;case 30:case"end":return O.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"findAppSegmentsInRange",value:function(i,a){a-=2;for(var o,u,s,l,c,f,p=this.file,d=this.findAll,v=this.wanted,g=this.remaining,m=this.options;i<a;i++)if(p.getUint8(i)===255){if(o=p.getUint8(i+1),hVe(o)){if(u=p.getUint16(i+2),s=vVe(p,i,u),s&&v.has(s)&&(l=Rn.get(s),c=l.findPosition(p,i),f=m[s],c.type=s,this.appSegments.push(c),!d&&(l.multiSegment&&f.multiSegment?(this.unfinishedMultiSegment=c.chunkNumber<c.chunkCount,this.unfinishedMultiSegment||g.delete(s)):g.delete(s),g.size===0)))break;m.recordUnknownSegments&&(c=qs.findPosition(p,i),c.marker=o,this.unknownSegments.push(c)),i+=u+1}else if(dVe(o)){if(u=p.getUint16(i+2),o===218&&m.stopAfterSos!==!1)return;m.recordJpegSegments&&this.jpegSegments.push({offset:i,length:u,marker:o}),i+=u+1}}return i}},{key:"mergeMultiSegments",value:function(){var i=this;if(!!this.appSegments.some(function(o){return o.multiSegment})){var a=function(o,u){for(var s,l,c,f=new Map,p=0;p<o.length;p++)s=o[p],l=s[u],f.has(l)?c=f.get(l):f.set(l,c=[]),c.push(s);return Array.from(f)}(this.appSegments,"type");this.mergedAppSegments=a.map(function(o){var u=Sn(o,2),s=u[0],l=u[1],c=Rn.get(s,i.options);return c.handleMultiSegments?{type:s,chunk:c.handleMultiSegments(l)}:l[0]})}}},{key:"getSegment",value:function(i){return this.appSegments.find(function(a){return a.type===i})}},{key:"getOrFindSegment",value:function(){var n=ut(regeneratorRuntime.mark(function a(o){var u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(u=this.getSegment(o),l.t0=u===void 0,!l.t0){l.next=6;break}return l.next=5,this.findAppSegments(0,[o]);case 5:u=this.getSegment(o);case 6:return l.abrupt("return",u);case 7:case"end":return l.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()}],[{key:"canHandle",value:function(i,a){return a===65496}}]),r}(function(){function t(e,r,n){var i=this;Pn(this,t),Ve(this,"errors",[]),Ve(this,"ensureSegmentChunk",function(){var a=ut(regeneratorRuntime.mark(function o(u){var s,l;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(s=u.start,l=u.size||65536,!i.file.chunked){f.next=17;break}if(!i.file.available(s,l)){f.next=6;break}u.chunk=i.file.subarray(s,l),f.next=15;break;case 6:return f.prev=6,f.next=9,i.file.readChunk(s,l);case 9:u.chunk=f.sent,f.next=15;break;case 12:f.prev=12,f.t0=f.catch(6),At("Couldn't read segment: ".concat(JSON.stringify(u),". ").concat(f.t0.message));case 15:f.next=18;break;case 17:i.file.byteLength>s+l?u.chunk=i.file.subarray(s,l):u.size===void 0?u.chunk=i.file.subarray(s):At("Segment unreachable: "+JSON.stringify(u));case 18:return f.abrupt("return",u.chunk);case 19:case"end":return f.stop()}},o,null,[[6,12]])}));return function(o){return a.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}return qn(t,[{key:"injectSegment",value:function(r,n){this.options[r].enabled&&this.createParser(r,n)}},{key:"createParser",value:function(r,n){var i=new(Rn.get(r))(n,this.options,this.file);return this.parsers[r]=i}},{key:"createParsers",value:function(r){var n=Ae(r),i;try{for(n.s();!(i=n.n()).done;){var a=i.value,o=a.type,u=a.chunk,s=this.options[o];if(s&&s.enabled){var l=this.parsers[o];l&&l.append||l||this.createParser(o,u)}}}catch(c){n.e(c)}finally{n.f()}}},{key:"readSegments",value:function(){var e=ut(regeneratorRuntime.mark(function n(i){var a;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=i.map(this.ensureSegmentChunk),u.next=3,Promise.all(a);case 3:case"end":return u.stop()}},n,this)}));function r(n){return e.apply(this,arguments)}return r}()}]),t}());Ve(bG,"type","jpeg"),cG.set("jpeg",bG);var yVe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],gVe=function(t){Os(r,t);var e=Ps(r);function r(){return Pn(this,r),e.apply(this,arguments)}return qn(r,[{key:"parseHeader",value:function(){var i=this.chunk.getUint16();i===18761?this.le=!0:i===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}},{key:"parseTags",value:function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Map,u=this.options[a],s=u.pick,l=u.skip;s=new Set(s);var c=s.size>0,f=l.size===0,p=this.chunk.getUint16(i);i+=2;for(var d=0;d<p;d++){var v=this.chunk.getUint16(i);if(c){if(s.has(v)&&(o.set(v,this.parseTag(i,v,a)),s.delete(v),s.size===0))break}else!f&&l.has(v)||o.set(v,this.parseTag(i,v,a));i+=12}return o}},{key:"parseTag",value:function(i,a,o){var u=this.chunk,s=u.getUint16(i+2),l=u.getUint32(i+4),c=yVe[s];if(c*l<=4?i+=8:i=u.getUint32(i+8),(s<1||s>13)&&At("Invalid TIFF value type. block: ".concat(o.toUpperCase(),", tag: ").concat(a.toString(16),", type: ").concat(s,", offset ").concat(i)),i>u.byteLength&&At("Invalid TIFF value offset. block: ".concat(o.toUpperCase(),", tag: ").concat(a.toString(16),", type: ").concat(s,", offset ").concat(i," is outside of chunk size ").concat(u.byteLength)),s===1)return u.getUint8Array(i,l);if(s===2)return(f=function(m){for(;m.endsWith("\0");)m=m.slice(0,-1);return m}(f=u.getString(i,l)).trim())===""?void 0:f;var f;if(s===7)return u.getUint8Array(i,l);if(l===1)return this.parseTagValue(s,i);{for(var p=function(m){switch(m){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(s),d=new p(l),v=c,g=0;g<l;g++)d[g]=this.parseTagValue(s,i),i+=v;return d}}},{key:"parseTagValue",value:function(i,a){var o=this.chunk;switch(i){case 1:return o.getUint8(a);case 3:return o.getUint16(a);case 4:case 13:return o.getUint32(a);case 5:return o.getUint32(a)/o.getUint32(a+4);case 6:return o.getInt8(a);case 8:return o.getInt16(a);case 9:return o.getInt32(a);case 10:return o.getInt32(a)/o.getInt32(a+4);case 11:return o.getFloat(a);case 12:return o.getDouble(a);default:At("Invalid tiff type ".concat(i))}}}]),r}(qs),Sq=function(t){Os(r,t);var e=Ps(r);function r(){return Pn(this,r),e.apply(this,arguments)}return qn(r,[{key:"parse",value:function(){var n=ut(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.parseHeader(),o=this.options,s.t0=o.ifd0.enabled,!s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(s.t1=o.exif.enabled,!s.t1){s.next=10;break}return s.next=10,this.safeParse("parseExifBlock");case 10:if(s.t2=o.gps.enabled,!s.t2){s.next=14;break}return s.next=14,this.safeParse("parseGpsBlock");case 14:if(s.t3=o.interop.enabled,!s.t3){s.next=18;break}return s.next=18,this.safeParse("parseInteropBlock");case 18:if(s.t4=o.ifd1.enabled,!s.t4){s.next=22;break}return s.next=22,this.safeParse("parseThumbnailBlock");case 22:return s.abrupt("return",this.createOutput());case 23:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"safeParse",value:function(i){var a=this[i]();return a.catch!==void 0&&(a=a.catch(this.handleError)),a}},{key:"findIfd0Offset",value:function(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(this.ifd1Offset===void 0){this.findIfd0Offset();var i=this.chunk.getUint16(this.ifd0Offset),a=this.ifd0Offset+2+12*i;this.ifd1Offset=this.chunk.getUint32(a)}}},{key:"parseBlock",value:function(i,a){var o=new Map;return this[a]=o,this.parseTags(i,a,o),o}},{key:"parseIfd0Block",value:function(){var n=ut(regeneratorRuntime.mark(function a(){var o,u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.ifd0){l.next=2;break}return l.abrupt("return");case 2:if(o=this.file,this.findIfd0Offset(),this.ifd0Offset<8&&At("Malformed EXIF data"),!o.chunked&&this.ifd0Offset>o.byteLength&&At("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(this.ifd0Offset,", file.byteLength: ").concat(o.byteLength)),l.t0=o.tiff,!l.t0){l.next=10;break}return l.next=10,o.ensureChunk(this.ifd0Offset,sG(this.options));case 10:return u=this.parseBlock(this.ifd0Offset,"ifd0"),l.abrupt("return",u.size!==0?(this.exifOffset=u.get(34665),this.interopOffset=u.get(40965),this.gpsOffset=u.get(34853),this.xmp=u.get(700),this.iptc=u.get(33723),this.icc=u.get(34675),this.options.sanitize&&(u.delete(34665),u.delete(40965),u.delete(34853),u.delete(700),u.delete(33723),u.delete(34675)),u):void 0);case 12:case"end":return l.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"parseExifBlock",value:function(){var n=ut(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.exif){s.next=2;break}return s.abrupt("return");case 2:if(s.t0=this.ifd0,s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(this.exifOffset!==void 0){s.next=8;break}return s.abrupt("return");case 8:if(s.t1=this.file.tiff,!s.t1){s.next=12;break}return s.next=12,this.file.ensureChunk(this.exifOffset,sG(this.options));case 12:return o=this.parseBlock(this.exifOffset,"exif"),s.abrupt("return",(this.interopOffset||(this.interopOffset=o.get(40965)),this.makerNote=o.get(37500),this.userComment=o.get(37510),this.options.sanitize&&(o.delete(40965),o.delete(37500),o.delete(37510)),this.unpack(o,41728),this.unpack(o,41729),o));case 14:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"unpack",value:function(i,a){var o=i.get(a);o&&o.length===1&&i.set(a,o[0])}},{key:"parseGpsBlock",value:function(){var n=ut(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.gps){s.next=2;break}return s.abrupt("return");case 2:if(s.t0=this.ifd0,s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(this.gpsOffset!==void 0){s.next=8;break}return s.abrupt("return");case 8:return o=this.parseBlock(this.gpsOffset,"gps"),s.abrupt("return",(o&&o.has(2)&&o.has(4)&&(o.set("latitude",_G.apply(void 0,Py(o.get(2)).concat([o.get(1)]))),o.set("longitude",_G.apply(void 0,Py(o.get(4)).concat([o.get(3)])))),o));case 10:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"parseInteropBlock",value:function(){var n=ut(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.t0=!this.interop,!u.t0){u.next=11;break}if(u.t1=this.ifd0,u.t1){u.next=6;break}return u.next=6,this.parseIfd0Block();case 6:if(u.t2=this.interopOffset!==void 0||this.exif,u.t2){u.next=10;break}return u.next=10,this.parseExifBlock();case 10:u.t0=this.interopOffset!==void 0;case 11:if(!u.t0){u.next=13;break}return u.abrupt("return",this.parseBlock(this.interopOffset,"interop"));case 13:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"parseThumbnailBlock",value:function(){var n=ut(regeneratorRuntime.mark(function a(){var o,u=arguments;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=u.length>0&&u[0]!==void 0&&u[0],!(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||o))){l.next=3;break}return l.abrupt("return",(this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1));case 3:case"end":return l.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"extractThumbnail",value:function(){var n=ut(regeneratorRuntime.mark(function a(){var o,u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.headerParsed||this.parseHeader(),l.t0=this.ifd1Parsed,l.t0){l.next=5;break}return l.next=5,this.parseThumbnailBlock(!0);case 5:if(this.ifd1!==void 0){l.next=7;break}return l.abrupt("return");case 7:return o=this.ifd1.get(513),u=this.ifd1.get(514),l.abrupt("return",this.chunk.getUint8Array(o,u));case 9:case"end":return l.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}},{key:"createOutput",value:function(){var i,a,o,u={},s=Ae(It),l;try{for(s.s();!(l=s.n()).done;)if(a=l.value,i=this[a],!uG(i))if(o=this.canTranslate?this.translateBlock(i,a):Object.fromEntries(i),this.options.mergeOutput){if(a==="ifd1")continue;Object.assign(u,o)}else u[a]=o}catch(c){s.e(c)}finally{s.f()}return this.makerNote&&(u.makerNote=this.makerNote),this.userComment&&(u.userComment=this.userComment),u}},{key:"assignToOutput",value:function(i,a){if(this.globalOptions.mergeOutput)Object.assign(i,a);else for(var o=0,u=Object.entries(a);o<u.length;o++){var s=Sn(u[o],2),l=s[0],c=s[1];this.assignObjectToOutput(i,l,c)}}}],[{key:"canHandle",value:function(i,a){return i.getUint8(a+1)===225&&i.getUint32(a+4)===1165519206&&i.getUint16(a+8)===0}}]),r}(gVe);function _G(t,e,r,n){var i=t+e/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}Ve(Sq,"type","tiff"),Ve(Sq,"headerLength",10),Rn.set("tiff",Sq);var mVe=Object.assign({},{ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},{firstChunkSize:4e4,ifd0:[274]}),bVe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),Wf=!0,Gf=!0;(typeof navigator=="undefined"?"undefined":Ia(navigator))=="object"&&(Yn=navigator.userAgent,Yn.includes("iPad")||Yn.includes("iPhone")?(Oq=Yn.match(/OS (\d+)_(\d+)/),Oq&&(Pq=Sn(Oq,3),wG=Pq[1],ka=Pq[2],Ey=Number(wG)+.1*Number(ka),Wf=Ey<13.4,Gf=!1)):Yn.includes("OS X 10")&&(SG=Yn.match(/OS X 10[_.](\d+)/),OG=Sn(SG,2),PG=OG[1],Wf=Gf=Number(PG)<15),Yn.includes("Chrome/")?(qG=Yn.match(/Chrome\/(\d+)/),RG=Sn(qG,2),EG=RG[1],Wf=Gf=Number(EG)<81):Yn.includes("Firefox/")&&(TG=Yn.match(/Firefox\/(\d+)/),AG=Sn(TG,2),IG=AG[1],Wf=Gf=Number(IG)<77));var Yn,Oq,Pq,wG,ka,Ey,SG,OG,PG,qG,RG,EG,TG,AG,IG;qq.rotation=function(){var t=ut(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,function(){var o=ut(regeneratorRuntime.mark(function u(s){var l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return l=new pVe(mVe),p.next=3,l.read(s);case 3:return p.next=5,l.parse();case 5:if(c=p.sent,!(c&&c.ifd0)){p.next=8;break}return p.abrupt("return",c.ifd0[274]);case 8:case"end":return p.stop()}},u)}));return function(u){return o.apply(this,arguments)}}()(r);case 2:return n=a.sent,a.abrupt("return",Object.assign({canvas:Wf,css:Gf},bVe[n]));case 4:case"end":return a.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()});var FG=h(function(Lgt,xG){xG.exports={strings:{generatingThumbnails:"Generating thumbnails..."}}});var Eq=h(function(zgt,zG){function Cy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cy=function(r){return typeof r}:Cy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cy(t)}function _Ve(t,e){return PVe(t)||OVe(t,e)||SVe(t,e)||wVe()}function wVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function SVe(t,e){if(!!t){if(typeof t=="string")return CG(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CG(t,e)}}function CG(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OVe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function PVe(t){if(Array.isArray(t))return t}function DG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DG(Object(r),!0).forEach(function(n){qVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qVe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function EVe(t,e,r){return e&&jG(t.prototype,e),r&&jG(t,r),t}function TVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rq(t,e)}function Rq(t,e){return Rq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rq(t,e)}function AVe(t){var e=xVe();return function(){var n=Dy(t),i;if(e){var a=Dy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return IVe(this,i)}}function IVe(t,e){if(e&&(Cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kVe(t)}function kVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Dy(t){return Dy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(t)}var MG,NG,FVe=ot(),CVe=FVe.UIPlugin,DVe=QW(),BG=eG(),LG=jP(),UVe=kG(),jVe=UVe.rotation,MVe=FG();zG.exports=(NG=MG=function(t){TVe(r,t);var e=AVe(r);function r(n,i){var a;RVe(this,r),a=e.call(this,n,i),a.onFileAdded=function(u){!u.preview&&u.data&&LG(u.type)&&!u.isRemote&&a.addToQueue(u.id)},a.onCancelRequest=function(u){var s=a.queue.indexOf(u.id);s!==-1&&a.queue.splice(s,1)},a.onFileRemoved=function(u){var s=a.queue.indexOf(u.id);s!==-1&&a.queue.splice(s,1),u.preview&&BG(u.preview)&&URL.revokeObjectURL(u.preview)},a.onRestored=function(){var u=a.uppy.getFiles().filter(function(s){return s.isRestored});u.forEach(function(s){(!s.preview||BG(s.preview))&&a.addToQueue(s.id)})},a.waitUntilAllProcessed=function(u){u.forEach(function(l){var c=a.uppy.getFile(l);a.uppy.emit("preprocess-progress",c,{mode:"indeterminate",message:a.i18n("generatingThumbnails")})});var s=function(){u.forEach(function(c){var f=a.uppy.getFile(c);a.uppy.emit("preprocess-complete",f)})};return new Promise(function(l){a.queueProcessing?a.uppy.once("thumbnail:all-generated",function(){s(),l()}):(s(),l())})},a.type="modifier",a.id=a.opts.id||"ThumbnailGenerator",a.title="Thumbnail Generator",a.queue=[],a.queueProcessing=!1,a.defaultThumbnailDimension=200,a.thumbnailType=a.opts.thumbnailType||"image/jpeg",a.defaultLocale=MVe;var o={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(a.opts=UG(UG({},o),i),a.i18nInit(),a.opts.lazy&&a.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return a}return EVe(r,[{key:"createThumbnail",value:function(i,a,o){var u=this,s=URL.createObjectURL(i.data),l=new Promise(function(f,p){var d=new Image;d.src=s,d.addEventListener("load",function(){URL.revokeObjectURL(s),f(d)}),d.addEventListener("error",function(v){URL.revokeObjectURL(s),p(v.error||new Error("Could not create thumbnail"))})}),c=jVe(i.data).catch(function(){return 1});return Promise.all([l,c]).then(function(f){var p=_Ve(f,2),d=p[0],v=p[1],g=u.getProportionalDimensions(d,a,o,v.deg),m=u.rotateImage(d,v),_=u.resizeImage(m,g.width,g.height);return u.canvasToBlob(_,u.thumbnailType,80)}).then(function(f){return URL.createObjectURL(f)})}},{key:"getProportionalDimensions",value:function(i,a,o,u){var s=i.width/i.height;return(u===90||u===270)&&(s=i.height/i.width),a!=null?{width:a,height:Math.round(a/s)}:o!=null?{width:Math.round(o*s),height:o}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/s)}}},{key:"protect",value:function(i){var a=i.width/i.height,o=5e6,u=4096,s=Math.floor(Math.sqrt(o*a)),l=Math.floor(o/Math.sqrt(o*a));if(s>u&&(s=u,l=Math.round(s/a)),l>u&&(l=u,s=Math.round(a*l)),i.width>s){var c=document.createElement("canvas");c.width=s,c.height=l,c.getContext("2d").drawImage(i,0,0,s,l),i=c}return i}},{key:"resizeImage",value:function(i,a,o){i=this.protect(i);var u=Math.ceil(Math.log2(i.width/a));u<1&&(u=1);for(var s=a*Math.pow(2,u-1),l=o*Math.pow(2,u-1),c=2;u--;){var f=document.createElement("canvas");f.width=s,f.height=l,f.getContext("2d").drawImage(i,0,0,s,l),i=f,s=Math.round(s/c),l=Math.round(l/c)}return i}},{key:"rotateImage",value:function(i,a){var o=i.width,u=i.height;(a.deg===90||a.deg===270)&&(o=i.height,u=i.width);var s=document.createElement("canvas");s.width=o,s.height=u;var l=s.getContext("2d");return l.translate(o/2,u/2),a.canvas&&(l.rotate(a.rad),l.scale(a.scaleX,a.scaleY)),l.drawImage(i,-i.width/2,-i.height/2,i.width,i.height),s}},{key:"canvasToBlob",value:function(i,a,o){try{i.getContext("2d").getImageData(0,0,1,1)}catch(u){if(u.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return i.toBlob?new Promise(function(u){i.toBlob(u,a,o)}).then(function(u){if(u===null)throw new Error("cannot read image, probably an svg with external resources");return u}):Promise.resolve().then(function(){return DVe(i.toDataURL(a,o),{})}).then(function(u){if(u===null)throw new Error("could not extract blob, probably an old browser");return u})}},{key:"setPreviewURL",value:function(i,a){this.uppy.setFileState(i,{preview:a})}},{key:"addToQueue",value:function(i){this.queue.push(i),this.queueProcessing===!1&&this.processQueue()}},{key:"processQueue",value:function(){var i=this;if(this.queueProcessing=!0,this.queue.length>0){var a=this.uppy.getFile(this.queue.shift());if(!a){this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error");return}return this.requestThumbnail(a).catch(function(){}).then(function(){return i.processQueue()})}this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated")}},{key:"requestThumbnail",value:function(i){var a=this;return LG(i.type)&&!i.isRemote?this.createThumbnail(i,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(o){a.setPreviewURL(i.id,o),a.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(i.id)),a.uppy.emit("thumbnail:generated",a.uppy.getFile(i.id),o)}).catch(function(o){a.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(i.id,":"),"warning"),a.uppy.log(o,"warning"),a.uppy.emit("thumbnail:error",a.uppy.getFile(i.id),o)}):Promise.resolve()}},{key:"install",value:function(){this.uppy.on("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}},{key:"uninstall",value:function(){this.uppy.off("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}]),r}(CVe),MG.VERSION="2.0.6",NG)});var HG=h(function($gt,$G){function Uy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uy=function(r){return typeof r}:Uy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uy(t)}var NVe=gP();$G.exports=function(e){if(typeof e=="string"){var r=document.querySelectorAll(e);return r.length===0?null:Array.from(r)}return Uy(e)==="object"&&NVe(e)?[e]:null}});var En=h(function(Hgt,VG){VG.exports=Array.from});var GG=h(function(Vgt,WG){WG.exports=function(e){return!e.fullPath||e.fullPath==="/".concat(e.name)?null:e.fullPath}});var XG=h(function(Wgt,YG){function KG(t){return $Ve(t)||zVe(t)||LVe(t)||BVe()}function BVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function LVe(t,e){if(!!t){if(typeof t=="string")return Tq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tq(t,e)}}function zVe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ve(t){if(Array.isArray(t))return Tq(t)}function Tq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}YG.exports=function t(e,r,n,i){var a=i.onSuccess;e.readEntries(function(o){var u=[].concat(KG(r),KG(o));o.length?setTimeout(function(){t(e,u,n,{onSuccess:a})},0):a(u)},function(o){n(o),a(r)})}});var QG=h(function(Ggt,JG){var HVe=En(),VVe=GG(),WVe=XG();JG.exports=function(e,r){var n=[],i=[],a=function o(u){return new Promise(function(s){if(u.isFile)u.file(function(c){c.relativePath=VVe(u),n.push(c),s()},function(c){r(c),s()});else if(u.isDirectory){var l=u.createReader();WVe(l,[],r,{onSuccess:function(f){return s(Promise.all(f.map(o)))}})}})};return HVe(e.items).forEach(function(o){var u=o.webkitGetAsEntry();u&&i.push(a(u))}),Promise.all(i).then(function(){return n})}});var eK=h(function(Kgt,ZG){var GVe=En();ZG.exports=function(e){var r=GVe(e.files);return Promise.resolve(r)}});var jy=h(function(Ygt,tK){var KVe=QG(),YVe=eK();tK.exports=function(e,r){var n,i=r===void 0?{}:r,a=i.logDropError,o=a===void 0?function(){}:a;return(n=e.items)!=null&&n[0]&&"webkitGetAsEntry"in e.items[0]?KVe(e,o):YVe(e)}});var My=h(function(Xgt,rK){rK.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])']});var Aq=h(function(Jgt,nK){nK.exports=function(e,r){if(r){var n=e.querySelector('[data-uppy-paneltype="'.concat(r,'"]'));if(n)return n}return e}});var uK=h(function(Qgt,oK){var XVe=En(),JVe=My(),QVe=Aq();function iK(t,e){var r=e[0];r&&(r.focus(),t.preventDefault())}function ZVe(t,e){var r=e[e.length-1];r&&(r.focus(),t.preventDefault())}function eWe(t){return t.contains(document.activeElement)}function aK(t,e,r){var n=QVe(r,e),i=XVe(n.querySelectorAll(JVe)),a=i.indexOf(document.activeElement);eWe(n)?t.shiftKey&&a===0?ZVe(t,i):!t.shiftKey&&a===i.length-1&&iK(t,i):iK(t,i)}oK.exports={forModal:function(e,r,n){aK(e,r,n)},forInline:function(e,r,n){r===null||aK(e,r,n)}}});var fK=h(function(Zgt,cK){function xa(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xa=function(r){return typeof r}:xa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xa(t)}var tWe="Expected a function",sK=0/0,rWe="[object Symbol]",nWe=/^\s+|\s+$/g,iWe=/^[-+]0x[0-9a-f]+$/i,aWe=/^0b[01]+$/i,oWe=/^0o[0-7]+$/i,uWe=parseInt,sWe=(typeof global=="undefined"?"undefined":xa(global))=="object"&&global&&global.Object===Object&&global,lWe=(typeof self=="undefined"?"undefined":xa(self))=="object"&&self&&self.Object===Object&&self,cWe=sWe||lWe||Function("return this")(),fWe=Object.prototype,pWe=fWe.toString,dWe=Math.max,hWe=Math.min,Iq=function(){return cWe.Date.now()};function vWe(t,e,r){var n,i,a,o,u,s,l=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(tWe);e=lK(e)||0,kq(r)&&(c=!!r.leading,f="maxWait"in r,a=f?dWe(lK(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function d(C){var Y=n,ie=i;return n=i=void 0,l=C,o=t.apply(ie,Y),o}function v(C){return l=C,u=setTimeout(_,e),c?d(C):o}function g(C){var Y=C-s,ie=C-l,T=e-Y;return f?hWe(T,a-ie):T}function m(C){var Y=C-s,ie=C-l;return s===void 0||Y>=e||Y<0||f&&ie>=a}function _(){var C=Iq();if(m(C))return O(C);u=setTimeout(_,g(C))}function O(C){return u=void 0,p&&n?d(C):(n=i=void 0,o)}function E(){u!==void 0&&clearTimeout(u),l=0,n=s=i=u=void 0}function F(){return u===void 0?o:O(Iq())}function j(){var C=Iq(),Y=m(C);if(n=arguments,i=this,s=C,Y){if(u===void 0)return v(s);if(f)return u=setTimeout(_,e),d(s)}return u===void 0&&(u=setTimeout(_,e)),o}return j.cancel=E,j.flush=F,j}function kq(t){var e=xa(t);return!!t&&(e=="object"||e=="function")}function yWe(t){return!!t&&xa(t)=="object"}function gWe(t){return xa(t)=="symbol"||yWe(t)&&pWe.call(t)==rWe}function lK(t){if(typeof t=="number")return t;if(gWe(t))return sK;if(kq(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=kq(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(nWe,"");var r=aWe.test(t);return r||oWe.test(t)?uWe(t.slice(2),r?2:8):iWe.test(t)?sK:+t}cK.exports=vWe});var dK=h(function(emt,pK){var mWe=fK(),bWe=My(),_We=Aq();pK.exports=function(){var e=!1,r=function(i,a){var o=_We(i,a),u=o.contains(document.activeElement);if(!(u&&e)){var s=o.querySelector("[data-uppy-super-focusable]");if(!(u&&!s))if(s)s.focus({preventScroll:!0}),e=!0;else{var l=o.querySelector(bWe);l==null||l.focus({preventScroll:!0}),e=!1}}};return mWe(r,260)}});var xq=h(function(tmt,vK){"use strict";var hK=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function wWe(t,e){return!!(t===e||hK(t)&&hK(e))}function SWe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!wWe(t[r],e[r]))return!1;return!0}function OWe(t,e){e===void 0&&(e=SWe);var r,n=[],i,a=!1;function o(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return a&&r===this&&e(u,n)||(i=t.apply(this,u),a=!0,r=this,n=u),i}return o}vK.exports=OWe});var Fq=h(function(rmt,yK){yK.exports=function(){var e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}});var mK=h(function(nmt,gK){gK.exports=function(e,r){if(e===r)return!0;for(var n in e)if(!(n in r))return!1;for(var n in r)if(e[n]!==r[n])return!1;return!0}});var Ny=h(function(imt,bK){var PWe=(Z(),ee(te)),_t=PWe.h;function qWe(){return _t("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},_t("g",{fill:"#686DE0",fillRule:"evenodd"},_t("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),_t("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),_t("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function RWe(){return _t("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},_t("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function EWe(){return _t("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},_t("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function TWe(){return _t("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},_t("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function AWe(){return _t("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},_t("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function IWe(){return _t("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},_t("g",{fill:"#A7AFB7",fillRule:"nonzero"},_t("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),_t("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function kWe(){return _t("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},_t("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}bK.exports=function(e){var r={color:"#838999",icon:IWe()};if(!e)return r;var n=e.split("/")[0],i=e.split("/")[1];if(n==="text")return{color:"#5a5e69",icon:kWe()};if(n==="image")return{color:"#686de0",icon:qWe()};if(n==="audio")return{color:"#068dbb",icon:RWe()};if(n==="video")return{color:"#19af67",icon:EWe()};if(n==="application"&&i==="pdf")return{color:"#e25149",icon:TWe()};var a=["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"];return n==="application"&&a.indexOf(i)!==-1?{color:"#00C469",icon:AWe()}:r}});var Cq=h(function(amt,_K){var xWe=(Z(),ee(te)),Kf=xWe.h,FWe=Ny();_K.exports=function(e){var r=e.file;if(r.preview)return Kf("img",{className:"uppy-Dashboard-Item-previewImg",alt:r.name,src:r.preview});var n=FWe(r.type),i=n.color,a=n.icon;return Kf("div",{className:"uppy-Dashboard-Item-previewIconWrap"},Kf("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:i}},a),Kf("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},Kf("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}});var Dq=h(function(omt,SK){var CWe=(Z(),ee(te)),wK=CWe.h,DWe=function(e,r){var n=r.filter(function(i){return i.id===e});return n[0].name};SK.exports=function(e){var r=e.file,n=e.toggleFileCard,i=e.i18n,a=e.metaFields,o=r.missingRequiredMetaFields;if(!(o!=null&&o.length))return null;var u=o.map(function(s){return DWe(s,a)}).join(", ");return wK("div",{className:"uppy-Dashboard-Item-errorMessage"},i("missingRequiredMetaFields",{smart_count:o.length,fields:u})," ",wK("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function(){return n(!0,r.id)}},i("editFile")))}});var PK=h(function(umt,OK){var UWe=(Z(),ee(te)),Yf=UWe.h,jWe=Cq(),MWe=Dq(),NWe=Ny();OK.exports=function(e){return Yf("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:NWe(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&Yf("a",{className:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name},Yf("span",{hidden:!0},e.file.meta.name)),Yf(jWe,{file:e.file}),Yf(MWe,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}});var EK=h(function(smt,RK){var BWe=(Z(),ee(te)),Ce=BWe.h;function LWe(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function qK(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function Uq(t){return Ce("div",{className:"uppy-Dashboard-Item-progress"},Ce("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":qK(t),title:qK(t),onClick:function(){return LWe(t)}},t.children))}function By(t){var e=t.children;return Ce("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e)}function jq(t){var e=t.progress,r=2*Math.PI*15;return Ce("g",null,Ce("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),Ce("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":r,"stroke-dashoffset":r-r/100*e}))}RK.exports=function(e){if(!e.file.progress.uploadStarted)return null;if(e.isUploaded)return Ce("div",{className:"uppy-Dashboard-Item-progress"},Ce("div",{className:"uppy-Dashboard-Item-progressIndicator"},Ce(By,null,Ce("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),Ce("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!e.recoveredState)return e.error&&!e.hideRetryButton?Ce(Uq,e,Ce("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},Ce("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),Ce("path",{d:"M7.9 3H10v2H7.9z"}),Ce("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),Ce("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?Ce(Uq,e,Ce(By,null,Ce(jq,{progress:e.file.progress.percentage}),e.file.isPaused?Ce("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):Ce("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},Ce("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),Ce("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?Ce(Uq,e,Ce(By,null,Ce(jq,{progress:e.file.progress.percentage}),Ce("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):Ce("div",{className:"uppy-Dashboard-Item-progress"},Ce("div",{className:"uppy-Dashboard-Item-progressIndicator"},Ce(By,null,Ce(jq,{progress:e.file.progress.percentage}))))}});var AK=h(function(lmt,TK){var Mq="...";TK.exports=function(e,r){if(r===0)return"";if(e.length<=r)return e;if(r<=Mq.length+1)return"".concat(e.slice(0,r-1),"\u2026");var n=r-Mq.length,i=Math.ceil(n/2),a=Math.floor(n/2);return e.slice(0,i)+Mq+e.slice(-a)}});var FK=h(function(cmt,xK){var IK=(Z(),ee(te)),qr=IK.h,zWe=IK.Fragment,$We=qv(),kK=AK(),HWe=Dq(),VWe=function(e){var r=e.file.meta,n=r.author,i=r.name;function a(){return e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30}return qr("div",{className:"uppy-Dashboard-Item-name",title:i},kK(i,a()))},WWe=function(e){var r=e.file.meta.author,n=e.file.remote.providerName,i="\xB7";return r?qr("div",{className:"uppy-Dashboard-Item-author"},qr("a",{href:"".concat(r.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},kK(r.name,13)),n?qr(zWe,null," ".concat(i," "),n," ".concat(i," ")):null):null},GWe=function(e){return e.file.size&&qr("div",{className:"uppy-Dashboard-Item-statusSize"},$We(e.file.size))},KWe=function(e){return e.file.isGhost&&qr("span",null," \u2022 ",qr("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))},YWe=function(e){var r=e.file,n=e.onClick;return r.error?qr("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":r.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};xK.exports=function(e){var r=e.file;return qr("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":r.source},qr("div",{className:"uppy-Dashboard-Item-fileName"},VWe(e),qr(YWe,{file:e.file,onClick:function(){return alert(e.file.error)}})),qr("div",{className:"uppy-Dashboard-Item-status"},WWe(e),GWe(e),KWe(e)),qr(HWe,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}});var DK=h(function(fmt,CK){CK.exports=function(e,r){return r=r||"Copy the URL below",new Promise(function(n){var i=document.createElement("textarea");i.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),i.value=e,document.body.appendChild(i),i.select();var a=function(){document.body.removeChild(i),window.prompt(r,e),n()};try{var o=document.execCommand("copy");return o?(document.body.removeChild(i),n()):a("copy command unavailable")}catch(u){return document.body.removeChild(i),a(u)}})}});var jK=h(function(pmt,UK){var XWe=(Z(),ee(te)),Mt=XWe.h,JWe=DK();function QWe(t){var e=t.file,r=t.uploadInProgressOrComplete,n=t.metaFields,i=t.canEditFile,a=t.i18n,o=t.onClick;return!r&&n&&n.length>0||!r&&i(e)?Mt("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:e.meta.name}),title:a("editFileWithFilename",{file:e.meta.name}),onClick:function(){return o()}},Mt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},Mt("g",{fillRule:"evenodd"},Mt("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),Mt("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),Mt("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function ZWe(t){var e=t.i18n,r=t.onClick,n=t.file;return Mt("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:function(){return r()}},Mt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},Mt("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),Mt("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var eGe=function(e,r){JWe(r.file.uploadURL,r.i18n("copyLinkToClipboardFallback")).then(function(){r.uppy.log("Link copied to clipboard."),r.uppy.info(r.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(r.uppy.log).then(function(){return e.target.focus({preventScroll:!0})})};function tGe(t){var e=t.i18n;return Mt("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e("copyLink"),title:e("copyLink"),onClick:function(n){return eGe(n,t)}},Mt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},Mt("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}UK.exports=function(e){var r=e.uppy,n=e.file,i=e.uploadInProgressOrComplete,a=e.canEditFile,o=e.metaFields,u=e.showLinkToFileUploadResult,s=e.showRemoveButton,l=e.i18n,c=e.toggleFileCard,f=e.openFileEditor,p=function(){o&&o.length>0?c(!0,n.id):f(n)};return Mt("div",{className:"uppy-Dashboard-Item-actionWrapper"},Mt(QWe,{i18n:l,file:n,uploadInProgressOrComplete:i,canEditFile:a,metaFields:o,onClick:p}),u&&n.uploadURL?Mt(tGe,{file:n,uppy:r,i18n:l}):null,s?Mt(ZWe,{i18n:l,file:n,uppy:r,onClick:function(){return e.uppy.removeFile(n.id,"removed-by-user")}}):null)}});var LK=h(function(dmt,BK){function Ly(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ly=function(r){return typeof r}:Ly=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ly(t)}function rGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nGe(t,e,r){return e&&MK(t.prototype,e),r&&MK(t,r),t}function iGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nq(t,e)}function Nq(t,e){return Nq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Nq(t,e)}function aGe(t){var e=sGe();return function(){var n=zy(t),i;if(e){var a=zy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return oGe(this,i)}}function oGe(t,e){if(e&&(Ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uGe(t)}function uGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function zy(t){return zy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(t)}var NK=(Z(),ee(te)),Ho=NK.h,lGe=NK.Component,cGe=Pr(),fGe=mK(),pGe=PK(),dGe=EK(),hGe=FK(),vGe=jK();BK.exports=function(t){iGe(r,t);var e=aGe(r);function r(){return rGe(this,r),e.apply(this,arguments)}return nGe(r,[{key:"componentDidMount",value:function(){var i=this.props.file;i.preview||this.props.handleRequestThumbnail(i)}},{key:"shouldComponentUpdate",value:function(i){return!fGe(this.props,i)}},{key:"componentDidUpdate",value:function(){var i=this.props.file;i.preview||this.props.handleRequestThumbnail(i)}},{key:"componentWillUnmount",value:function(){var i=this.props.file;i.preview||this.props.handleCancelThumbnail(i)}},{key:"render",value:function(){var i=this.props.file,a=i.progress.preprocess||i.progress.postprocess,o=i.progress.uploadComplete&&!a&&!i.error,u=i.progress.uploadStarted||a,s=i.progress.uploadStarted&&!i.progress.uploadComplete||a,l=i.error||!1,c=i.isGhost,f=(this.props.individualCancellation||!s)&&!o;o&&this.props.showRemoveButtonAfterComplete&&(f=!0);var p=cGe({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":a,"is-complete":o,"is-error":!!l,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":c});return Ho("div",{className:p,id:"uppy_".concat(i.id),role:this.props.role},Ho("div",{className:"uppy-Dashboard-Item-preview"},Ho(pGe,{file:i,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),Ho(dGe,{uppy:this.props.uppy,file:i,error:l,isUploaded:o,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),Ho("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},Ho(hGe,{file:i,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),Ho(vGe,{file:i,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:f,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:u,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}]),r}(lGe)});var WK=h(function(hmt,VK){function $y(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$y=function(r){return typeof r}:$y=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$y(t)}var yGe=["data","rowHeight","renderRow","overscanCount"];function zK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zK(Object(r),!0).forEach(function(n){gGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gGe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mGe(t,e){if(t==null)return{};var r=bGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}function bGe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function _Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $K(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wGe(t,e,r){return e&&$K(t.prototype,e),r&&$K(t,r),t}function SGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bq(t,e)}function Bq(t,e){return Bq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Bq(t,e)}function OGe(t){var e=RGe();return function(){var n=Vy(t),i;if(e){var a=Vy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return PGe(this,i)}}function PGe(t,e){if(e&&($y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qGe(t)}function qGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Vy(t){return Vy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(t)}function Lq(){return Lq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lq.apply(this,arguments)}var HK=(Z(),ee(te)),zq=HK.h,EGe=HK.Component,TGe={position:"relative",width:"100%",minHeight:"100%"},AGe={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},IGe=function(t){SGe(r,t);var e=OGe(r);function r(n){var i;return _Ge(this,r),i=e.call(this,n),i.handleScroll=function(){i.setState({offset:i.base.scrollTop})},i.handleResize=function(){i.resize()},i.focusElement=null,i.state={offset:0,height:0},i}return wGe(r,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function(){var i=this.state.height;i!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function(i){var a=i.data,o=i.rowHeight,u=i.renderRow,s=i.overscanCount,l=s===void 0?10:s,c=mGe(i,yGe),f=this.state,p=f.offset,d=f.height,v=Math.floor(p/o),g=Math.floor(d/o);l&&(v=Math.max(0,v-v%l),g+=l);var m=v+g+4,_=a.slice(v,m),O=Hy(Hy({},TGe),{},{height:a.length*o}),E=Hy(Hy({},AGe),{},{top:v*o});return zq("div",Lq({onScroll:this.handleScroll},c),zq("div",{role:"presentation",style:O},zq("div",{role:"presentation",style:E},_.map(u))))}}]),r}(EGe);VK.exports=IGe});var KK=h(function(vmt,GK){function $q(){return $q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$q.apply(this,arguments)}var kGe=Pr(),xGe=(Z(),ee(te)),Hq=xGe.h,FGe=LK(),CGe=WK();function DGe(t,e){var r=[],n=[];return t.forEach(function(i){n.length<e?n.push(i):(r.push(n),n=[i])}),n.length&&r.push(n),r}GK.exports=function(t){var e=t.totalFileCount===0,r=kGe("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":e}),n=t.itemsPerRow===1?71:200,i={id:t.id,error:t.error,i18n:t.i18n,uppy:t.uppy,acquirers:t.acquirers,resumableUploads:t.resumableUploads,individualCancellation:t.individualCancellation,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,isWide:t.isWide,metaFields:t.metaFields,recoveredState:t.recoveredState,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail},a=function(c,f){return t.files[f].isGhost-t.files[c].isGhost},o=Object.keys(t.files);t.recoveredState&&o.sort(a);var u=DGe(o,t.itemsPerRow),s=function(c){return Hq("div",{role:"presentation",key:c[0]},c.map(function(f){return Hq(FGe,$q({key:f,uppy:t.uppy},i,{role:"listitem",openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,file:t.files[f]}))}))};return Hq(CGe,{class:r,role:"list",data:u,renderRow:s,rowHeight:n})}});var Gq=h(function(ymt,QK){function Wy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wy=function(r){return typeof r}:Wy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wy(t)}function UGe(t){return BGe(t)||NGe(t)||MGe(t)||jGe()}function jGe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function MGe(t,e){if(!!t){if(typeof t=="string")return Vq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vq(t,e)}}function NGe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BGe(t){if(Array.isArray(t))return Vq(t)}function Vq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zGe(t,e,r){return e&&YK(t.prototype,e),r&&YK(t,r),t}function $Ge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wq(t,e)}function Wq(t,e){return Wq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Wq(t,e)}function HGe(t){var e=GGe();return function(){var n=Gy(t),i;if(e){var a=Gy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return VGe(this,i)}}function VGe(t,e){if(e&&(Wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WGe(t)}function WGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(t)}var XK,JK=(Z(),ee(te)),it=JK.h,KGe=JK.Component;XK=Symbol.for("uppy test: disable unused locale key warning");var YGe=function(t,e){$Ge(n,t);var r=HGe(n);function n(){var i;return LGe(this,n),i=r.apply(this,arguments),i.triggerFileInputClick=function(){i.fileInput.click()},i.triggerFolderInputClick=function(){i.folderInput.click()},i.onFileInputChange=function(a){i.props.handleInputChange(a),a.target.value=null},i.renderHiddenInput=function(a,o){return it("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:a,type:"file",name:"files[]",multiple:i.props.maxNumberOfFiles!==1,onChange:i.onFileInputChange,accept:i.props.allowedFileTypes,ref:o})},i.renderMyDeviceAcquirer=function(){return it("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},it("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:i.triggerFileInputClick},it("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},it("g",{fill:"none",fillRule:"evenodd"},it("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),it("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),it("div",{className:"uppy-DashboardTab-name"},i.props.i18n("myDevice"))))},i.renderBrowseButton=function(a,o){var u=i.props.acquirers.length;return it("button",{type:"button",className:"uppy-u-reset uppy-Dashboard-browse",onClick:o,"data-uppy-super-focusable":u===0},a)},i.renderDropPasteBrowseTagline=function(){var a=i.props.acquirers.length,o=i.renderBrowseButton(i.props.i18n("browseFiles"),i.triggerFileInputClick),u=i.renderBrowseButton(i.props.i18n("browseFolders"),i.triggerFolderInputClick),s=i.props.fileManagerSelectionType,l=s.charAt(0).toUpperCase()+s.slice(1);return it("div",{class:"uppy-Dashboard-AddFiles-title"},i.props.disableLocalFiles?i.props.i18n("importFiles"):a>0?i.props.i18nArray("dropPasteImport".concat(l),{browseFiles:o,browseFolders:u,browse:o}):i.props.i18nArray("dropPaste".concat(l),{browseFiles:o,browseFolders:u,browse:o}))},i.renderAcquirer=function(a){return it("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":a.id},it("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":a.id,"aria-controls":"uppy-DashboardContent-panel--".concat(a.id),"aria-selected":i.props.activePickerPanel.id===a.id,"data-uppy-super-focusable":!0,onClick:function(){return i.props.showPanel(a.id)}},a.icon(),it("div",{className:"uppy-DashboardTab-name"},a.name)))},i.renderAcquirers=function(a,o){var u=UGe(a),s=u.splice(a.length-2,a.length);return it("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!o&&i.renderMyDeviceAcquirer(),u.map(function(l){return i.renderAcquirer(l)}),it("span",{role:"presentation",style:{"white-space":"nowrap"}},s.map(function(l){return i.renderAcquirer(l)})))},i}return zGe(n,[{key:e,value:function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}},{key:"renderPoweredByUppy",value:function(){var a=this.props.i18nArray,o=it("span",null,it("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},it("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),it("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),u=a("poweredBy",{uppy:o});return it("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},u)}},{key:"render",value:function(){var a=this;return it("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(o){a.fileInput=o}),this.renderHiddenInput(!0,function(o){a.folderInput=o}),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers,this.props.disableLocalFiles),it("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&it("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}]),n}(KGe,XK);QK.exports=YGe});var eY=h(function(gmt,ZK){var XGe=(Z(),ee(te)),Xf=XGe.h,JGe=Pr(),QGe=Gq(),ZGe=function(e){return Xf("div",{className:JGe("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},Xf("div",{className:"uppy-DashboardContent-bar"},Xf("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),Xf("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),Xf(QGe,e))};ZK.exports=ZGe});var Kq=h(function(mmt,tY){function eKe(t){var e=t.target.tagName;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}tY.exports=eKe});var nY=h(function(bmt,rY){var tKe=(Z(),ee(te)),Jf=tKe.h,rKe=Pr(),Ky=Kq();function nKe(t){return Jf("div",{className:rKe("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(t.activePickerPanel.id),onDragOver:Ky,onDragLeave:Ky,onDrop:Ky,onPaste:Ky},Jf("div",{className:"uppy-DashboardContent-bar"},Jf("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18n("importFrom",{name:t.activePickerPanel.name})),Jf("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t.hideAllPanels},t.i18n("cancel"))),Jf("div",{className:"uppy-DashboardContent-panelBody"},t.uppy.getPlugin(t.activePickerPanel.id).render(t.state)))}rY.exports=nKe});var aY=h(function(_mt,iY){var iKe=(Z(),ee(te)),Vo=iKe.h,aKe=Pr();function oKe(t){var e=t.files[t.fileCardFor];return Vo("div",{className:aKe("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},Vo("div",{className:"uppy-DashboardContent-bar"},Vo("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:Vo("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),Vo("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t.hideAllPanels},t.i18n("cancel")),Vo("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor},t.i18n("save"))),Vo("div",{className:"uppy-DashboardContent-panelBody"},t.editors.map(function(r){return t.uppy.getPlugin(r.id).render(t.state)})))}iY.exports=oKe});var uY=h(function(wmt,oY){var uKe=(Z(),ee(te)),Xn=uKe.h,Jn={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function sKe(t,e,r,n){if(n===void 0&&(n={}),t)return Jn.STATE_ERROR;if(e)return Jn.STATE_COMPLETE;if(r)return Jn.STATE_PAUSED;for(var i=Jn.STATE_WAITING,a=Object.keys(n),o=0;o<a.length;o++){var u=n[a[o]].progress;if(u.uploadStarted&&!u.uploadComplete)return Jn.STATE_UPLOADING;u.preprocess&&i!==Jn.STATE_UPLOADING&&(i=Jn.STATE_PREPROCESSING),u.postprocess&&i!==Jn.STATE_UPLOADING&&i!==Jn.STATE_PREPROCESSING&&(i=Jn.STATE_POSTPROCESSING)}return i}function lKe(t){var e=sKe(t.isAllErrored,t.isAllComplete,t.isAllPaused,t.files);switch(e){case"uploading":return t.i18n("uploadingXFiles",{smart_count:t.inProgressNotPausedFiles.length});case"preprocessing":case"postprocessing":return t.i18n("processingXFiles",{smart_count:t.processingFiles.length});case"paused":return t.i18n("uploadPaused");case"waiting":return t.i18n("xFilesSelected",{smart_count:t.newFiles.length});case"complete":return t.i18n("uploadComplete")}}function cKe(t){var e=t.allowNewUpload;return e&&t.maxNumberOfFiles&&(e=t.totalFileCount<t.maxNumberOfFiles),Xn("div",{className:"uppy-DashboardContent-bar"},!t.isAllComplete&&!t.hideCancelButton?Xn("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return t.uppy.cancelAll()}},t.i18n("cancel")):Xn("div",null),Xn("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},Xn(lKe,t)),e?Xn("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t.i18n("addMoreFiles"),title:t.i18n("addMoreFiles"),onClick:function(){return t.toggleAddFilesPanel(!0)}},Xn("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},Xn("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),Xn("span",{className:"uppy-DashboardContent-addMoreCaption"},t.i18n("addMore"))):Xn("div",null))}oY.exports=cKe});var hY=h(function(Smt,dY){function Yy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yy=function(r){return typeof r}:Yy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yy(t)}function sY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sY(Object(r),!0).forEach(function(n){cY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cY(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pKe(t,e,r){return e&&fY(t.prototype,e),r&&fY(t,r),t}function dKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yq(t,e)}function Yq(t,e){return Yq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Yq(t,e)}function hKe(t){var e=gKe();return function(){var n=Xy(t),i;if(e){var a=Xy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vKe(this,i)}}function vKe(t,e){if(e&&(Yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yKe(t)}function yKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(t)}var pY=(Z(),ee(te)),Nt=pY.h,mKe=pY.Component,bKe=Pr(),_Ke=Co(),wKe=_Ke.nanoid,SKe=Ny(),Jy=Kq(),OKe=Cq(),PKe=function(t){dKe(r,t);var e=hKe(r);function r(n){var i;fKe(this,r),i=e.call(this,n),i.form=document.createElement("form"),i.updateMeta=function(s,l){i.setState(function(c){var f=c.formState;return{formState:lY(lY({},f),{},cY({},l,s))}})},i.handleSave=function(s){s.preventDefault();var l=i.props.fileCardFor;i.props.saveFileCard(i.state.formState,l)},i.handleCancel=function(){i.props.toggleFileCard(!1)},i.saveOnEnter=function(s){if(s.keyCode===13){s.stopPropagation(),s.preventDefault();var l=i.props.files[i.props.fileCardFor];i.props.saveFileCard(i.state.formState,l.id)}},i.renderMetaFields=function(){var s=i.getMetaFields()||[],l={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return s.map(function(c){var f="uppy-Dashboard-FileCard-input-".concat(c.id),p=i.props.requiredMetaFields.includes(c.id);return Nt("fieldset",{key:c.id,className:"uppy-Dashboard-FileCard-fieldset"},Nt("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:f},c.name),c.render!==void 0?c.render({value:i.state.formState[c.id],onChange:function(v){return i.updateMeta(v,c.id)},fieldCSSClasses:l,required:p,form:i.form.id},Nt):Nt("input",{className:l.text,id:f,form:i.form.id,type:c.type||"text",required:p,value:i.state.formState[c.id],placeholder:c.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:i.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:i.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:i.saveOnEnter,onInput:function(v){return i.updateMeta(v.target.value,c.id)},"data-uppy-super-focusable":!0}))})};var a=i.props.files[i.props.fileCardFor],o=i.getMetaFields()||[],u={};return o.forEach(function(s){u[s.id]=a.meta[s.id]||""}),i.state={formState:u},i.form.id=wKe(),i}return pKe(r,[{key:"componentWillMount",value:function(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}},{key:"componentWillUnmount",value:function(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}},{key:"getMetaFields",value:function(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}},{key:"render",value:function(){var i=this,a=this.props.files[this.props.fileCardFor],o=this.props.canEditFile(a);return Nt("div",{className:bKe("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:Jy,onDragLeave:Jy,onDrop:Jy,onPaste:Jy},Nt("div",{className:"uppy-DashboardContent-bar"},Nt("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:Nt("span",{className:"uppy-DashboardContent-titleFile"},a.meta?a.meta.name:a.name)})),Nt("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),Nt("div",{className:"uppy-Dashboard-FileCard-inner"},Nt("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:SKe(a.type).color}},Nt(OKe,{file:a}),o&&Nt("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(s){i.handleSave(s),i.props.openFileEditor(a)},form:this.form.id},this.props.i18n("editFile"))),Nt("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),Nt("div",{className:"uppy-Dashboard-FileCard-actions"},Nt("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),Nt("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}}]),r}(mKe);dY.exports=PKe});var mY=h(function(Omt,gY){function Qy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qy=function(r){return typeof r}:Qy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qy(t)}function qKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function RKe(t,e,r){return e&&vY(t.prototype,e),r&&vY(t,r),t}function EKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xq(t,e)}function Xq(t,e){return Xq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Xq(t,e)}function TKe(t){var e=kKe();return function(){var n=Zy(t),i;if(e){var a=Zy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return AKe(this,i)}}function AKe(t,e){if(e&&(Qy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IKe(t)}function IKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Zy(t){return Zy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(t)}var Jq=(Z(),ee(te)),xKe=Jq.cloneElement,FKe=Jq.Component,CKe=Jq.toChildArray,DKe=Pr(),Rs="uppy-transition-slideDownUp",yY=250,UKe=function(t){EKe(r,t);var e=TKe(r);function r(n){var i;return qKe(this,r),i=e.call(this,n),i.state={cachedChildren:null,className:""},i}return RKe(r,[{key:"componentWillUpdate",value:function(i){var a=this,o=this.state.cachedChildren,u=CKe(i.children)[0];if(o===u)return null;var s={cachedChildren:u};u&&!o&&(s.className="".concat(Rs,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){a.setState({className:"".concat(Rs,"-enter ").concat(Rs,"-enter-active")}),a.enterTimeout=setTimeout(function(){a.setState({className:""})},yY)})),o&&!u&&this.leaveTimeout===void 0&&(s.cachedChildren=o,s.className="".concat(Rs,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){a.setState({className:"".concat(Rs,"-leave ").concat(Rs,"-leave-active")}),a.leaveTimeout=setTimeout(function(){a.setState({cachedChildren:null,className:""})},yY)})),this.setState(s)}},{key:"render",value:function(){var i=this.state,a=i.cachedChildren,o=i.className;return a?xKe(a,{className:DKe(o,a.props.className)}):null}}]),r}(FKe);gY.exports=UKe});var OY=h(function(Pmt,SY){function Fa(){return Fa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fa.apply(this,arguments)}var jKe=(Z(),ee(te)),He=jKe.h,bY=Pr(),MKe=Fq(),NKe=KK(),BKe=Gq(),LKe=eY(),zKe=nY(),$Ke=aY(),HKe=uY(),VKe=hY(),eg=mY(),_Y=900,wY=700,Qq=576,WKe=400;SY.exports=function(e){var r=e.totalFileCount===0,n=e.containerWidth>Qq,i=bY({"uppy-Root":e.isTargetDOMEl}),a=bY({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>Qq,"uppy-size--lg":e.containerWidth>wY,"uppy-size--xl":e.containerWidth>_Y,"uppy-size--height-md":e.containerHeight>WKe,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible}),o=1;e.containerWidth>_Y?o=5:e.containerWidth>wY?o=4:e.containerWidth>Qq&&(o=3);var u=e.showSelectedFiles&&!r,s=e.recoveredState?Object.keys(e.recoveredState.files).length:null,l=e.files?Object.keys(e.files).filter(function(p){return e.files[p].isGhost}).length:null,c=function(){return l>0?e.i18n("recoveredXFiles",{smart_count:l}):e.i18n("recoveredAllFiles")},f=He("div",{className:a,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&MKe(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},He("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),He("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:He("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},He("span",{"aria-hidden":"true"},"\xD7")),He("div",{className:"uppy-Dashboard-innerWrap"},He("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),u&&He(HKe,e),s&&He("div",{className:"uppy-Dashboard-serviceMsg"},He("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},He("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},He("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),He("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),He("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),He("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),He("div",{className:"uppy-Dashboard-serviceMsg-text"},c())),u?He(NKe,Fa({},e,{itemsPerRow:o})):He(BKe,Fa({},e,{isSizeMD:n})),He(eg,null,e.showAddFilesPanel?He(LKe,Fa({key:"AddFiles"},e,{isSizeMD:n})):null),He(eg,null,e.fileCardFor?He(VKe,Fa({key:"FileCard"},e)):null),He(eg,null,e.activePickerPanel?He(zKe,Fa({key:"Picker"},e)):null),He(eg,null,e.showFileEditor?He($Ke,Fa({key:"Editor"},e)):null),He("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map(function(p){return e.uppy.getPlugin(p.id).render(e.state)})))));return He("div",{className:i,dir:e.direction},f)}});var qY=h(function(qmt,PY){PY.exports={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."}}}});var MY=h(function(Rmt,jY){function tg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tg=function(r){return typeof r}:tg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tg(t)}function RY(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function GKe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){RY(a,n,i,o,u,"next",s)}function u(s){RY(a,n,i,o,u,"throw",s)}o(void 0)})}}function EY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EY(Object(r),!0).forEach(function(n){TY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TY(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YKe(t,e,r){return e&&AY(t.prototype,e),r&&AY(t,r),t}function XKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zq(t,e)}function Zq(t,e){return Zq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Zq(t,e)}function JKe(t){var e=ZKe();return function(){var n=rg(t),i;if(e){var a=rg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return QKe(this,i)}}function QKe(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}function et(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(t)}var IY,Es,Da,ng,ig,ag,Qn,kY;function Gr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var eYe=0;function Ts(t){return"__private_"+eYe+++"_"+t}var tYe=(Z(),ee(te)),xY=tYe.h,rYe=ot(),nYe=rYe.UIPlugin,iYe=rq(),aYe=uq(),oYe=Eq(),FY=HG(),eR=En(),uYe=jy(),sYe=YP(),lYe=Co(),cYe=lYe.nanoid,CY=uK(),fYe=dK(),tR=xq().default||xq(),pYe=My(),dYe=OY(),hYe=qY(),DY=9,vYe=27;function UY(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t}function yYe(){return xY("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},xY("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}jY.exports=(kY=(Es=Ts("openFileEditorWhenFilesAdded"),Da=Ts("attachRenderFunctionToTarget"),ng=Ts("isTargetSupported"),ig=Ts("getAcquirers"),ag=Ts("getProgressIndicators"),Qn=Ts("getEditors"),IY=function(t){XKe(r,t);var e=JKe(r);function r(n,i){var a;KKe(this,r);var o;a=e.call(this,n,i),o=et(a),a.removeTarget=function(s){var l=a.getPluginState(),c=l.targets.filter(function(f){return f.id!==s.id});a.setPluginState({targets:c})},a.addTarget=function(s){var l=s.id||s.constructor.name,c=s.title||l,f=s.type;if(f!=="acquirer"&&f!=="progressindicator"&&f!=="editor"){var p="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";a.uppy.log(p,"error");return}var d={id:l,name:c,type:f},v=a.getPluginState(),g=v.targets.slice();return g.push(d),a.setPluginState({targets:g}),a.el},a.hideAllPanels=function(){var s=a.getPluginState(),l={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};s.activePickerPanel===l.activePickerPanel&&s.showAddFilesPanel===l.showAddFilesPanel&&s.showFileEditor===l.showFileEditor&&s.activeOverlayType===l.activeOverlayType||a.setPluginState(l)},a.showPanel=function(s){var l=a.getPluginState(),c=l.targets,f=c.filter(function(p){return p.type==="acquirer"&&p.id===s})[0];a.setPluginState({activePickerPanel:f,activeOverlayType:"PickerPanel"})},a.canEditFile=function(s){var l=a.getPluginState(),c=l.targets,f=Gr(et(a),Qn)[Qn](c);return f.some(function(p){return a.uppy.getPlugin(p.id).canEditFile(s)})},a.openFileEditor=function(s){var l=a.getPluginState(),c=l.targets,f=Gr(et(a),Qn)[Qn](c);a.setPluginState({showFileEditor:!0,fileCardFor:s.id||null,activeOverlayType:"FileEditor"}),f.forEach(function(p){a.uppy.getPlugin(p.id).selectFile(s)})},a.saveFileEditor=function(){var s=a.getPluginState(),l=s.targets,c=Gr(et(a),Qn)[Qn](l);c.forEach(function(f){a.uppy.getPlugin(f.id).save()}),a.hideAllPanels()},a.openModal=function(){var s=UY(),l=s.promise,c=s.resolve;if(a.savedScrollPosition=window.pageYOffset,a.savedActiveElement=document.activeElement,a.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),a.opts.animateOpenClose&&a.getPluginState().isClosing){var f=function p(){a.setPluginState({isHidden:!1}),a.el.removeEventListener("animationend",p,!1),c()};a.el.addEventListener("animationend",f,!1)}else a.setPluginState({isHidden:!1}),c();return a.opts.browserBackButtonClose&&a.updateBrowserHistory(),document.addEventListener("keydown",a.handleKeyDownInModal),a.uppy.emit("dashboard:modal-open"),l},a.closeModal=function(s){s===void 0&&(s={});var l=s,c=l.manualClose,f=c===void 0?!0:c,p=o.getPluginState(),d=p.isHidden,v=p.isClosing;if(!(d||v)){var g=UY(),m=g.promise,_=g.resolve;if(o.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),o.opts.animateOpenClose){o.setPluginState({isClosing:!0});var O=function F(){o.setPluginState({isHidden:!0,isClosing:!1}),o.superFocus.cancel(),o.savedActiveElement.focus(),o.el.removeEventListener("animationend",F,!1),_()};o.el.addEventListener("animationend",O,!1)}else o.setPluginState({isHidden:!0}),o.superFocus.cancel(),o.savedActiveElement.focus(),_();if(document.removeEventListener("keydown",o.handleKeyDownInModal),f&&o.opts.browserBackButtonClose){var E;(E=history.state)!=null&&E[o.modalName]&&history.back()}return o.uppy.emit("dashboard:modal-closed"),m}},a.isModalOpen=function(){return!a.getPluginState().isHidden||!1},a.requestCloseModal=function(){return a.opts.onRequestCloseModal?a.opts.onRequestCloseModal():a.closeModal()},a.setDarkModeCapability=function(s){var l=a.uppy.getState(),c=l.capabilities;a.uppy.setState({capabilities:Ca(Ca({},c),{},{darkMode:s})})},a.handleSystemDarkModeChange=function(s){var l=s.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(l?"on":"off")),a.setDarkModeCapability(l)},a.toggleFileCard=function(s,l){var c=a.uppy.getFile(l);s?a.uppy.emit("dashboard:file-edit-start",c):a.uppy.emit("dashboard:file-edit-complete",c),a.setPluginState({fileCardFor:s?l:null,activeOverlayType:s?"FileCard":null})},a.toggleAddFilesPanel=function(s){a.setPluginState({showAddFilesPanel:s,activeOverlayType:s?"AddFiles":null})},a.addFiles=function(s){var l=s.map(function(c){return{source:a.id,name:c.name,type:c.type,data:c,meta:{relativePath:c.relativePath||null}}});try{a.uppy.addFiles(l)}catch(c){a.uppy.log(c)}},a.startListeningToResize=function(){a.resizeObserver=new ResizeObserver(function(s){var l=s[0],c=l.contentRect,f=c.width,p=c.height;a.uppy.log("[Dashboard] resized: ".concat(f," / ").concat(p),"debug"),a.setPluginState({containerWidth:f,containerHeight:p,areInsidesReadyToBeVisible:!0})}),a.resizeObserver.observe(a.el.querySelector(".uppy-Dashboard-inner")),a.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var s=a.getPluginState(),l=!a.opts.inline&&s.isHidden;!s.areInsidesReadyToBeVisible&&!l&&(a.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),a.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},a.stopListeningToResize=function(){a.resizeObserver.disconnect(),clearTimeout(a.makeDashboardInsidesVisibleAnywayTimeout)},a.recordIfFocusedOnUppyRecently=function(s){a.el.contains(s.target)?a.ifFocusedOnUppyRecently=!0:(a.ifFocusedOnUppyRecently=!1,a.superFocus.cancel())},a.disableAllFocusableElements=function(s){var l=eR(a.el.querySelectorAll(pYe));s?l.forEach(function(c){var f=c.getAttribute("tabindex");f&&(c.dataset.inertTabindex=f),c.setAttribute("tabindex","-1")}):l.forEach(function(c){"inertTabindex"in c.dataset?c.setAttribute("tabindex",c.dataset.inertTabindex):c.removeAttribute("tabindex")}),a.dashboardIsDisabled=s},a.updateBrowserHistory=function(){var s;(s=history.state)!=null&&s[a.modalName]||history.pushState(Ca(Ca({},history.state),{},TY({},a.modalName,!0)),""),window.addEventListener("popstate",a.handlePopState,!1)},a.handlePopState=function(s){var l;a.isModalOpen()&&(!s.state||!s.state[a.modalName])&&a.closeModal({manualClose:!1}),!a.isModalOpen()&&(l=s.state)!=null&&l[a.modalName]&&history.back()},a.handleKeyDownInModal=function(s){s.keyCode===vYe&&a.requestCloseModal(s),s.keyCode===DY&&CY.forModal(s,a.getPluginState().activeOverlayType,a.el)},a.handleClickOutside=function(){a.opts.closeModalOnClickOutside&&a.requestCloseModal()},a.handlePaste=function(s){a.uppy.iteratePlugins(function(c){c.type==="acquirer"&&(c.handleRootPaste==null||c.handleRootPaste(s))});var l=eR(s.clipboardData.files);l.length>0&&(a.uppy.log("[Dashboard] Files pasted"),a.addFiles(l))},a.handleInputChange=function(s){s.preventDefault();var l=eR(s.target.files);l.length>0&&(a.uppy.log("[Dashboard] Files selected through input"),a.addFiles(l))},a.handleDragOver=function(s){var l,c;s.preventDefault(),s.stopPropagation();var f=function(){var m=!0;return a.uppy.iteratePlugins(function(_){_.canHandleRootDrop!=null&&_.canHandleRootDrop(s)&&(m=!0)}),m},p=function(){var m=s.dataTransfer.types;return m.some(function(_){return _==="Files"})},d=f(s),v=p(s);if(!d&&!v||a.opts.disabled||a.opts.disableLocalFiles&&(v||!d)||!a.uppy.getState().allowNewUpload){s.dataTransfer.dropEffect="none",clearTimeout(a.removeDragOverClassTimeout);return}s.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!0}),(l=(c=a.opts).onDragOver)==null||l.call(c,s)},a.handleDragLeave=function(s){var l,c;s.preventDefault(),s.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout(function(){a.setPluginState({isDraggingOver:!1})},50),(l=(c=a.opts).onDragLeave)==null||l.call(c,s)},a.handleDrop=function(){var s=GKe(regeneratorRuntime.mark(function l(c){var f,p,d,v,g;return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return c.preventDefault(),c.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins(function(O){O.type==="acquirer"&&(O.handleRootDrop==null||O.handleRootDrop(c))}),d=!1,v=function(E){a.uppy.log(E,"error"),d||(a.uppy.info(E.message,"error"),d=!0)},_.next=9,uYe(c.dataTransfer,{logDropError:v});case 9:g=_.sent,g.length>0&&(a.uppy.log("[Dashboard] Files dropped"),a.addFiles(g)),(f=(p=a.opts).onDrop)==null||f.call(p,c);case 12:case"end":return _.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),a.handleRequestThumbnail=function(s){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:request",s)},a.handleCancelThumbnail=function(s){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:cancel",s)},a.handleKeyDownInInline=function(s){s.keyCode===DY&&CY.forInline(s,a.getPluginState().activeOverlayType,a.el)},a.handlePasteOnBody=function(s){var l=a.el.contains(document.activeElement);l&&a.handlePaste(s)},a.handleComplete=function(s){var l=s.failed;a.opts.closeAfterFinish&&l.length===0&&a.requestCloseModal()},a.handleCancelRestore=function(){a.uppy.emit("restore-canceled")},Object.defineProperty(et(a),Es,{writable:!0,value:function(l){var c=l[0];a.canEditFile(c)&&a.openFileEditor(c)}}),a.initEvents=function(){if(a.opts.trigger&&!a.opts.inline){var s=FY(a.opts.trigger);s?s.forEach(function(l){return l.addEventListener("click",a.openModal)}):a.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}a.startListeningToResize(),document.addEventListener("paste",a.handlePasteOnBody),a.uppy.on("plugin-remove",a.removeTarget),a.uppy.on("file-added",a.hideAllPanels),a.uppy.on("dashboard:modal-closed",a.hideAllPanels),a.uppy.on("file-editor:complete",a.hideAllPanels),a.uppy.on("complete",a.handleComplete),document.addEventListener("focus",a.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",a.recordIfFocusedOnUppyRecently,!0),a.opts.inline&&a.el.addEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.on("files-added",Gr(et(a),Es)[Es])},a.removeEvents=function(){var s=FY(a.opts.trigger);!a.opts.inline&&s&&s.forEach(function(l){return l.removeEventListener("click",a.openModal)}),a.stopListeningToResize(),document.removeEventListener("paste",a.handlePasteOnBody),window.removeEventListener("popstate",a.handlePopState,!1),a.uppy.off("plugin-remove",a.removeTarget),a.uppy.off("file-added",a.hideAllPanels),a.uppy.off("dashboard:modal-closed",a.hideAllPanels),a.uppy.off("file-editor:complete",a.hideAllPanels),a.uppy.off("complete",a.handleComplete),document.removeEventListener("focus",a.recordIfFocusedOnUppyRecently),document.removeEventListener("click",a.recordIfFocusedOnUppyRecently),a.opts.inline&&a.el.removeEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.off("files-added",Gr(et(a),Es)[Es])},a.superFocusOnEachUpdate=function(){var s=a.el.contains(document.activeElement),l=document.activeElement===document.body||document.activeElement===null,c=a.uppy.getState().info.length===0,f=!a.opts.inline;c&&(f||s||l&&a.ifFocusedOnUppyRecently)?a.superFocus(a.el,a.getPluginState().activeOverlayType):a.superFocus.cancel()},a.afterUpdate=function(){if(a.opts.disabled&&!a.dashboardIsDisabled){a.disableAllFocusableElements(!0);return}!a.opts.disabled&&a.dashboardIsDisabled&&a.disableAllFocusableElements(!1),a.superFocusOnEachUpdate()},a.saveFileCard=function(s,l){a.uppy.setFileMeta(l,s),a.toggleFileCard(!1,l)},Object.defineProperty(et(a),Da,{writable:!0,value:function(l){var c=a.uppy.getPlugin(l.id);return Ca(Ca({},l),{},{icon:c.icon||a.opts.defaultPickerIcon,render:c.render})}}),Object.defineProperty(et(a),ng,{writable:!0,value:function(l){var c=a.uppy.getPlugin(l.id);return typeof c.isSupported!="function"?!0:c.isSupported()}}),Object.defineProperty(et(a),ig,{writable:!0,value:tR(function(s){return s.filter(function(l){return l.type==="acquirer"&&Gr(et(a),ng)[ng](l)}).map(Gr(et(a),Da)[Da])})}),Object.defineProperty(et(a),ag,{writable:!0,value:tR(function(s){return s.filter(function(l){return l.type==="progressindicator"}).map(Gr(et(a),Da)[Da])})}),Object.defineProperty(et(a),Qn,{writable:!0,value:tR(function(s){return s.filter(function(l){return l.type==="editor"}).map(Gr(et(a),Da)[Da])})}),a.render=function(s){var l=a.getPluginState(),c=s.files,f=s.capabilities,p=s.allowNewUpload,d=a.uppy.getObjectOfFilesPerState(),v=d.newFiles,g=d.uploadStartedFiles,m=d.completeFiles,_=d.erroredFiles,O=d.inProgressFiles,E=d.inProgressNotPausedFiles,F=d.processingFiles,j=d.isUploadStarted,C=d.isAllComplete,Y=d.isAllErrored,ie=d.isAllPaused,T=Gr(et(a),ig)[ig](l.targets),N=Gr(et(a),ag)[ag](l.targets),re=Gr(et(a),Qn)[Qn](l.targets),J;return a.opts.theme==="auto"?J=f.darkMode?"dark":"light":J=a.opts.theme,["files","folders","both"].indexOf(a.opts.fileManagerSelectionType)<0&&(a.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(a.opts.fileManagerSelectionType,'".'))),dYe({state:s,isHidden:l.isHidden,files:c,newFiles:v,uploadStartedFiles:g,completeFiles:m,erroredFiles:_,inProgressFiles:O,inProgressNotPausedFiles:E,processingFiles:F,isUploadStarted:j,isAllComplete:C,isAllErrored:Y,isAllPaused:ie,totalFileCount:Object.keys(c).length,totalProgress:s.totalProgress,allowNewUpload:p,acquirers:T,theme:J,disabled:a.opts.disabled,disableLocalFiles:a.opts.disableLocalFiles,direction:a.opts.direction,activePickerPanel:l.activePickerPanel,showFileEditor:l.showFileEditor,saveFileEditor:a.saveFileEditor,disableAllFocusableElements:a.disableAllFocusableElements,animateOpenClose:a.opts.animateOpenClose,isClosing:l.isClosing,progressindicators:N,editors:re,autoProceed:a.uppy.opts.autoProceed,id:a.id,closeModal:a.requestCloseModal,handleClickOutside:a.handleClickOutside,handleInputChange:a.handleInputChange,handlePaste:a.handlePaste,inline:a.opts.inline,showPanel:a.showPanel,hideAllPanels:a.hideAllPanels,i18n:a.i18n,i18nArray:a.i18nArray,uppy:a.uppy,note:a.opts.note,recoveredState:s.recoveredState,metaFields:l.metaFields,resumableUploads:f.resumableUploads||!1,individualCancellation:f.individualCancellation,isMobileDevice:f.isMobileDevice,fileCardFor:l.fileCardFor,toggleFileCard:a.toggleFileCard,toggleAddFilesPanel:a.toggleAddFilesPanel,showAddFilesPanel:l.showAddFilesPanel,saveFileCard:a.saveFileCard,openFileEditor:a.openFileEditor,canEditFile:a.canEditFile,width:a.opts.width,height:a.opts.height,showLinkToFileUploadResult:a.opts.showLinkToFileUploadResult,fileManagerSelectionType:a.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:a.opts.proudlyDisplayPoweredByUppy,hideCancelButton:a.opts.hideCancelButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:a.opts.showRemoveButtonAfterComplete,containerWidth:l.containerWidth,containerHeight:l.containerHeight,areInsidesReadyToBeVisible:l.areInsidesReadyToBeVisible,isTargetDOMEl:a.isTargetDOMEl,parentElement:a.el,allowedFileTypes:a.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:a.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:a.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:a.opts.showSelectedFiles,handleCancelRestore:a.handleCancelRestore,handleRequestThumbnail:a.handleRequestThumbnail,handleCancelThumbnail:a.handleCancelThumbnail,isDraggingOver:l.isDraggingOver,handleDragOver:a.handleDragOver,handleDragLeave:a.handleDragLeave,handleDrop:a.handleDrop})},a.discoverProviderPlugins=function(){a.uppy.iteratePlugins(function(s){s&&!s.target&&s.opts&&s.opts.target===a.constructor&&a.addTarget(s)})},a.install=function(){a.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:a.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var s=a.opts,l=s.inline,c=s.closeAfterFinish;if(l&&c)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var f=a.uppy.opts,p=f.allowMultipleUploads,d=f.allowMultipleUploadBatches;(p||d)&&c&&a.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var v=a.opts.target;v&&a.mount(v,et(a));var g=a.opts.plugins||[];g.forEach(function(_){var O=a.uppy.getPlugin(_);O&&O.mount(et(a),O)}),a.opts.disableStatusBar||a.uppy.use(iYe,{id:"".concat(a.id,":StatusBar"),target:et(a),hideUploadButton:a.opts.hideUploadButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,hideCancelButton:a.opts.hideCancelButton,showProgressDetails:a.opts.showProgressDetails,hideAfterFinish:a.opts.hideProgressAfterFinish,locale:a.opts.locale,doneButtonHandler:a.opts.doneButtonHandler}),a.opts.disableInformer||a.uppy.use(aYe,{id:"".concat(a.id,":Informer"),target:et(a)}),a.opts.disableThumbnailGenerator||a.uppy.use(oYe,{id:"".concat(a.id,":ThumbnailGenerator"),thumbnailWidth:a.opts.thumbnailWidth,thumbnailHeight:a.opts.thumbnailHeight,thumbnailType:a.opts.thumbnailType,waitForThumbnailsBeforeUpload:a.opts.waitForThumbnailsBeforeUpload,lazy:!a.opts.waitForThumbnailsBeforeUpload}),a.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var m=a.darkModeMediaQuery?a.darkModeMediaQuery.matches:!1;a.uppy.log("[Dashboard] Dark mode is ".concat(m?"on":"off")),a.setDarkModeCapability(m),a.opts.theme==="auto"&&a.darkModeMediaQuery.addListener(a.handleSystemDarkModeChange),a.discoverProviderPlugins(),a.initEvents()},a.uninstall=function(){if(!a.opts.disableInformer){var s=a.uppy.getPlugin("".concat(a.id,":Informer"));s&&a.uppy.removePlugin(s)}if(!a.opts.disableStatusBar){var l=a.uppy.getPlugin("".concat(a.id,":StatusBar"));l&&a.uppy.removePlugin(l)}if(!a.opts.disableThumbnailGenerator){var c=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));c&&a.uppy.removePlugin(c)}var f=a.opts.plugins||[];f.forEach(function(p){var d=a.uppy.getPlugin(p);d&&d.unmount()}),a.opts.theme==="auto"&&a.darkModeMediaQuery.removeListener(a.handleSystemDarkModeChange),a.unmount(),a.removeEvents()},a.id=a.opts.id||"Dashboard",a.title="Dashboard",a.type="orchestrator",a.modalName="uppy-Dashboard-".concat(cYe()),a.defaultLocale=hYe;var u={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:yYe,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){a.uppy.reset(),a.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return a.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return a.opts=Ca(Ca({},u),i),a.i18nInit(),a.superFocus=fYe(),a.ifFocusedOnUppyRecently=!1,a.makeDashboardInsidesVisibleAnywayTimeout=null,a.removeDragOverClassTimeout=null,a}return YKe(r,[{key:"onMount",value:function(){var i=this.el,a=sYe(i);a||(i.dir="ltr")}}]),r}(nYe)),IY.VERSION="2.1.3",kY)});var BY=h(function(Emt,NY){NY.exports={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}}});var KY=h(function(Tmt,GY){function og(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?og=function(r){return typeof r}:og=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},og(t)}function LY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LY(Object(r),!0).forEach(function(n){gYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Y(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function mYe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){$Y(a,n,i,o,u,"next",s)}function u(s){$Y(a,n,i,o,u,"throw",s)}o(void 0)})}}function bYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _Ye(t,e,r){return e&&HY(t.prototype,e),r&&HY(t,r),t}function wYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rR(t,e)}function rR(t,e){return rR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rR(t,e)}function SYe(t){var e=PYe();return function(){var n=ug(t),i;if(e){var a=ug(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return OYe(this,i)}}function OYe(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wo(t)}function Wo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}var VY,WY,qYe=ot(),RYe=qYe.UIPlugin,EYe=En(),TYe=Fq(),AYe=jy(),IYe=(Z(),ee(te)),Ua=IYe.h,kYe=BY();GY.exports=(WY=VY=function(t){wYe(r,t);var e=SYe(r);function r(n,i){var a;bYe(this,r),a=e.call(this,n,i),a.handleDrop=function(){var u=mYe(regeneratorRuntime.mark(function s(l){var c,f,p,d;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return l.preventDefault(),l.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),p=function(_){a.uppy.log(_,"error")},g.next=7,AYe(l.dataTransfer,{logDropError:p});case 7:d=g.sent,d.length>0&&(a.uppy.log("[DragDrop] Files dropped"),a.addFiles(d)),(c=(f=a.opts).onDrop)==null||c.call(f,l);case 10:case"end":return g.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),a.type="acquirer",a.id=a.opts.id||"DragDrop",a.title="Drag & Drop",a.defaultLocale=kYe;var o={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};return a.opts=zY(zY({},o),i),a.i18nInit(),a.isDragDropSupported=TYe(),a.removeDragOverClassTimeout=null,a.onInputChange=a.onInputChange.bind(Wo(a)),a.handleDragOver=a.handleDragOver.bind(Wo(a)),a.handleDragLeave=a.handleDragLeave.bind(Wo(a)),a.handleDrop=a.handleDrop.bind(Wo(a)),a.addFiles=a.addFiles.bind(Wo(a)),a.render=a.render.bind(Wo(a)),a}return _Ye(r,[{key:"addFiles",value:function(i){var a=this,o=i.map(function(u){return{source:a.id,name:u.name,type:u.type,data:u,meta:{relativePath:u.relativePath||null}}});try{this.uppy.addFiles(o)}catch(u){this.uppy.log(u)}}},{key:"onInputChange",value:function(i){var a=EYe(i.target.files);a.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(a)),i.target.value=null}},{key:"handleDragOver",value:function(i){var a,o;i.preventDefault(),i.stopPropagation();var u=i.dataTransfer.types,s=u.some(function(f){return f==="Files"}),l=this.uppy.getState(),c=l.allowNewUpload;if(!s||!c){i.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}i.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(a=(o=this.opts).onDragOver)==null||a.call(o,i)}},{key:"handleDragLeave",value:function(i){var a=this,o,u;i.preventDefault(),i.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(function(){a.setPluginState({isDraggingOver:!1})},50),(o=(u=this.opts).onDragLeave)==null||o.call(u,i)}},{key:"renderHiddenFileInput",value:function(){var i=this,a=this.uppy.opts.restrictions;return Ua("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function(u){i.fileInputRef=u},name:this.opts.inputName,multiple:a.maxNumberOfFiles!==1,accept:a.allowedFileTypes,onChange:this.onInputChange})}},{key:"renderLabel",value:function(){return Ua("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:Ua("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}},{key:"renderNote",value:function(){return Ua("span",{className:"uppy-DragDrop-note"},this.opts.note)}},{key:"render",value:function(){var i=this,a="uppy-Root\n      uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),o={width:this.opts.width,height:this.opts.height};return Ua("button",{type:"button",className:a,style:o,onClick:function(){return i.fileInputRef.click()},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),Ua("div",{className:"uppy-DragDrop-inner"},r.renderArrowSvg(),this.renderLabel(),this.renderNote()))}},{key:"install",value:function(){var i=this.opts.target;this.setPluginState({isDraggingOver:!1}),i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}],[{key:"renderArrowSvg",value:function(){return Ua("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},Ua("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}}]),r}(RYe),VY.VERSION="2.0.6",WY)});var rX=h(function(Amt,tX){function sg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sg=function(r){return typeof r}:sg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sg(t)}function YY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YY(Object(r),!0).forEach(function(n){xYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JY(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function FYe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){JY(a,n,i,o,u,"next",s)}function u(s){JY(a,n,i,o,u,"throw",s)}o(void 0)})}}function CYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function DYe(t,e,r){return e&&QY(t.prototype,e),r&&QY(t,r),t}function UYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nR(t,e)}function nR(t,e){return nR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},nR(t,e)}function jYe(t){var e=BYe();return function(){var n=lg(t),i;if(e){var a=lg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return MYe(this,i)}}function MYe(t,e){if(e&&(sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NYe(t)}function NYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},lg(t)}var ZY,eX,LYe=_n(),zYe=jy(),$Ye=En();tX.exports=(eX=ZY=function(t){UYe(r,t);var e=jYe(r);function r(n,i){var a;CYe(this,r),a=e.call(this,n,i),a.addFiles=function(u){var s=u.map(function(l){return{source:a.id,name:l.name,type:l.type,data:l,meta:{relativePath:l.relativePath||null}}});try{a.uppy.addFiles(s)}catch(l){a.uppy.log(l)}},a.handleDrop=function(){var u=FYe(regeneratorRuntime.mark(function s(l){var c,f,p,d,v;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return l.preventDefault(),l.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),l.currentTarget.classList.remove("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins(function(_){_.type==="acquirer"&&(_.handleRootDrop==null||_.handleRootDrop(l))}),p=!1,d=function(O){a.uppy.log(O,"error"),p||(a.uppy.info(O.message,"error"),p=!0)},m.next=10,zYe(l.dataTransfer,{logDropError:d});case 10:v=m.sent,v.length>0&&(a.uppy.log("[DropTarget] Files were dropped"),a.addFiles(v)),(c=(f=a.opts).onDrop)==null||c.call(f,l);case 13:case"end":return m.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),a.handleDragOver=function(u){var s,l;u.preventDefault(),u.stopPropagation(),u.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),u.currentTarget.classList.add("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!0}),(s=(l=a.opts).onDragOver)==null||s.call(l,u)},a.handleDragLeave=function(u){var s,l;u.preventDefault(),u.stopPropagation();var c=u.currentTarget;clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout(function(){c.classList.remove("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!1})},50),(s=(l=a.opts).onDragLeave)==null||s.call(l,u)},a.addListeners=function(){var u=a.opts.target;if(u instanceof Element?a.nodes=[u]:typeof u=="string"&&(a.nodes=$Ye(document.querySelectorAll(u))),!a.nodes&&!a.nodes.length>0)throw new Error('"'.concat(u,'" does not match any HTML elements'));a.nodes.forEach(function(s){s.addEventListener("dragover",a.handleDragOver,!1),s.addEventListener("dragleave",a.handleDragLeave,!1),s.addEventListener("drop",a.handleDrop,!1)})},a.removeListeners=function(){a.nodes&&a.nodes.forEach(function(u){u.removeEventListener("dragover",a.handleDragOver,!1),u.removeEventListener("dragleave",a.handleDragLeave,!1),u.removeEventListener("drop",a.handleDrop,!1)})},a.type="acquirer",a.id=a.opts.id||"DropTarget",a.title="Drop Target";var o={target:null};return a.opts=XY(XY({},o),i),a.removeDragOverClassTimeout=null,a}return DYe(r,[{key:"install",value:function(){this.setPluginState({isDraggingOver:!1}),this.addListeners()}},{key:"uninstall",value:function(){this.removeListeners()}}]),r}(LYe),ZY.VERSION="1.1.1",eX)});var iX=h(function(Imt,nX){nX.exports={strings:{chooseFiles:"Choose files"}}});var fX=h(function(kmt,cX){function cg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cg=function(r){return typeof r}:cg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cg(t)}function aX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aX(Object(r),!0).forEach(function(n){HYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function WYe(t,e,r){return e&&uX(t.prototype,e),r&&uX(t,r),t}function GYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iR(t,e)}function iR(t,e){return iR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},iR(t,e)}function KYe(t){var e=XYe();return function(){var n=pg(t),i;if(e){var a=pg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return YYe(this,i)}}function YYe(t,e){if(e&&(cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fg(t)}function fg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},pg(t)}var sX,lX,JYe=ot(),QYe=JYe.UIPlugin,ZYe=En(),eXe=(Z(),ee(te)),aR=eXe.h,tXe=iX();cX.exports=(lX=sX=function(t){GYe(r,t);var e=KYe(r);function r(n,i){var a;VYe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"FileInput",a.title="File Input",a.type="acquirer",a.defaultLocale=tXe;var o={target:null,pretty:!0,inputName:"files[]"};return a.opts=oX(oX({},o),i),a.i18nInit(),a.render=a.render.bind(fg(a)),a.handleInputChange=a.handleInputChange.bind(fg(a)),a.handleClick=a.handleClick.bind(fg(a)),a}return WYe(r,[{key:"addFiles",value:function(i){var a=this,o=i.map(function(u){return{source:a.id,name:u.name,type:u.type,data:u}});try{this.uppy.addFiles(o)}catch(u){this.uppy.log(u)}}},{key:"handleInputChange",value:function(i){this.uppy.log("[FileInput] Something selected through input...");var a=ZYe(i.target.files);this.addFiles(a),i.target.value=null}},{key:"handleClick",value:function(){this.input.click()}},{key:"render",value:function(){var i=this,a={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},o=this.uppy.opts.restrictions,u=o.allowedFileTypes?o.allowedFileTypes.join(","):null;return aR("div",{className:"uppy-Root uppy-FileInput-container"},aR("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&a,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:o.maxNumberOfFiles!==1,accept:u,ref:function(l){i.input=l}}),this.opts.pretty&&aR("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(QYe),sX.VERSION="2.0.5",lX)});var bX=h(function(xmt,mX){function dg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dg=function(r){return typeof r}:dg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dg(t)}function pX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pX(Object(r),!0).forEach(function(n){rXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function iXe(t,e,r){return e&&hX(t.prototype,e),r&&hX(t,r),t}function aXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oR(t,e)}function oR(t,e){return oR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},oR(t,e)}function oXe(t){var e=sXe();return function(){var n=hg(t),i;if(e){var a=hg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return uXe(this,i)}}function uXe(t,e){if(e&&(dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vX(t)}function vX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(t)}var yX,gX,lXe=ot(),cXe=lXe.UIPlugin,fXe=(Z(),ee(te)),uR=fXe.h;mX.exports=(gX=yX=function(t){aXe(r,t);var e=oXe(r);function r(n,i){var a;nXe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"ProgressBar",a.title="Progress Bar",a.type="progressindicator";var o={target:"body",fixed:!1,hideAfterFinish:!0};return a.opts=dX(dX({},o),i),a.render=a.render.bind(vX(a)),a}return iXe(r,[{key:"render",value:function(i){var a=i.totalProgress||0,o=(a===0||a===100)&&this.opts.hideAfterFinish;return uR("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":o},uR("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(a,"%")}}),uR("div",{className:"uppy-ProgressBar-percentage"},a))}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(cXe),yX.VERSION="2.0.4",gX)});var _X=h(function(yg,sR){function vg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vg=function(r){return typeof r}:vg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vg(t)}(function(t,e){(typeof yg=="undefined"?"undefined":vg(yg))==="object"&&typeof sR!="undefined"?sR.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.Cropper=e())})(yg,function(){"use strict";function t(q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(w){return typeof w}:t=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},t(q)}function e(q,y){if(!(q instanceof y))throw new TypeError("Cannot call a class as a function")}function r(q,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(q,b.key,b)}}function n(q,y,w){return y&&r(q.prototype,y),w&&r(q,w),q}function i(q,y,w){return y in q?Object.defineProperty(q,y,{value:w,enumerable:!0,configurable:!0,writable:!0}):q[y]=w,q}function a(q,y){var w=Object.keys(q);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(q);y&&(b=b.filter(function(I){return Object.getOwnPropertyDescriptor(q,I).enumerable})),w.push.apply(w,b)}return w}function o(q){for(var y=1;y<arguments.length;y++){var w=arguments[y]!=null?arguments[y]:{};y%2?a(Object(w),!0).forEach(function(b){i(q,b,w[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(w)):a(Object(w)).forEach(function(b){Object.defineProperty(q,b,Object.getOwnPropertyDescriptor(w,b))})}return q}function u(q){return s(q)||l(q)||c(q)||p()}function s(q){if(Array.isArray(q))return f(q)}function l(q){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(q))return Array.from(q)}function c(q,y){if(!!q){if(typeof q=="string")return f(q,y);var w=Object.prototype.toString.call(q).slice(8,-1);if(w==="Object"&&q.constructor&&(w=q.constructor.name),w==="Map"||w==="Set")return Array.from(q);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return f(q,y)}}function f(q,y){(y==null||y>q.length)&&(y=q.length);for(var w=0,b=new Array(y);w<y;w++)b[w]=q[w];return b}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d=typeof window!="undefined"&&typeof window.document!="undefined",v=d?window:{},g=d&&v.document.documentElement?"ontouchstart"in v.document.documentElement:!1,m=d?"PointerEvent"in v:!1,_="cropper",O="all",E="crop",F="move",j="zoom",C="e",Y="w",ie="s",T="n",N="ne",re="nw",J="se",A="sw",k="".concat(_,"-crop"),$="".concat(_,"-disabled"),D="".concat(_,"-hidden"),U="".concat(_,"-hide"),L="".concat(_,"-invisible"),ne="".concat(_,"-modal"),fe="".concat(_,"-move"),ce="".concat(_,"Action"),$e="".concat(_,"Preview"),nt="crop",St="move",Ot="none",kr="crop",un="cropend",Ht="cropmove",Tl="cropstart",nA="dblclick",sae=g?"touchstart":"mousedown",lae=g?"touchmove":"mousemove",cae=g?"touchend touchcancel":"mouseup",iA=m?"pointerdown":sae,aA=m?"pointermove":lae,oA=m?"pointerup pointercancel":cae,uA="ready",sA="resize",lA="wheel",e_="zoom",cA="image/jpeg",fae=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,pae=/^data:/,dae=/^data:image\/jpeg;base64,/,hae=/^img|canvas$/i,fA={viewMode:0,dragMode:nt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},vae='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',yae=Number.isNaN||v.isNaN;function Pe(q){return typeof q=="number"&&!yae(q)}var pA=function(y){return y>0&&y<1/0};function t_(q){return typeof q=="undefined"}function Qa(q){return t(q)==="object"&&q!==null}var gae=Object.prototype.hasOwnProperty;function hu(q){if(!Qa(q))return!1;try{var y=q.constructor,w=y.prototype;return y&&w&&gae.call(w,"isPrototypeOf")}catch(b){return!1}}function ur(q){return typeof q=="function"}var mae=Array.prototype.slice;function dA(q){return Array.from?Array.from(q):mae.call(q)}function ft(q,y){return q&&ur(y)&&(Array.isArray(q)||Pe(q.length)?dA(q).forEach(function(w,b){y.call(q,w,b,q)}):Qa(q)&&Object.keys(q).forEach(function(w){y.call(q,q[w],w,q)})),q}var Qe=Object.assign||function(y){for(var w=arguments.length,b=new Array(w>1?w-1:0),I=1;I<w;I++)b[I-1]=arguments[I];return Qa(y)&&b.length>0&&b.forEach(function(R){Qa(R)&&Object.keys(R).forEach(function(x){y[x]=R[x]})}),y},bae=/\.\d*(?:0|9){12}\d*$/;function vu(q){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return bae.test(q)?Math.round(q*y)/y:q}var _ae=/^width|height|left|top|marginLeft|marginTop$/;function ea(q,y){var w=q.style;ft(y,function(b,I){_ae.test(I)&&Pe(b)&&(b="".concat(b,"px")),w[I]=b})}function wae(q,y){return q.classList?q.classList.contains(y):q.className.indexOf(y)>-1}function Pt(q,y){if(!!y){if(Pe(q.length)){ft(q,function(b){Pt(b,y)});return}if(q.classList){q.classList.add(y);return}var w=q.className.trim();w?w.indexOf(y)<0&&(q.className="".concat(w," ").concat(y)):q.className=y}}function Fn(q,y){if(!!y){if(Pe(q.length)){ft(q,function(w){Fn(w,y)});return}if(q.classList){q.classList.remove(y);return}q.className.indexOf(y)>=0&&(q.className=q.className.replace(y,""))}}function yu(q,y,w){if(!!y){if(Pe(q.length)){ft(q,function(b){yu(b,y,w)});return}w?Pt(q,y):Fn(q,y)}}var Sae=/([a-z\d])([A-Z])/g;function r_(q){return q.replace(Sae,"$1-$2").toLowerCase()}function n_(q,y){return Qa(q[y])?q[y]:q.dataset?q.dataset[y]:q.getAttribute("data-".concat(r_(y)))}function Al(q,y,w){Qa(w)?q[y]=w:q.dataset?q.dataset[y]=w:q.setAttribute("data-".concat(r_(y)),w)}function Oae(q,y){if(Qa(q[y]))try{delete q[y]}catch(w){q[y]=void 0}else if(q.dataset)try{delete q.dataset[y]}catch(w){q.dataset[y]=void 0}else q.removeAttribute("data-".concat(r_(y)))}var hA=/\s\s*/,vA=function(){var q=!1;if(d){var y=!1,w=function(){},b=Object.defineProperty({},"once",{get:function(){return q=!0,y},set:function(R){y=R}});v.addEventListener("test",w,b),v.removeEventListener("test",w,b)}return q}();function sn(q,y,w){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},I=w;y.trim().split(hA).forEach(function(R){if(!vA){var x=q.listeners;x&&x[R]&&x[R][w]&&(I=x[R][w],delete x[R][w],Object.keys(x[R]).length===0&&delete x[R],Object.keys(x).length===0&&delete q.listeners)}q.removeEventListener(R,I,b)})}function xr(q,y,w){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},I=w;y.trim().split(hA).forEach(function(R){if(b.once&&!vA){var x=q.listeners,M=x===void 0?{}:x;I=function(){delete M[R][w],q.removeEventListener(R,I,b);for(var V=arguments.length,H=new Array(V),B=0;B<V;B++)H[B]=arguments[B];w.apply(q,H)},M[R]||(M[R]={}),M[R][w]&&q.removeEventListener(R,M[R][w],b),M[R][w]=I,q.listeners=M}q.addEventListener(R,I,b)})}function gu(q,y,w){var b;return ur(Event)&&ur(CustomEvent)?b=new CustomEvent(y,{detail:w,bubbles:!0,cancelable:!0}):(b=document.createEvent("CustomEvent"),b.initCustomEvent(y,!0,!0,w)),q.dispatchEvent(b)}function yA(q){var y=q.getBoundingClientRect();return{left:y.left+(window.pageXOffset-document.documentElement.clientLeft),top:y.top+(window.pageYOffset-document.documentElement.clientTop)}}var i_=v.location,Pae=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function gA(q){var y=q.match(Pae);return y!==null&&(y[1]!==i_.protocol||y[2]!==i_.hostname||y[3]!==i_.port)}function mA(q){var y="timestamp=".concat(new Date().getTime());return q+(q.indexOf("?")===-1?"?":"&")+y}function Il(q){var y=q.rotate,w=q.scaleX,b=q.scaleY,I=q.translateX,R=q.translateY,x=[];Pe(I)&&I!==0&&x.push("translateX(".concat(I,"px)")),Pe(R)&&R!==0&&x.push("translateY(".concat(R,"px)")),Pe(y)&&y!==0&&x.push("rotate(".concat(y,"deg)")),Pe(w)&&w!==1&&x.push("scaleX(".concat(w,")")),Pe(b)&&b!==1&&x.push("scaleY(".concat(b,")"));var M=x.length?x.join(" "):"none";return{WebkitTransform:M,msTransform:M,transform:M}}function qae(q){var y=o({},q),w=[];return ft(q,function(b,I){delete y[I],ft(y,function(R){var x=Math.abs(b.startX-R.startX),M=Math.abs(b.startY-R.startY),K=Math.abs(b.endX-R.endX),V=Math.abs(b.endY-R.endY),H=Math.sqrt(x*x+M*M),B=Math.sqrt(K*K+V*V),G=(B-H)/H;w.push(G)})}),w.sort(function(b,I){return Math.abs(b)<Math.abs(I)}),w[0]}function Np(q,y){var w=q.pageX,b=q.pageY,I={endX:w,endY:b};return y?I:o({startX:w,startY:b},I)}function Rae(q){var y=0,w=0,b=0;return ft(q,function(I){var R=I.startX,x=I.startY;y+=R,w+=x,b+=1}),y/=b,w/=b,{pageX:y,pageY:w}}function ta(q){var y=q.aspectRatio,w=q.height,b=q.width,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",R=pA(b),x=pA(w);if(R&&x){var M=w*y;I==="contain"&&M>b||I==="cover"&&M<b?w=b/y:b=w*y}else R?w=b/y:x&&(b=w*y);return{width:b,height:w}}function Eae(q){var y=q.width,w=q.height,b=q.degree;if(b=Math.abs(b)%180,b===90)return{width:w,height:y};var I=b%90*Math.PI/180,R=Math.sin(I),x=Math.cos(I),M=y*x+w*R,K=y*R+w*x;return b>90?{width:K,height:M}:{width:M,height:K}}function Tae(q,y,w,b){var I=y.aspectRatio,R=y.naturalWidth,x=y.naturalHeight,M=y.rotate,K=M===void 0?0:M,V=y.scaleX,H=V===void 0?1:V,B=y.scaleY,G=B===void 0?1:B,ke=w.aspectRatio,qe=w.naturalWidth,Ze=w.naturalHeight,je=b.fillColor,gt=je===void 0?"transparent":je,qt=b.imageSmoothingEnabled,pt=qt===void 0?!0:qt,ci=b.imageSmoothingQuality,br=ci===void 0?"low":ci,Q=b.maxWidth,Me=Q===void 0?1/0:Q,mt=b.maxHeight,Fr=mt===void 0?1/0:mt,fi=b.minWidth,Za=fi===void 0?0:fi,eo=b.minHeight,ra=eo===void 0?0:eo,Cn=document.createElement("canvas"),sr=Cn.getContext("2d"),to=ta({aspectRatio:ke,width:Me,height:Fr}),Bp=ta({aspectRatio:ke,width:Za,height:ra},"cover"),a_=Math.min(to.width,Math.max(Bp.width,qe)),o_=Math.min(to.height,Math.max(Bp.height,Ze)),wA=ta({aspectRatio:I,width:Me,height:Fr}),SA=ta({aspectRatio:I,width:Za,height:ra},"cover"),OA=Math.min(wA.width,Math.max(SA.width,R)),PA=Math.min(wA.height,Math.max(SA.height,x)),zae=[-OA/2,-PA/2,OA,PA];return Cn.width=vu(a_),Cn.height=vu(o_),sr.fillStyle=gt,sr.fillRect(0,0,a_,o_),sr.save(),sr.translate(a_/2,o_/2),sr.rotate(K*Math.PI/180),sr.scale(H,G),sr.imageSmoothingEnabled=pt,sr.imageSmoothingQuality=br,sr.drawImage.apply(sr,[q].concat(u(zae.map(function($ae){return Math.floor(vu($ae))})))),sr.restore(),Cn}var bA=String.fromCharCode;function Aae(q,y,w){var b="";w+=y;for(var I=y;I<w;I+=1)b+=bA(q.getUint8(I));return b}var Iae=/^data:.*,/;function kae(q){var y=q.replace(Iae,""),w=atob(y),b=new ArrayBuffer(w.length),I=new Uint8Array(b);return ft(I,function(R,x){I[x]=w.charCodeAt(x)}),b}function xae(q,y){for(var w=[],b=8192,I=new Uint8Array(q);I.length>0;)w.push(bA.apply(null,dA(I.subarray(0,b)))),I=I.subarray(b);return"data:".concat(y,";base64,").concat(btoa(w.join("")))}function Fae(q){var y=new DataView(q),w;try{var b,I,R;if(y.getUint8(0)===255&&y.getUint8(1)===216)for(var x=y.byteLength,M=2;M+1<x;){if(y.getUint8(M)===255&&y.getUint8(M+1)===225){I=M;break}M+=1}if(I){var K=I+4,V=I+10;if(Aae(y,K,4)==="Exif"){var H=y.getUint16(V);if(b=H===18761,(b||H===19789)&&y.getUint16(V+2,b)===42){var B=y.getUint32(V+4,b);B>=8&&(R=V+B)}}}if(R){var G=y.getUint16(R,b),ke,qe;for(qe=0;qe<G;qe+=1)if(ke=R+qe*12+2,y.getUint16(ke,b)===274){ke+=8,w=y.getUint16(ke,b),y.setUint16(ke,1,b);break}}}catch(Ze){w=1}return w}function Cae(q){var y=0,w=1,b=1;switch(q){case 2:w=-1;break;case 3:y=-180;break;case 4:b=-1;break;case 5:y=90,b=-1;break;case 6:y=90;break;case 7:y=90,w=-1;break;case 8:y=-90;break}return{rotate:y,scaleX:w,scaleY:b}}var Dae={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var y=this.element,w=this.options,b=this.container,I=this.cropper;Pt(I,D),Fn(y,D);var R={width:Math.max(b.offsetWidth,Number(w.minContainerWidth)||200),height:Math.max(b.offsetHeight,Number(w.minContainerHeight)||100)};this.containerData=R,ea(I,{width:R.width,height:R.height}),Pt(y,D),Fn(I,D)},initCanvas:function(){var y=this.containerData,w=this.imageData,b=this.options.viewMode,I=Math.abs(w.rotate)%180==90,R=I?w.naturalHeight:w.naturalWidth,x=I?w.naturalWidth:w.naturalHeight,M=R/x,K=y.width,V=y.height;y.height*M>y.width?b===3?K=y.height*M:V=y.width/M:b===3?V=y.width/M:K=y.height*M;var H={aspectRatio:M,naturalWidth:R,naturalHeight:x,width:K,height:V};H.left=(y.width-K)/2,H.top=(y.height-V)/2,H.oldLeft=H.left,H.oldTop=H.top,this.canvasData=H,this.limited=b===1||b===2,this.limitCanvas(!0,!0),this.initialImageData=Qe({},w),this.initialCanvasData=Qe({},H)},limitCanvas:function(y,w){var b=this.options,I=this.containerData,R=this.canvasData,x=this.cropBoxData,M=b.viewMode,K=R.aspectRatio,V=this.cropped&&x;if(y){var H=Number(b.minCanvasWidth)||0,B=Number(b.minCanvasHeight)||0;M>1?(H=Math.max(H,I.width),B=Math.max(B,I.height),M===3&&(B*K>H?H=B*K:B=H/K)):M>0&&(H?H=Math.max(H,V?x.width:0):B?B=Math.max(B,V?x.height:0):V&&(H=x.width,B=x.height,B*K>H?H=B*K:B=H/K));var G=ta({aspectRatio:K,width:H,height:B});H=G.width,B=G.height,R.minWidth=H,R.minHeight=B,R.maxWidth=1/0,R.maxHeight=1/0}if(w)if(M>(V?0:1)){var ke=I.width-R.width,qe=I.height-R.height;R.minLeft=Math.min(0,ke),R.minTop=Math.min(0,qe),R.maxLeft=Math.max(0,ke),R.maxTop=Math.max(0,qe),V&&this.limited&&(R.minLeft=Math.min(x.left,x.left+(x.width-R.width)),R.minTop=Math.min(x.top,x.top+(x.height-R.height)),R.maxLeft=x.left,R.maxTop=x.top,M===2&&(R.width>=I.width&&(R.minLeft=Math.min(0,ke),R.maxLeft=Math.max(0,ke)),R.height>=I.height&&(R.minTop=Math.min(0,qe),R.maxTop=Math.max(0,qe))))}else R.minLeft=-R.width,R.minTop=-R.height,R.maxLeft=I.width,R.maxTop=I.height},renderCanvas:function(y,w){var b=this.canvasData,I=this.imageData;if(w){var R=Eae({width:I.naturalWidth*Math.abs(I.scaleX||1),height:I.naturalHeight*Math.abs(I.scaleY||1),degree:I.rotate||0}),x=R.width,M=R.height,K=b.width*(x/b.naturalWidth),V=b.height*(M/b.naturalHeight);b.left-=(K-b.width)/2,b.top-=(V-b.height)/2,b.width=K,b.height=V,b.aspectRatio=x/M,b.naturalWidth=x,b.naturalHeight=M,this.limitCanvas(!0,!1)}(b.width>b.maxWidth||b.width<b.minWidth)&&(b.left=b.oldLeft),(b.height>b.maxHeight||b.height<b.minHeight)&&(b.top=b.oldTop),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),this.limitCanvas(!1,!0),b.left=Math.min(Math.max(b.left,b.minLeft),b.maxLeft),b.top=Math.min(Math.max(b.top,b.minTop),b.maxTop),b.oldLeft=b.left,b.oldTop=b.top,ea(this.canvas,Qe({width:b.width,height:b.height},Il({translateX:b.left,translateY:b.top}))),this.renderImage(y),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(y){var w=this.canvasData,b=this.imageData,I=b.naturalWidth*(w.width/w.naturalWidth),R=b.naturalHeight*(w.height/w.naturalHeight);Qe(b,{width:I,height:R,left:(w.width-I)/2,top:(w.height-R)/2}),ea(this.image,Qe({width:b.width,height:b.height},Il(Qe({translateX:b.left,translateY:b.top},b)))),y&&this.output()},initCropBox:function(){var y=this.options,w=this.canvasData,b=y.aspectRatio||y.initialAspectRatio,I=Number(y.autoCropArea)||.8,R={width:w.width,height:w.height};b&&(w.height*b>w.width?R.height=R.width/b:R.width=R.height*b),this.cropBoxData=R,this.limitCropBox(!0,!0),R.width=Math.min(Math.max(R.width,R.minWidth),R.maxWidth),R.height=Math.min(Math.max(R.height,R.minHeight),R.maxHeight),R.width=Math.max(R.minWidth,R.width*I),R.height=Math.max(R.minHeight,R.height*I),R.left=w.left+(w.width-R.width)/2,R.top=w.top+(w.height-R.height)/2,R.oldLeft=R.left,R.oldTop=R.top,this.initialCropBoxData=Qe({},R)},limitCropBox:function(y,w){var b=this.options,I=this.containerData,R=this.canvasData,x=this.cropBoxData,M=this.limited,K=b.aspectRatio;if(y){var V=Number(b.minCropBoxWidth)||0,H=Number(b.minCropBoxHeight)||0,B=M?Math.min(I.width,R.width,R.width+R.left,I.width-R.left):I.width,G=M?Math.min(I.height,R.height,R.height+R.top,I.height-R.top):I.height;V=Math.min(V,I.width),H=Math.min(H,I.height),K&&(V&&H?H*K>V?H=V/K:V=H*K:V?H=V/K:H&&(V=H*K),G*K>B?G=B/K:B=G*K),x.minWidth=Math.min(V,B),x.minHeight=Math.min(H,G),x.maxWidth=B,x.maxHeight=G}w&&(M?(x.minLeft=Math.max(0,R.left),x.minTop=Math.max(0,R.top),x.maxLeft=Math.min(I.width,R.left+R.width)-x.width,x.maxTop=Math.min(I.height,R.top+R.height)-x.height):(x.minLeft=0,x.minTop=0,x.maxLeft=I.width-x.width,x.maxTop=I.height-x.height))},renderCropBox:function(){var y=this.options,w=this.containerData,b=this.cropBoxData;(b.width>b.maxWidth||b.width<b.minWidth)&&(b.left=b.oldLeft),(b.height>b.maxHeight||b.height<b.minHeight)&&(b.top=b.oldTop),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),this.limitCropBox(!1,!0),b.left=Math.min(Math.max(b.left,b.minLeft),b.maxLeft),b.top=Math.min(Math.max(b.top,b.minTop),b.maxTop),b.oldLeft=b.left,b.oldTop=b.top,y.movable&&y.cropBoxMovable&&Al(this.face,ce,b.width>=w.width&&b.height>=w.height?F:O),ea(this.cropBox,Qe({width:b.width,height:b.height},Il({translateX:b.left,translateY:b.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),gu(this.element,kr,this.getData())}},Uae={initPreview:function(){var y=this.element,w=this.crossOrigin,b=this.options.preview,I=w?this.crossOriginUrl:this.url,R=y.alt||"The image to preview",x=document.createElement("img");if(w&&(x.crossOrigin=w),x.src=I,x.alt=R,this.viewBox.appendChild(x),this.viewBoxImage=x,!!b){var M=b;typeof b=="string"?M=y.ownerDocument.querySelectorAll(b):b.querySelector&&(M=[b]),this.previews=M,ft(M,function(K){var V=document.createElement("img");Al(K,$e,{width:K.offsetWidth,height:K.offsetHeight,html:K.innerHTML}),w&&(V.crossOrigin=w),V.src=I,V.alt=R,V.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',K.innerHTML="",K.appendChild(V)})}},resetPreview:function(){ft(this.previews,function(y){var w=n_(y,$e);ea(y,{width:w.width,height:w.height}),y.innerHTML=w.html,Oae(y,$e)})},preview:function(){var y=this.imageData,w=this.canvasData,b=this.cropBoxData,I=b.width,R=b.height,x=y.width,M=y.height,K=b.left-w.left-y.left,V=b.top-w.top-y.top;!this.cropped||this.disabled||(ea(this.viewBoxImage,Qe({width:x,height:M},Il(Qe({translateX:-K,translateY:-V},y)))),ft(this.previews,function(H){var B=n_(H,$e),G=B.width,ke=B.height,qe=G,Ze=ke,je=1;I&&(je=G/I,Ze=R*je),R&&Ze>ke&&(je=ke/R,qe=I*je,Ze=ke),ea(H,{width:qe,height:Ze}),ea(H.getElementsByTagName("img")[0],Qe({width:x*je,height:M*je},Il(Qe({translateX:-K*je,translateY:-V*je},y))))}))}},jae={bind:function(){var y=this.element,w=this.options,b=this.cropper;ur(w.cropstart)&&xr(y,Tl,w.cropstart),ur(w.cropmove)&&xr(y,Ht,w.cropmove),ur(w.cropend)&&xr(y,un,w.cropend),ur(w.crop)&&xr(y,kr,w.crop),ur(w.zoom)&&xr(y,e_,w.zoom),xr(b,iA,this.onCropStart=this.cropStart.bind(this)),w.zoomable&&w.zoomOnWheel&&xr(b,lA,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),w.toggleDragModeOnDblclick&&xr(b,nA,this.onDblclick=this.dblclick.bind(this)),xr(y.ownerDocument,aA,this.onCropMove=this.cropMove.bind(this)),xr(y.ownerDocument,oA,this.onCropEnd=this.cropEnd.bind(this)),w.responsive&&xr(window,sA,this.onResize=this.resize.bind(this))},unbind:function(){var y=this.element,w=this.options,b=this.cropper;ur(w.cropstart)&&sn(y,Tl,w.cropstart),ur(w.cropmove)&&sn(y,Ht,w.cropmove),ur(w.cropend)&&sn(y,un,w.cropend),ur(w.crop)&&sn(y,kr,w.crop),ur(w.zoom)&&sn(y,e_,w.zoom),sn(b,iA,this.onCropStart),w.zoomable&&w.zoomOnWheel&&sn(b,lA,this.onWheel,{passive:!1,capture:!0}),w.toggleDragModeOnDblclick&&sn(b,nA,this.onDblclick),sn(y.ownerDocument,aA,this.onCropMove),sn(y.ownerDocument,oA,this.onCropEnd),w.responsive&&sn(window,sA,this.onResize)}},Mae={resize:function(){if(!this.disabled){var y=this.options,w=this.container,b=this.containerData,I=w.offsetWidth/b.width;if(I!==1||w.offsetHeight!==b.height){var R,x;y.restore&&(R=this.getCanvasData(),x=this.getCropBoxData()),this.render(),y.restore&&(this.setCanvasData(ft(R,function(M,K){R[K]=M*I})),this.setCropBoxData(ft(x,function(M,K){x[K]=M*I})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ot||this.setDragMode(wae(this.dragBox,k)?St:nt)},wheel:function(y){var w=this,b=Number(this.options.wheelZoomRatio)||.1,I=1;this.disabled||(y.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){w.wheeling=!1},50),y.deltaY?I=y.deltaY>0?1:-1:y.wheelDelta?I=-y.wheelDelta/120:y.detail&&(I=y.detail>0?1:-1),this.zoom(-I*b,y)))},cropStart:function(y){var w=y.buttons,b=y.button;if(!(this.disabled||(y.type==="mousedown"||y.type==="pointerdown"&&y.pointerType==="mouse")&&(Pe(w)&&w!==1||Pe(b)&&b!==0||y.ctrlKey))){var I=this.options,R=this.pointers,x;y.changedTouches?ft(y.changedTouches,function(M){R[M.identifier]=Np(M)}):R[y.pointerId||0]=Np(y),Object.keys(R).length>1&&I.zoomable&&I.zoomOnTouch?x=j:x=n_(y.target,ce),!!fae.test(x)&&gu(this.element,Tl,{originalEvent:y,action:x})!==!1&&(y.preventDefault(),this.action=x,this.cropping=!1,x===E&&(this.cropping=!0,Pt(this.dragBox,ne)))}},cropMove:function(y){var w=this.action;if(!(this.disabled||!w)){var b=this.pointers;y.preventDefault(),gu(this.element,Ht,{originalEvent:y,action:w})!==!1&&(y.changedTouches?ft(y.changedTouches,function(I){Qe(b[I.identifier]||{},Np(I,!0))}):Qe(b[y.pointerId||0]||{},Np(y,!0)),this.change(y))}},cropEnd:function(y){if(!this.disabled){var w=this.action,b=this.pointers;y.changedTouches?ft(y.changedTouches,function(I){delete b[I.identifier]}):delete b[y.pointerId||0],!!w&&(y.preventDefault(),Object.keys(b).length||(this.action=""),this.cropping&&(this.cropping=!1,yu(this.dragBox,ne,this.cropped&&this.options.modal)),gu(this.element,un,{originalEvent:y,action:w}))}}},Nae={change:function(y){var w=this.options,b=this.canvasData,I=this.containerData,R=this.cropBoxData,x=this.pointers,M=this.action,K=w.aspectRatio,V=R.left,H=R.top,B=R.width,G=R.height,ke=V+B,qe=H+G,Ze=0,je=0,gt=I.width,qt=I.height,pt=!0,ci;!K&&y.shiftKey&&(K=B&&G?B/G:1),this.limited&&(Ze=R.minLeft,je=R.minTop,gt=Ze+Math.min(I.width,b.width,b.left+b.width),qt=je+Math.min(I.height,b.height,b.top+b.height));var br=x[Object.keys(x)[0]],Q={x:br.endX-br.startX,y:br.endY-br.startY},Me=function(Fr){switch(Fr){case C:ke+Q.x>gt&&(Q.x=gt-ke);break;case Y:V+Q.x<Ze&&(Q.x=Ze-V);break;case T:H+Q.y<je&&(Q.y=je-H);break;case ie:qe+Q.y>qt&&(Q.y=qt-qe);break}};switch(M){case O:V+=Q.x,H+=Q.y;break;case C:if(Q.x>=0&&(ke>=gt||K&&(H<=je||qe>=qt))){pt=!1;break}Me(C),B+=Q.x,B<0&&(M=Y,B=-B,V-=B),K&&(G=B/K,H+=(R.height-G)/2);break;case T:if(Q.y<=0&&(H<=je||K&&(V<=Ze||ke>=gt))){pt=!1;break}Me(T),G-=Q.y,H+=Q.y,G<0&&(M=ie,G=-G,H-=G),K&&(B=G*K,V+=(R.width-B)/2);break;case Y:if(Q.x<=0&&(V<=Ze||K&&(H<=je||qe>=qt))){pt=!1;break}Me(Y),B-=Q.x,V+=Q.x,B<0&&(M=C,B=-B,V-=B),K&&(G=B/K,H+=(R.height-G)/2);break;case ie:if(Q.y>=0&&(qe>=qt||K&&(V<=Ze||ke>=gt))){pt=!1;break}Me(ie),G+=Q.y,G<0&&(M=T,G=-G,H-=G),K&&(B=G*K,V+=(R.width-B)/2);break;case N:if(K){if(Q.y<=0&&(H<=je||ke>=gt)){pt=!1;break}Me(T),G-=Q.y,H+=Q.y,B=G*K}else Me(T),Me(C),Q.x>=0?ke<gt?B+=Q.x:Q.y<=0&&H<=je&&(pt=!1):B+=Q.x,Q.y<=0?H>je&&(G-=Q.y,H+=Q.y):(G-=Q.y,H+=Q.y);B<0&&G<0?(M=A,G=-G,B=-B,H-=G,V-=B):B<0?(M=re,B=-B,V-=B):G<0&&(M=J,G=-G,H-=G);break;case re:if(K){if(Q.y<=0&&(H<=je||V<=Ze)){pt=!1;break}Me(T),G-=Q.y,H+=Q.y,B=G*K,V+=R.width-B}else Me(T),Me(Y),Q.x<=0?V>Ze?(B-=Q.x,V+=Q.x):Q.y<=0&&H<=je&&(pt=!1):(B-=Q.x,V+=Q.x),Q.y<=0?H>je&&(G-=Q.y,H+=Q.y):(G-=Q.y,H+=Q.y);B<0&&G<0?(M=J,G=-G,B=-B,H-=G,V-=B):B<0?(M=N,B=-B,V-=B):G<0&&(M=A,G=-G,H-=G);break;case A:if(K){if(Q.x<=0&&(V<=Ze||qe>=qt)){pt=!1;break}Me(Y),B-=Q.x,V+=Q.x,G=B/K}else Me(ie),Me(Y),Q.x<=0?V>Ze?(B-=Q.x,V+=Q.x):Q.y>=0&&qe>=qt&&(pt=!1):(B-=Q.x,V+=Q.x),Q.y>=0?qe<qt&&(G+=Q.y):G+=Q.y;B<0&&G<0?(M=N,G=-G,B=-B,H-=G,V-=B):B<0?(M=J,B=-B,V-=B):G<0&&(M=re,G=-G,H-=G);break;case J:if(K){if(Q.x>=0&&(ke>=gt||qe>=qt)){pt=!1;break}Me(C),B+=Q.x,G=B/K}else Me(ie),Me(C),Q.x>=0?ke<gt?B+=Q.x:Q.y>=0&&qe>=qt&&(pt=!1):B+=Q.x,Q.y>=0?qe<qt&&(G+=Q.y):G+=Q.y;B<0&&G<0?(M=re,G=-G,B=-B,H-=G,V-=B):B<0?(M=A,B=-B,V-=B):G<0&&(M=N,G=-G,H-=G);break;case F:this.move(Q.x,Q.y),pt=!1;break;case j:this.zoom(qae(x),y),pt=!1;break;case E:if(!Q.x||!Q.y){pt=!1;break}ci=yA(this.cropper),V=br.startX-ci.left,H=br.startY-ci.top,B=R.minWidth,G=R.minHeight,Q.x>0?M=Q.y>0?J:N:Q.x<0&&(V-=B,M=Q.y>0?A:re),Q.y<0&&(H-=G),this.cropped||(Fn(this.cropBox,D),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}pt&&(R.width=B,R.height=G,R.left=V,R.top=H,this.action=M,this.renderCropBox()),ft(x,function(mt){mt.startX=mt.endX,mt.startY=mt.endY})}},Bae={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Pt(this.dragBox,ne),Fn(this.cropBox,D),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Qe({},this.initialImageData),this.canvasData=Qe({},this.initialCanvasData),this.cropBoxData=Qe({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Qe(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Fn(this.dragBox,ne),Pt(this.cropBox,D)),this},replace:function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&y&&(this.isImg&&(this.element.src=y),w?(this.url=y,this.image.src=y,this.ready&&(this.viewBoxImage.src=y,ft(this.previews,function(b){b.getElementsByTagName("img")[0].src=y}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(y))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Fn(this.cropper,$)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Pt(this.cropper,$)),this},destroy:function(){var y=this.element;return y[_]?(y[_]=void 0,this.isImg&&this.replaced&&(y.src=this.originalUrl),this.uncreate(),this):this},move:function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,b=this.canvasData,I=b.left,R=b.top;return this.moveTo(t_(y)?y:I+Number(y),t_(w)?w:R+Number(w))},moveTo:function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,b=this.canvasData,I=!1;return y=Number(y),w=Number(w),this.ready&&!this.disabled&&this.options.movable&&(Pe(y)&&(b.left=y,I=!0),Pe(w)&&(b.top=w,I=!0),I&&this.renderCanvas(!0)),this},zoom:function(y,w){var b=this.canvasData;return y=Number(y),y<0?y=1/(1-y):y=1+y,this.zoomTo(b.width*y/b.naturalWidth,null,w)},zoomTo:function(y,w,b){var I=this.options,R=this.canvasData,x=R.width,M=R.height,K=R.naturalWidth,V=R.naturalHeight;if(y=Number(y),y>=0&&this.ready&&!this.disabled&&I.zoomable){var H=K*y,B=V*y;if(gu(this.element,e_,{ratio:y,oldRatio:x/K,originalEvent:b})===!1)return this;if(b){var G=this.pointers,ke=yA(this.cropper),qe=G&&Object.keys(G).length?Rae(G):{pageX:b.pageX,pageY:b.pageY};R.left-=(H-x)*((qe.pageX-ke.left-R.left)/x),R.top-=(B-M)*((qe.pageY-ke.top-R.top)/M)}else hu(w)&&Pe(w.x)&&Pe(w.y)?(R.left-=(H-x)*((w.x-R.left)/x),R.top-=(B-M)*((w.y-R.top)/M)):(R.left-=(H-x)/2,R.top-=(B-M)/2);R.width=H,R.height=B,this.renderCanvas(!0)}return this},rotate:function(y){return this.rotateTo((this.imageData.rotate||0)+Number(y))},rotateTo:function(y){return y=Number(y),Pe(y)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=y%360,this.renderCanvas(!0,!0)),this},scaleX:function(y){var w=this.imageData.scaleY;return this.scale(y,Pe(w)?w:1)},scaleY:function(y){var w=this.imageData.scaleX;return this.scale(Pe(w)?w:1,y)},scale:function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,b=this.imageData,I=!1;return y=Number(y),w=Number(w),this.ready&&!this.disabled&&this.options.scalable&&(Pe(y)&&(b.scaleX=y,I=!0),Pe(w)&&(b.scaleY=w,I=!0),I&&this.renderCanvas(!0,!0)),this},getData:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,w=this.options,b=this.imageData,I=this.canvasData,R=this.cropBoxData,x;if(this.ready&&this.cropped){x={x:R.left-I.left,y:R.top-I.top,width:R.width,height:R.height};var M=b.width/b.naturalWidth;if(ft(x,function(H,B){x[B]=H/M}),y){var K=Math.round(x.y+x.height),V=Math.round(x.x+x.width);x.x=Math.round(x.x),x.y=Math.round(x.y),x.width=V-x.x,x.height=K-x.y}}else x={x:0,y:0,width:0,height:0};return w.rotatable&&(x.rotate=b.rotate||0),w.scalable&&(x.scaleX=b.scaleX||1,x.scaleY=b.scaleY||1),x},setData:function(y){var w=this.options,b=this.imageData,I=this.canvasData,R={};if(this.ready&&!this.disabled&&hu(y)){var x=!1;w.rotatable&&Pe(y.rotate)&&y.rotate!==b.rotate&&(b.rotate=y.rotate,x=!0),w.scalable&&(Pe(y.scaleX)&&y.scaleX!==b.scaleX&&(b.scaleX=y.scaleX,x=!0),Pe(y.scaleY)&&y.scaleY!==b.scaleY&&(b.scaleY=y.scaleY,x=!0)),x&&this.renderCanvas(!0,!0);var M=b.width/b.naturalWidth;Pe(y.x)&&(R.left=y.x*M+I.left),Pe(y.y)&&(R.top=y.y*M+I.top),Pe(y.width)&&(R.width=y.width*M),Pe(y.height)&&(R.height=y.height*M),this.setCropBoxData(R)}return this},getContainerData:function(){return this.ready?Qe({},this.containerData):{}},getImageData:function(){return this.sized?Qe({},this.imageData):{}},getCanvasData:function(){var y=this.canvasData,w={};return this.ready&&ft(["left","top","width","height","naturalWidth","naturalHeight"],function(b){w[b]=y[b]}),w},setCanvasData:function(y){var w=this.canvasData,b=w.aspectRatio;return this.ready&&!this.disabled&&hu(y)&&(Pe(y.left)&&(w.left=y.left),Pe(y.top)&&(w.top=y.top),Pe(y.width)?(w.width=y.width,w.height=y.width/b):Pe(y.height)&&(w.height=y.height,w.width=y.height*b),this.renderCanvas(!0)),this},getCropBoxData:function(){var y=this.cropBoxData,w;return this.ready&&this.cropped&&(w={left:y.left,top:y.top,width:y.width,height:y.height}),w||{}},setCropBoxData:function(y){var w=this.cropBoxData,b=this.options.aspectRatio,I,R;return this.ready&&this.cropped&&!this.disabled&&hu(y)&&(Pe(y.left)&&(w.left=y.left),Pe(y.top)&&(w.top=y.top),Pe(y.width)&&y.width!==w.width&&(I=!0,w.width=y.width),Pe(y.height)&&y.height!==w.height&&(R=!0,w.height=y.height),b&&(I?w.height=w.width/b:R&&(w.width=w.height*b)),this.renderCropBox()),this},getCroppedCanvas:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var w=this.canvasData,b=Tae(this.image,this.imageData,w,y);if(!this.cropped)return b;var I=this.getData(),R=I.x,x=I.y,M=I.width,K=I.height,V=b.width/Math.floor(w.naturalWidth);V!==1&&(R*=V,x*=V,M*=V,K*=V);var H=M/K,B=ta({aspectRatio:H,width:y.maxWidth||1/0,height:y.maxHeight||1/0}),G=ta({aspectRatio:H,width:y.minWidth||0,height:y.minHeight||0},"cover"),ke=ta({aspectRatio:H,width:y.width||(V!==1?b.width:M),height:y.height||(V!==1?b.height:K)}),qe=ke.width,Ze=ke.height;qe=Math.min(B.width,Math.max(G.width,qe)),Ze=Math.min(B.height,Math.max(G.height,Ze));var je=document.createElement("canvas"),gt=je.getContext("2d");je.width=vu(qe),je.height=vu(Ze),gt.fillStyle=y.fillColor||"transparent",gt.fillRect(0,0,qe,Ze);var qt=y.imageSmoothingEnabled,pt=qt===void 0?!0:qt,ci=y.imageSmoothingQuality;gt.imageSmoothingEnabled=pt,ci&&(gt.imageSmoothingQuality=ci);var br=b.width,Q=b.height,Me=R,mt=x,Fr,fi,Za,eo,ra,Cn;Me<=-M||Me>br?(Me=0,Fr=0,Za=0,ra=0):Me<=0?(Za=-Me,Me=0,Fr=Math.min(br,M+Me),ra=Fr):Me<=br&&(Za=0,Fr=Math.min(M,br-Me),ra=Fr),Fr<=0||mt<=-K||mt>Q?(mt=0,fi=0,eo=0,Cn=0):mt<=0?(eo=-mt,mt=0,fi=Math.min(Q,K+mt),Cn=fi):mt<=Q&&(eo=0,fi=Math.min(K,Q-mt),Cn=fi);var sr=[Me,mt,Fr,fi];if(ra>0&&Cn>0){var to=qe/M;sr.push(Za*to,eo*to,ra*to,Cn*to)}return gt.drawImage.apply(gt,[b].concat(u(sr.map(function(Bp){return Math.floor(vu(Bp))})))),je},setAspectRatio:function(y){var w=this.options;return!this.disabled&&!t_(y)&&(w.aspectRatio=Math.max(0,y)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(y){var w=this.options,b=this.dragBox,I=this.face;if(this.ready&&!this.disabled){var R=y===nt,x=w.movable&&y===St;y=R||x?y:Ot,w.dragMode=y,Al(b,ce,y),yu(b,k,R),yu(b,fe,x),w.cropBoxMovable||(Al(I,ce,y),yu(I,k,R),yu(I,fe,x))}return this}},Lae=v.Cropper,_A=function(){function q(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e(this,q),!y||!hae.test(y.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=y,this.options=Qe({},fA,hu(w)&&w),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return n(q,[{key:"init",value:function(){var w=this.element,b=w.tagName.toLowerCase(),I;if(!w[_]){if(w[_]=this,b==="img"){if(this.isImg=!0,I=w.getAttribute("src")||"",this.originalUrl=I,!I)return;I=w.src}else b==="canvas"&&window.HTMLCanvasElement&&(I=w.toDataURL());this.load(I)}}},{key:"load",value:function(w){var b=this;if(!!w){this.url=w,this.imageData={};var I=this.element,R=this.options;if(!R.rotatable&&!R.scalable&&(R.checkOrientation=!1),!R.checkOrientation||!window.ArrayBuffer){this.clone();return}if(pae.test(w)){dae.test(w)?this.read(kae(w)):this.clone();return}var x=new XMLHttpRequest,M=this.clone.bind(this);this.reloading=!0,this.xhr=x,x.onabort=M,x.onerror=M,x.ontimeout=M,x.onprogress=function(){x.getResponseHeader("content-type")!==cA&&x.abort()},x.onload=function(){b.read(x.response)},x.onloadend=function(){b.reloading=!1,b.xhr=null},R.checkCrossOrigin&&gA(w)&&I.crossOrigin&&(w=mA(w)),x.open("GET",w),x.responseType="arraybuffer",x.withCredentials=I.crossOrigin==="use-credentials",x.send()}}},{key:"read",value:function(w){var b=this.options,I=this.imageData,R=Fae(w),x=0,M=1,K=1;if(R>1){this.url=xae(w,cA);var V=Cae(R);x=V.rotate,M=V.scaleX,K=V.scaleY}b.rotatable&&(I.rotate=x),b.scalable&&(I.scaleX=M,I.scaleY=K),this.clone()}},{key:"clone",value:function(){var w=this.element,b=this.url,I=w.crossOrigin,R=b;this.options.checkCrossOrigin&&gA(b)&&(I||(I="anonymous"),R=mA(b)),this.crossOrigin=I,this.crossOriginUrl=R;var x=document.createElement("img");I&&(x.crossOrigin=I),x.src=R||b,x.alt=w.alt||"The image to crop",this.image=x,x.onload=this.start.bind(this),x.onerror=this.stop.bind(this),Pt(x,U),w.parentNode.insertBefore(x,w.nextSibling)}},{key:"start",value:function(){var w=this,b=this.image;b.onload=null,b.onerror=null,this.sizing=!0;var I=v.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(v.navigator.userAgent),R=function(V,H){Qe(w.imageData,{naturalWidth:V,naturalHeight:H,aspectRatio:V/H}),w.sizing=!1,w.sized=!0,w.build()};if(b.naturalWidth&&!I){R(b.naturalWidth,b.naturalHeight);return}var x=document.createElement("img"),M=document.body||document.documentElement;this.sizingImage=x,x.onload=function(){R(x.width,x.height),I||M.removeChild(x)},x.src=b.src,I||(x.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",M.appendChild(x))}},{key:"stop",value:function(){var w=this.image;w.onload=null,w.onerror=null,w.parentNode.removeChild(w),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var w=this.element,b=this.options,I=this.image,R=w.parentNode,x=document.createElement("div");x.innerHTML=vae;var M=x.querySelector(".".concat(_,"-container")),K=M.querySelector(".".concat(_,"-canvas")),V=M.querySelector(".".concat(_,"-drag-box")),H=M.querySelector(".".concat(_,"-crop-box")),B=H.querySelector(".".concat(_,"-face"));this.container=R,this.cropper=M,this.canvas=K,this.dragBox=V,this.cropBox=H,this.viewBox=M.querySelector(".".concat(_,"-view-box")),this.face=B,K.appendChild(I),Pt(w,D),R.insertBefore(M,w.nextSibling),this.isImg||Fn(I,U),this.initPreview(),this.bind(),b.initialAspectRatio=Math.max(0,b.initialAspectRatio)||NaN,b.aspectRatio=Math.max(0,b.aspectRatio)||NaN,b.viewMode=Math.max(0,Math.min(3,Math.round(b.viewMode)))||0,Pt(H,D),b.guides||Pt(H.getElementsByClassName("".concat(_,"-dashed")),D),b.center||Pt(H.getElementsByClassName("".concat(_,"-center")),D),b.background&&Pt(M,"".concat(_,"-bg")),b.highlight||Pt(B,L),b.cropBoxMovable&&(Pt(B,fe),Al(B,ce,O)),b.cropBoxResizable||(Pt(H.getElementsByClassName("".concat(_,"-line")),D),Pt(H.getElementsByClassName("".concat(_,"-point")),D)),this.render(),this.ready=!0,this.setDragMode(b.dragMode),b.autoCrop&&this.crop(),this.setData(b.data),ur(b.ready)&&xr(w,uA,b.ready,{once:!0}),gu(w,uA)}}},{key:"unbuild",value:function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Fn(this.element,D))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Lae,q}},{key:"setDefaults",value:function(w){Qe(fA,hu(w)&&w)}}]),q}();return Qe(_A.prototype,Dae,Uae,jae,Mae,Nae,Bae),_A})});var PX=h(function(Fmt,OX){function gg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gg=function(r){return typeof r}:gg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gg(t)}function pXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dXe(t,e,r){return e&&wX(t.prototype,e),r&&wX(t,r),t}function hXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lR(t,e)}function lR(t,e){return lR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},lR(t,e)}function vXe(t){var e=mXe();return function(){var n=mg(t),i;if(e){var a=mg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return yXe(this,i)}}function yXe(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gXe(t)}function gXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},mg(t)}var cR=_X(),SX=(Z(),ee(te)),_e=SX.h,bXe=SX.Component,_Xe=cR.__esModule?cR.default:cR;OX.exports=function(t){hXe(r,t);var e=vXe(r);function r(n){var i;return pXe(this,r),i=e.call(this,n),i.granularRotateOnChange=function(a){var o=i.state,u=o.rotationAngle,s=o.rotationDelta,l=Number(a.target.value)-s;if(cancelAnimationFrame(i.granularRotateOnInputNextFrame),l!==0){var c=u+l;i.granularRotateOnInputNextFrame=requestAnimationFrame(function(){i.cropper.rotateTo(c)})}},i.state={rotationAngle:0,rotationDelta:0},i}return dXe(r,[{key:"componentDidMount",value:function(){var i=this,a=this.props,o=a.opts,u=a.storeCropperInstance;this.cropper=new _Xe(this.imgElement,o.cropperOptions),u(this.cropper),o.actions.granularRotate&&this.imgElement.addEventListener("crop",function(s){var l=s.detail.rotate;i.setState({rotationAngle:l,rotationDelta:(l+405)%90-45})})}},{key:"componentWillUnmount",value:function(){this.cropper.destroy()}},{key:"renderGranularRotate",value:function(){var i=this.props.i18n,a=this.state,o=a.rotationDelta,u=a.rotationAngle;return _e("label",{"data-microtip-position":"top",role:"tooltip","aria-label":"".concat(u,"\xBA"),className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},_e("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:o,min:"-45",max:"44","aria-label":i("rotate")}))}},{key:"renderRevert",value:function(){var i=this,a=this.props.i18n;return _e("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("revert"),"data-microtip-position":"top",onClick:function(){i.cropper.reset(),i.cropper.setAspectRatio(0)}},_e("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},_e("path",{d:"M0 0h24v24H0z",fill:"none"}),_e("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))}},{key:"renderRotate",value:function(){var i=this,a=this.props.i18n;return _e("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){return i.cropper.rotate(-90)},"aria-label":a("rotate"),"data-microtip-position":"top"},_e("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},_e("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),_e("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))}},{key:"renderFlip",value:function(){var i=this,a=this.props.i18n;return _e("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("flipHorizontal"),"data-microtip-position":"top",onClick:function(){return i.cropper.scaleX(-i.cropper.getData().scaleX||-1)}},_e("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},_e("path",{d:"M0 0h24v24H0z",fill:"none"}),_e("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))}},{key:"renderZoomIn",value:function(){var i=this,a=this.props.i18n;return _e("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("zoomIn"),"data-microtip-position":"top",onClick:function(){return i.cropper.zoom(.1)}},_e("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},_e("path",{d:"M0 0h24v24H0V0z",fill:"none"}),_e("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),_e("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}},{key:"renderZoomOut",value:function(){var i=this,a=this.props.i18n;return _e("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("zoomOut"),"data-microtip-position":"top",onClick:function(){return i.cropper.zoom(-.1)}},_e("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},_e("path",{d:"M0 0h24v24H0V0z",fill:"none"}),_e("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))}},{key:"renderCropSquare",value:function(){var i=this,a=this.props.i18n;return _e("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioSquare"),"data-microtip-position":"top",onClick:function(){return i.cropper.setAspectRatio(1)}},_e("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},_e("path",{d:"M0 0h24v24H0z",fill:"none"}),_e("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}},{key:"renderCropWidescreen",value:function(){var i=this,a=this.props.i18n;return _e("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioLandscape"),"data-microtip-position":"top",onClick:function(){return i.cropper.setAspectRatio(16/9)}},_e("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},_e("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),_e("path",{fill:"none",d:"M0 0h24v24H0z"})))}},{key:"renderCropWidescreenVertical",value:function(){var i=this,a=this.props.i18n;return _e("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioPortrait"),"data-microtip-position":"top",onClick:function(){return i.cropper.setAspectRatio(9/16)}},_e("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},_e("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),_e("path",{d:"M0 0h24v24H0z",fill:"none"})))}},{key:"render",value:function(){var i=this,a=this.props,o=a.currentImage,u=a.opts,s=u.actions,l=URL.createObjectURL(o.data);return _e("div",{className:"uppy-ImageCropper"},_e("div",{className:"uppy-ImageCropper-container"},_e("img",{className:"uppy-ImageCropper-image",alt:o.name,src:l,ref:function(f){i.imgElement=f}})),_e("div",{className:"uppy-ImageCropper-controls"},s.revert&&this.renderRevert(),s.rotate&&this.renderRotate(),s.granularRotate&&this.renderGranularRotate(),s.flip&&this.renderFlip(),s.zoomIn&&this.renderZoomIn(),s.zoomOut&&this.renderZoomOut(),s.cropSquare&&this.renderCropSquare(),s.cropWidescreen&&this.renderCropWidescreen(),s.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}}]),r}(bXe)});var RX=h(function(Cmt,qX){qX.exports={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}}});var xX=h(function(Dmt,kX){function bg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bg=function(r){return typeof r}:bg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bg(t)}function EX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Go(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EX(Object(r),!0).forEach(function(n){wXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function OXe(t,e,r){return e&&TX(t.prototype,e),r&&TX(t,r),t}function PXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fR(t,e)}function fR(t,e){return fR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},fR(t,e)}function qXe(t){var e=TXe();return function(){var n=_g(t),i;if(e){var a=_g(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return RXe(this,i)}}function RXe(t,e){if(e&&(bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EXe(t)}function EXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(t)}var AX,IX,AXe=ot(),IXe=AXe.UIPlugin,kXe=(Z(),ee(te)),xXe=kXe.h,FXe=PX(),CXe=RX();kX.exports=(IX=AX=function(t){PXe(r,t);var e=qXe(r);function r(n,i){var a;SXe(this,r),a=e.call(this,n,i),a.save=function(){var l=function(d){var v=a.getPluginState(),g=v.currentImage;a.uppy.setFileState(g.id,{data:d,size:d.size,preview:null});var m=a.uppy.getFile(g.id);a.uppy.emit("thumbnail:request",m),a.setPluginState({currentImage:m}),a.uppy.emit("file-editor:complete",m)},c=a.getPluginState(),f=c.currentImage;a.cropper.getCroppedCanvas(a.opts.cropperOptions.croppedCanvasOptions).toBlob(l,f.type,a.opts.quality)},a.storeCropperInstance=function(l){a.cropper=l},a.selectFile=function(l){a.uppy.emit("file-editor:start",l),a.setPluginState({currentImage:l})},a.id=a.opts.id||"ImageEditor",a.title="Image Editor",a.type="editor",a.defaultLocale=CXe;var o={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},u={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},s={quality:.8};return a.opts=Go(Go(Go({},s),i),{},{actions:Go(Go({},u),i.actions),cropperOptions:Go(Go({},o),i.cropperOptions)}),a.i18nInit(),a}return OXe(r,[{key:"canEditFile",value:function(i){if(!i.type||i.isRemote)return!1;var a=i.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(a)}},{key:"install",value:function(){this.setPluginState({currentImage:null});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}},{key:"render",value:function(){var i=this.getPluginState(),a=i.currentImage;return a===null||a.isRemote?null:xXe(FXe,{currentImage:a,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}}]),r}(IXe),AX.VERSION="1.1.1",IX)});var CX=h(function(Umt,FX){FX.exports={strings:{pluginNameDropbox:"Dropbox"}}});var BX=h(function(jmt,NX){function wg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wg=function(r){return typeof r}:wg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wg(t)}function DXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function UXe(t,e,r){return e&&DX(t.prototype,e),r&&DX(t,r),t}function jXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pR(t,e)}function pR(t,e){return pR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},pR(t,e)}function MXe(t){var e=BXe();return function(){var n=Og(t),i;if(e){var a=Og(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return NXe(this,i)}}function NXe(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sg(t)}function Sg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(t)}var UX,jX,LXe=ot(),zXe=LXe.UIPlugin,$Xe=tr(),MX=$Xe.Provider,HXe=Ni(),VXe=HXe.ProviderViews,WXe=(Z(),ee(te)),Pg=WXe.h,GXe=CX();NX.exports=(jX=UX=function(t){jXe(r,t);var e=MXe(r);function r(n,i){var a;return DXe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Dropbox",MX.initPlugin(Sg(a),i),a.title=a.opts.title||"Dropbox",a.icon=function(){return Pg("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Pg("g",{fill:"none",fillRule:"evenodd"},Pg("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),Pg("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"})))},a.provider=new MX(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"dropbox",pluginId:a.id}),a.defaultLocale=GXe,a.i18nInit(),a.title=a.i18n("pluginNameDropbox"),a.onFirstRender=a.onFirstRender.bind(Sg(a)),a.render=a.render.bind(Sg(a)),a}return UXe(r,[{key:"install",value:function(){this.view=new VXe(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(zXe),UX.VERSION="2.0.5",jX)});var $X=h(function(Mmt,zX){function qg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qg=function(r){return typeof r}:qg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qg(t)}function KXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YXe(t,e,r){return e&&LX(t.prototype,e),r&&LX(t,r),t}function Rg(){return typeof Reflect!="undefined"&&Reflect.get?Rg=Reflect.get:Rg=function(e,r,n){var i=XXe(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Rg.apply(this,arguments)}function XXe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=As(t),t!==null););return t}function JXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dR(t,e)}function dR(t,e){return dR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},dR(t,e)}function QXe(t){var e=tJe();return function(){var n=As(t),i;if(e){var a=As(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ZXe(this,i)}}function ZXe(t,e){if(e&&(qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eJe(t)}function eJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function As(t){return As=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},As(t)}var rJe=Ni(),nJe=rJe.ProviderViews;zX.exports=function(t){JXe(r,t);var e=QXe(r);function r(){return KXe(this,r),e.apply(this,arguments)}return YXe(r,[{key:"toggleCheckbox",value:function(i,a){i.stopPropagation(),i.preventDefault(),a.custom.isSharedDrive||Rg(As(r.prototype),"toggleCheckbox",this).call(this,i,a)}}]),r}(nJe)});var VX=h(function(Nmt,HX){HX.exports={strings:{pluginNameGoogleDrive:"Google Drive"}}});var JX=h(function(Bmt,XX){function Eg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eg=function(r){return typeof r}:Eg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Eg(t)}function iJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function aJe(t,e,r){return e&&WX(t.prototype,e),r&&WX(t,r),t}function oJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hR(t,e)}function hR(t,e){return hR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},hR(t,e)}function uJe(t){var e=lJe();return function(){var n=Ag(t),i;if(e){var a=Ag(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return sJe(this,i)}}function sJe(t,e){if(e&&(Eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tg(t)}function Tg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}var GX,KX,cJe=ot(),fJe=cJe.UIPlugin,pJe=tr(),YX=pJe.Provider,dJe=(Z(),ee(te)),Ig=dJe.h,hJe=$X(),vJe=VX();XX.exports=(KX=GX=function(t){oJe(r,t);var e=uJe(r);function r(n,i){var a;return iJe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"GoogleDrive",a.title=a.opts.title||"Google Drive",YX.initPlugin(Tg(a),i),a.title=a.opts.title||"Google Drive",a.icon=function(){return Ig("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Ig("g",{fill:"none",fillRule:"evenodd"},Ig("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),Ig("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"})))},a.provider=new YX(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"drive",pluginId:a.id}),a.defaultLocale=vJe,a.i18nInit(),a.title=a.i18n("pluginNameGoogleDrive"),a.onFirstRender=a.onFirstRender.bind(Tg(a)),a.render=a.render.bind(Tg(a)),a}return aJe(r,[{key:"install",value:function(){this.view=new hJe(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(fJe),GX.VERSION="2.0.5",KX)});var ZX=h(function(Lmt,QX){QX.exports={strings:{pluginNameInstagram:"Instagram"}}});var aJ=h(function(zmt,iJ){function kg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kg=function(r){return typeof r}:kg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kg(t)}function yJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gJe(t,e,r){return e&&eJ(t.prototype,e),r&&eJ(t,r),t}function mJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vR(t,e)}function vR(t,e){return vR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},vR(t,e)}function bJe(t){var e=wJe();return function(){var n=Fg(t),i;if(e){var a=Fg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _Je(this,i)}}function _Je(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xg(t)}function xg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(t)}var tJ,rJ,SJe=ot(),OJe=SJe.UIPlugin,PJe=tr(),nJ=PJe.Provider,qJe=Ni(),RJe=qJe.ProviderViews,EJe=(Z(),ee(te)),Cg=EJe.h,TJe=ZX();iJ.exports=(rJ=tJ=function(t){mJe(r,t);var e=bJe(r);function r(n,i){var a;return yJe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Instagram",nJ.initPlugin(xg(a),i),a.icon=function(){return Cg("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Cg("g",{fill:"none",fillRule:"evenodd"},Cg("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),Cg("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"})))},a.defaultLocale=TJe,a.i18nInit(),a.title=a.i18n("pluginNameInstagram"),a.provider=new nJ(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"instagram",pluginId:a.id}),a.onFirstRender=a.onFirstRender.bind(xg(a)),a.render=a.render.bind(xg(a)),a}return gJe(r,[{key:"install",value:function(){this.view=new RJe(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(OJe),tJ.VERSION="2.0.5",rJ)});var uJ=h(function($mt,oJ){oJ.exports={strings:{pluginNameOneDrive:"OneDrive"}}});var dJ=h(function(Hmt,pJ){function Dg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dg=function(r){return typeof r}:Dg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dg(t)}function AJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IJe(t,e,r){return e&&sJ(t.prototype,e),r&&sJ(t,r),t}function kJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yR(t,e)}function yR(t,e){return yR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},yR(t,e)}function xJe(t){var e=CJe();return function(){var n=jg(t),i;if(e){var a=jg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return FJe(this,i)}}function FJe(t,e){if(e&&(Dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ug(t)}function Ug(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(t)}var lJ,cJ,DJe=ot(),UJe=DJe.UIPlugin,jJe=tr(),fJ=jJe.Provider,MJe=Ni(),NJe=MJe.ProviderViews,BJe=(Z(),ee(te)),Is=BJe.h,LJe=uJ();pJ.exports=(cJ=lJ=function(t){kJe(r,t);var e=xJe(r);function r(n,i){var a;return AJe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"OneDrive",fJ.initPlugin(Ug(a),i),a.title=a.opts.title||"OneDrive",a.icon=function(){return Is("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Is("g",{fill:"none",fillRule:"evenodd"},Is("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),Is("g",{fill:"#FFF",fillRule:"nonzero"},Is("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),Is("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"}))))},a.provider=new fJ(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule,provider:"onedrive",pluginId:a.id}),a.defaultLocale=LJe,a.i18nInit(),a.title=a.i18n("pluginNameOneDrive"),a.onFirstRender=a.onFirstRender.bind(Ug(a)),a.render=a.render.bind(Ug(a)),a}return IJe(r,[{key:"install",value:function(){this.view=new NJe(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(UJe),lJ.VERSION="2.0.5",cJ)});var vJ=h(function(Vmt,hJ){hJ.exports={strings:{pluginNameBox:"Box"}}});var wJ=h(function(Wmt,_J){function Mg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mg=function(r){return typeof r}:Mg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mg(t)}function zJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $Je(t,e,r){return e&&yJ(t.prototype,e),r&&yJ(t,r),t}function HJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gR(t,e)}function gR(t,e){return gR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},gR(t,e)}function VJe(t){var e=GJe();return function(){var n=Bg(t),i;if(e){var a=Bg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return WJe(this,i)}}function WJe(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ng(t)}function Ng(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(t)}var gJ,mJ,KJe=ot(),YJe=KJe.UIPlugin,XJe=tr(),bJ=XJe.Provider,JJe=Ni(),QJe=JJe.ProviderViews,ZJe=(Z(),ee(te)),ks=ZJe.h,eQe=vJ();_J.exports=(mJ=gJ=function(t){HJe(r,t);var e=VJe(r);function r(n,i){var a;return zJe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Box",bJ.initPlugin(Ng(a),i),a.title=a.opts.title||"Box",a.icon=function(){return ks("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},ks("g",{fill:"none",fillRule:"evenodd"},ks("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),ks("g",{fill:"#fff",fillRule:"nonzero"},ks("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),ks("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"}))))},a.provider=new bJ(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"box",pluginId:a.id}),a.defaultLocale=eQe,a.i18nInit(),a.title=a.i18n("pluginNameBox"),a.onFirstRender=a.onFirstRender.bind(Ng(a)),a.render=a.render.bind(Ng(a)),a}return $Je(r,[{key:"install",value:function(){this.view=new QJe(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return this.view.getFolder()}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(YJe),gJ.VERSION="1.0.5",mJ)});var OJ=h(function(Gmt,SJ){SJ.exports={strings:{pluginNameFacebook:"Facebook"}}});var AJ=h(function(Kmt,TJ){function Lg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lg=function(r){return typeof r}:Lg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lg(t)}function tQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rQe(t,e,r){return e&&PJ(t.prototype,e),r&&PJ(t,r),t}function nQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mR(t,e)}function mR(t,e){return mR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},mR(t,e)}function iQe(t){var e=oQe();return function(){var n=$g(t),i;if(e){var a=$g(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return aQe(this,i)}}function aQe(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zg(t)}function zg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oQe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(t)}var qJ,RJ,uQe=ot(),sQe=uQe.UIPlugin,lQe=tr(),EJ=lQe.Provider,cQe=Ni(),fQe=cQe.ProviderViews,pQe=(Z(),ee(te)),Hg=pQe.h,dQe=OJ();TJ.exports=(RJ=qJ=function(t){nQe(r,t);var e=iQe(r);function r(n,i){var a;return tQe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Facebook",EJ.initPlugin(zg(a),i),a.title=a.opts.title||"Facebook",a.icon=function(){return Hg("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Hg("g",{fill:"none",fillRule:"evenodd"},Hg("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),Hg("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"})))},a.provider=new EJ(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"facebook",pluginId:a.id}),a.defaultLocale=dQe,a.i18nInit(),a.title=a.i18n("pluginNameFacebook"),a.onFirstRender=a.onFirstRender.bind(zg(a)),a.render=a.render.bind(zg(a)),a}return rQe(r,[{key:"install",value:function(){this.view=new fQe(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(i){var a={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(a.viewType="grid",a.showFilter=!1,a.showTitles=!1),this.view.render(i,a)}}]),r}(sQe),qJ.VERSION="2.0.5",RJ)});var UJ=h(function(Ymt,DJ){function Vg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vg=function(r){return typeof r}:Vg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vg(t)}function hQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vQe(t,e,r){return e&&IJ(t.prototype,e),r&&IJ(t,r),t}function yQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bR(t,e)}function bR(t,e){return bR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bR(t,e)}function gQe(t){var e=bQe();return function(){var n=Wg(t),i;if(e){var a=Wg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return mQe(this,i)}}function mQe(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kJ(t)}function kJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bQe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(t)}var xJ,FJ,_Qe=ot(),wQe=_Qe.UIPlugin,SQe=(Z(),ee(te)),Gg=SQe.h,CJ=tr(),OQe=CJ.SearchProvider,PQe=CJ.Provider,qQe=Ni(),RQe=qQe.SearchProviderViews;DJ.exports=(FJ=xJ=function(t){yQe(r,t);var e=gQe(r);function r(n,i){var a;if(hQe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Unsplash",a.title=a.opts.title||"Unsplash",PQe.initPlugin(kJ(a),i,{}),a.icon=function(){return Gg("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},Gg("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),Gg("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),Gg("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"}))},!a.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return a.hostname=a.opts.companionUrl,a.provider=new OQe(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule,provider:"unsplash",pluginId:a.id}),a}return vQe(r,[{key:"install",value:function(){this.view=new RQe(this,{provider:this.provider,viewType:"unsplash"});var i=this.opts.target;i&&this.mount(i,this)}},{key:"onFirstRender",value:function(){}},{key:"render",value:function(i){return this.view.render(i)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(wQe),xJ.VERSION="2.0.3",FJ)});var BJ=h(function(Xmt,NJ){function Kg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kg=function(r){return typeof r}:Kg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kg(t)}function EQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function TQe(t,e,r){return e&&jJ(t.prototype,e),r&&jJ(t,r),t}function AQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_R(t,e)}function _R(t,e){return _R=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},_R(t,e)}function IQe(t){var e=xQe();return function(){var n=Yg(t),i;if(e){var a=Yg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return kQe(this,i)}}function kQe(t,e){if(e&&(Kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wR(t)}function wR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xQe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yg(t)}var MJ=(Z(),ee(te)),SR=MJ.h,FQe=MJ.Component,CQe=function(t){AQe(r,t);var e=IQe(r);function r(n){var i;return EQe(this,r),i=e.call(this,n),i.handleKeyPress=i.handleKeyPress.bind(wR(i)),i.handleClick=i.handleClick.bind(wR(i)),i}return TQe(r,[{key:"componentDidMount",value:function(){this.input.value=""}},{key:"handleKeyPress",value:function(i){i.keyCode===13&&this.props.addFile(this.input.value)}},{key:"handleClick",value:function(){this.props.addFile(this.input.value)}},{key:"render",value:function(){var i=this;return SR("div",{className:"uppy-Url"},SR("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":this.props.i18n("enterUrlToImport"),placeholder:this.props.i18n("enterUrlToImport"),onKeyUp:this.handleKeyPress,ref:function(o){i.input=o},"data-uppy-super-focusable":!0}),SR("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:this.handleClick},this.props.i18n("import")))}}]),r}(FQe);NJ.exports=CQe});var zJ=h(function(Jmt,LJ){var DQe=En();LJ.exports=function(e,r,n){var i=DQe(e.items),a;switch(r){case"paste":{var o=i.some(function(u){return u.kind==="file"});if(o)return;a=i.filter(function(u){return u.kind==="string"&&u.type==="text/plain"});break}case"drop":{a=i.filter(function(u){return u.kind==="string"&&u.type==="text/uri-list"});break}default:throw new Error("isDropOrPaste must be either 'drop' or 'paste', but it's ".concat(r))}a.forEach(function(u){u.getAsString(function(s){return n(s)})})}});var HJ=h(function(Qmt,$J){$J.exports={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}}});var QJ=h(function(Zmt,JJ){function Xg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xg=function(r){return typeof r}:Xg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xg(t)}function VJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VJ(Object(r),!0).forEach(function(n){UQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UQe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function MQe(t,e,r){return e&&GJ(t.prototype,e),r&&GJ(t,r),t}function NQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OR(t,e)}function OR(t,e){return OR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},OR(t,e)}function BQe(t){var e=zQe();return function(){var n=Jg(t),i;if(e){var a=Jg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return LQe(this,i)}}function LQe(t,e){if(e&&(Xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qf(t)}function Qf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zQe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(t)}var KJ,YJ,$Qe=ot(),HQe=$Qe.UIPlugin,VQe=(Z(),ee(te)),xs=VQe.h,WQe=tr(),GQe=WQe.RequestClient,KQe=En(),YQe=BJ(),XJ=zJ(),XQe=HJ();function JQe(){return xs("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},xs("g",{fill:"none",fillRule:"evenodd"},xs("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),xs("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}JJ.exports=(YJ=KJ=function(t){NQe(r,t);var e=BQe(r);function r(n,i){var a;jQe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Url",a.title=a.opts.title||"Link",a.type="acquirer",a.icon=function(){return xs(JQe,null)},a.defaultLocale=XQe;var o={};if(a.opts=WJ(WJ({},o),i),a.i18nInit(),a.hostname=a.opts.companionUrl,!a.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return a.getMeta=a.getMeta.bind(Qf(a)),a.addFile=a.addFile.bind(Qf(a)),a.handleRootDrop=a.handleRootDrop.bind(Qf(a)),a.handleRootPaste=a.handleRootPaste.bind(Qf(a)),a.client=new GQe(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule}),a}return MQe(r,[{key:"getFileNameFromUrl",value:function(i){return i.substring(i.lastIndexOf("/")+1)}},{key:"checkIfCorrectURL",value:function(i){if(!i)return!1;var a=i.match(/^([a-z0-9]+):\/\//)[1];return!(a!=="http"&&a!=="https")}},{key:"addProtocolToURL",value:function(i){var a=/^[a-z0-9]+:\/\//,o="http://";return a.test(i)?i:o+i}},{key:"getMeta",value:function(i){var a=this;return this.client.post("url/meta",{url:i}).then(function(o){if(o.error)throw a.uppy.log("[URL] Error:"),a.uppy.log(o.error),new Error("Failed to fetch the file");return o})}},{key:"addFile",value:function(i){var a=this;if(i=this.addProtocolToURL(i),!this.checkIfCorrectURL(i)){this.uppy.log("[URL] Incorrect URL entered: ".concat(i)),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3);return}return this.getMeta(i).then(function(o){var u={source:a.id,name:a.getFileNameFromUrl(i),type:o.type,data:{size:o.size},isRemote:!0,body:{url:i},remote:{companionUrl:a.opts.companionUrl,url:"".concat(a.hostname,"/url/get"),body:{fileId:i,url:i},providerOptions:a.client.opts}};return u}).then(function(o){a.uppy.log("[Url] Adding remote file");try{return a.uppy.addFile(o)}catch(u){return u.isRestriction||a.uppy.log(u),u}}).catch(function(o){return a.uppy.log(o),a.uppy.info({message:a.i18n("failedToFetch"),details:o},"error",4e3),o})}},{key:"canHandleRootDrop",value:function(i){var a=KQe(i.dataTransfer.items),o=a.filter(function(u){return u.kind==="string"&&u.type==="text/uri-list"});return o.length>0}},{key:"handleRootDrop",value:function(i){var a=this;XJ(i.dataTransfer,"drop",function(o){a.uppy.log("[URL] Adding file from dropped url: ".concat(o)),a.addFile(o)})}},{key:"handleRootPaste",value:function(i){var a=this;XJ(i.clipboardData,"paste",function(o){a.uppy.log("[URL] Adding file from pasted url: ".concat(o)),a.addFile(o)})}},{key:"render",value:function(){return xs(YQe,{i18n:this.i18n,addFile:this.addFile})}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(HQe),KJ.VERSION="2.0.5",YJ)});var Qg=h(function(ebt,eQ){function QQe(t,e){return rZe(t)||tZe(t,e)||eZe(t,e)||ZQe()}function ZQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eZe(t,e){if(!!t){if(typeof t=="string")return ZJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZJ(t,e)}}function ZJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tZe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function rZe(t){if(Array.isArray(t))return t}var nZe={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};eQ.exports=function(e){var r=e.split(";",1),n=QQe(r,1);return e=n[0],nZe[e]||null}});var rQ=h(function(tbt,tQ){tQ.exports=function(e,r,n){return new Promise(function(i){e.toBlob(i,r,n)})}});var iQ=h(function(rbt,nQ){nQ.exports=function(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}});var PR=h(function(nbt,oQ){var iZe=(Z(),ee(te)),aQ=iZe.h;oQ.exports=function(){return aQ("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},aQ("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))}});var sQ=h(function(ibt,uQ){var aZe=(Z(),ee(te)),oZe=aZe.h,uZe=PR();uQ.exports=function(t){var e=t.onSnapshot,r=t.i18n;return oZe("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:r("takePicture"),"aria-label":r("takePicture"),onClick:e,"data-uppy-super-focusable":!0},uZe())}});var cQ=h(function(abt,lQ){var sZe=(Z(),ee(te)),Fs=sZe.h;lQ.exports=function(e){var r=e.recording,n=e.onStartRecording,i=e.onStopRecording,a=e.i18n;return r?Fs("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:a("stopRecording"),"aria-label":a("stopRecording"),onClick:i,"data-uppy-super-focusable":!0},Fs("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Fs("rect",{x:"15",y:"15",width:"70",height:"70"}))):Fs("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:a("startRecording"),"aria-label":a("startRecording"),onClick:n,"data-uppy-super-focusable":!0},Fs("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Fs("circle",{cx:"50",cy:"50",r:"40"})))}});var pQ=h(function(obt,fQ){fQ.exports=function(e){return"".concat(Math.floor(e/60),":").concat(String(e%60).padStart(2,0))}});var hQ=h(function(ubt,dQ){var lZe=(Z(),ee(te)),cZe=lZe.h,fZe=pQ();dQ.exports=function(e){var r=e.recordingLengthSeconds,n=e.i18n,i=fZe(r);return cZe("span",{"aria-label":n("recordingLength",{recording_length:i})},i)}});var yQ=h(function(sbt,vQ){var pZe=(Z(),ee(te)),qR=pZe.h;vQ.exports=function(t){var e=t.currentDeviceId,r=t.videoSources,n=t.onChangeVideoSource;return qR("div",{className:"uppy-Webcam-videoSource"},qR("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:function(a){n(a.target.value)}},r.map(function(i){return qR("option",{key:i.deviceId,value:i.deviceId,selected:i.deviceId===e},i.label)})))}});var mQ=h(function(lbt,gQ){var dZe=(Z(),ee(te)),RR=dZe.h;function hZe(t){var e=t.onSubmit,r=t.i18n;return RR("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},RR("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},RR("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}gQ.exports=hZe});var _Q=h(function(cbt,bQ){var vZe=(Z(),ee(te)),Zf=vZe.h;function yZe(t){var e=t.onDiscard,r=t.i18n;return Zf("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},Zf("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},Zf("g",{fill:"#FFF",fillRule:"evenodd"},Zf("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),Zf("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}bQ.exports=yZe});var PQ=h(function(fbt,OQ){function Zg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zg=function(r){return typeof r}:Zg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zg(t)}function gZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mZe(t,e,r){return e&&wQ(t.prototype,e),r&&wQ(t,r),t}function bZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ER(t,e)}function ER(t,e){return ER=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ER(t,e)}function _Ze(t){var e=OZe();return function(){var n=em(t),i;if(e){var a=em(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wZe(this,i)}}function wZe(t,e){if(e&&(Zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SZe(t)}function SZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},em(t)}function TR(){return TR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TR.apply(this,arguments)}var SQ=(Z(),ee(te)),Kr=SQ.h,PZe=SQ.Component,qZe=sQ(),RZe=cQ(),EZe=hQ(),TZe=yQ(),AZe=mQ(),IZe=_Q();function tm(t,e){return t.indexOf(e)!==-1}var kZe=function(t){bZe(r,t);var e=_Ze(r);function r(){return gZe(this,r),e.apply(this,arguments)}return mZe(r,[{key:"componentDidMount",value:function(){var i=this.props.onFocus;i()}},{key:"componentWillUnmount",value:function(){var i=this.props.onStop;i()}},{key:"render",value:function(){var i=this,a=this.props,o=a.src,u=a.recordedVideo,s=a.recording,l=a.modes,c=a.supportsRecording,f=a.videoSources,p=a.showVideoSourceDropdown,d=a.showRecordingLength,v=a.onSubmit,g=a.i18n,m=a.mirror,_=a.onSnapshot,O=a.onStartRecording,E=a.onStopRecording,F=a.onDiscardRecordedVideo,j=a.recordingLengthSeconds,C=!!u,Y=!C&&c&&(tm(l,"video-only")||tm(l,"audio-only")||tm(l,"video-audio")),ie=!C&&tm(l,"picture"),T=c&&d&&!C,N=p&&f&&f.length>1,re={playsinline:!0};return u?(re.muted=!1,re.controls=!0,re.src=u,this.videoElement&&(this.videoElement.srcObject=void 0)):(re.muted=!0,re.autoplay=!0,re.srcObject=o),Kr("div",{className:"uppy uppy-Webcam-container"},Kr("div",{className:"uppy-Webcam-videoContainer"},Kr("video",TR({ref:function(A){return i.videoElement=A},className:"uppy-Webcam-video  ".concat(m?"uppy-Webcam-video--mirrored":"")},re))),Kr("div",{className:"uppy-Webcam-footer"},Kr("div",{className:"uppy-Webcam-videoSourceContainer"},N?TZe(this.props):null),Kr("div",{className:"uppy-Webcam-buttonContainer"},ie&&Kr(qZe,{onSnapshot:_,i18n:g}),Y&&Kr(RZe,{recording:s,onStartRecording:O,onStopRecording:E,i18n:g}),C&&Kr(AZe,{onSubmit:v,i18n:g}),C&&Kr(IZe,{onDiscard:F,i18n:g})),Kr("div",{className:"uppy-Webcam-recordingLength"},T&&Kr(EZe,{recordingLengthSeconds:j,i18n:g}))))}}]),r}(PZe);OQ.exports=kZe});var RQ=h(function(pbt,qQ){var xZe=(Z(),ee(te)),rm=xZe.h;qQ.exports=function(t){return rm("div",{className:"uppy-Webcam-permissons"},rm("div",{className:"uppy-Webcam-permissonsIcon"},t.icon()),rm("h1",{className:"uppy-Webcam-title"},t.hasCamera?t.i18n("allowAccessTitle"):t.i18n("noCameraTitle")),rm("p",null,t.hasCamera?t.i18n("allowAccessDescription"):t.i18n("noCameraDescription")))}});var TQ=h(function(dbt,EQ){EQ.exports={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}}});var UQ=h(function(hbt,DQ){function ep(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ep=function(r){return typeof r}:ep=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ep(t)}function AQ(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function FZe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){AQ(a,n,i,o,u,"next",s)}function u(s){AQ(a,n,i,o,u,"throw",s)}o(void 0)})}}function IQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IQ(Object(r),!0).forEach(function(n){CZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CZe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function UZe(t,e,r){return e&&kQ(t.prototype,e),r&&kQ(t,r),t}function nm(){return typeof Reflect!="undefined"&&Reflect.get?nm=Reflect.get:nm=function(e,r,n){var i=jZe(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},nm.apply(this,arguments)}function jZe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Cs(t),t!==null););return t}function MZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AR(t,e)}function AR(t,e){return AR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},AR(t,e)}function NZe(t){var e=LZe();return function(){var n=Cs(t),i;if(e){var a=Cs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return BZe(this,i)}}function BZe(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yt(t)}function Yt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Cs(t){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Cs(t)}var xQ,Yr,FQ;function IR(){return IR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IR.apply(this,arguments)}function tp(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var zZe=0;function $Ze(t){return"__private_"+zZe+++"_"+t}var HZe=(Z(),ee(te)),Ds=HZe.h,VZe=ot(),WZe=VZe.UIPlugin,kR=Qg(),GZe=tP(),KZe=rQ(),YZe=iQ(),XZe=PR(),JZe=PQ(),QZe=RQ(),ZZe=TQ();function CQ(t){return t[0]==="."?GZe[t.slice(1)]:t}function eet(t){return/^video\/[^*]+$/.test(t)}function tet(t){return/^image\/[^*]+$/.test(t)}function ret(){return navigator.mediaDevices}DQ.exports=(FQ=(Yr=$Ze("enableMirror"),xQ=function(t){MZe(r,t);var e=NZe(r);function r(n,i){var a;DZe(this,r),a=e.call(this,n,i),Object.defineProperty(Yt(a),Yr,{writable:!0,value:void 0}),a.mediaDevices=ret(),a.supportsUserMedia=!!a.mediaDevices,a.protocol=location.protocol.match(/https/i)?"https":"http",a.id=a.opts.id||"Webcam",a.type="acquirer",a.capturedMediaFile=null,a.icon=function(){return Ds("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Ds("g",{fill:"none",fillRule:"evenodd"},Ds("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),Ds("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"})))},a.defaultLocale=ZZe;var o={onBeforeSnapshot:function(){return Promise.resolve()},countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1};return a.opts=ja(ja({},o),i),a.i18nInit(),a.title=a.i18n("pluginNameCamera"),tp(Yt(a),Yr)[Yr]=a.opts.mirror,a.install=a.install.bind(Yt(a)),a.setPluginState=a.setPluginState.bind(Yt(a)),a.render=a.render.bind(Yt(a)),a.start=a.start.bind(Yt(a)),a.stop=a.stop.bind(Yt(a)),a.takeSnapshot=a.takeSnapshot.bind(Yt(a)),a.startRecording=a.startRecording.bind(Yt(a)),a.stopRecording=a.stopRecording.bind(Yt(a)),a.discardRecordedVideo=a.discardRecordedVideo.bind(Yt(a)),a.submit=a.submit.bind(Yt(a)),a.oneTwoThreeSmile=a.oneTwoThreeSmile.bind(Yt(a)),a.focus=a.focus.bind(Yt(a)),a.changeVideoSource=a.changeVideoSource.bind(Yt(a)),a.webcamActive=!1,a.opts.countdown&&(a.opts.onBeforeSnapshot=a.oneTwoThreeSmile),a.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null}),a}return UZe(r,[{key:"setOptions",value:function(i){nm(Cs(r.prototype),"setOptions",this).call(this,ja(ja({},i),{},{videoConstraints:ja(ja({},this.opts.videoConstraints),i==null?void 0:i.videoConstraints)}))}},{key:"hasCameraCheck",value:function(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(function(i){return i.some(function(a){return a.kind==="videoinput"})}):Promise.resolve(!1)}},{key:"isAudioOnly",value:function(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"}},{key:"getConstraints",value:function(i){i===void 0&&(i=null);var a=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,o=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),u=ja(ja({},this.opts.videoConstraints||{facingMode:this.opts.facingMode}),i?{deviceId:i,facingMode:null}:{});return{audio:a,video:o?u:!1}}},{key:"start",value:function(i){var a=this;if(i===void 0&&(i=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(tp(this,Yr)[Yr]=!0);var o=this.getConstraints(i&&i.deviceId?i.deviceId:null);this.hasCameraCheck().then(function(u){return a.setPluginState({hasCamera:u}),a.mediaDevices.getUserMedia(o).then(function(s){a.stream=s;var l=null,c=a.isAudioOnly()?s.getAudioTracks():s.getVideoTracks();!i||!i.deviceId?l=c[0].getSettings().deviceId:c.forEach(function(f){f.getSettings().deviceId===i.deviceId&&(l=f.getSettings().deviceId)}),a.updateVideoSources(),a.setPluginState({currentDeviceId:l,cameraReady:!0})}).catch(function(s){a.setPluginState({cameraReady:!1,cameraError:s}),a.uppy.info(s.message,"error")})})}},{key:"getMediaRecorderOptions",value:function(){var i={};if(MediaRecorder.isTypeSupported){var a=this.uppy.opts.restrictions,o=[];this.opts.preferredVideoMimeType?o=[this.opts.preferredVideoMimeType]:a.allowedFileTypes&&(o=a.allowedFileTypes.map(CQ).filter(eet));var u=function(c){return MediaRecorder.isTypeSupported(c)&&kR(c)},s=o.filter(u);s.length>0&&(i.mimeType=s[0])}return i}},{key:"startRecording",value:function(){var i=this;this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];var a=!1;this.recorder.addEventListener("dataavailable",function(o){i.recordingChunks.push(o.data);var u=i.uppy.opts.restrictions;if(i.recordingChunks.length>1&&u.maxFileSize!=null&&!a){var s=i.recordingChunks.reduce(function(p,d){return p+d.size},0),l=(s-i.recordingChunks[0].size)/(i.recordingChunks.length-1),c=l*3,f=Math.max(0,u.maxFileSize-c);s>f&&(a=!0,i.uppy.info(i.i18n("recordingStoppedMaxSize"),"warning",4e3),i.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(function(){var o=i.getPluginState().recordingLengthSeconds;i.setPluginState({recordingLengthSeconds:o+1})},1e3)),this.setPluginState({isRecording:!0})}},{key:"stopRecording",value:function(){var i=this,a=new Promise(function(o){i.recorder.addEventListener("stop",function(){o()}),i.recorder.stop(),i.opts.showRecordingLength&&(clearInterval(i.recordingLengthTimer),i.setPluginState({recordingLengthSeconds:0}))});return a.then(function(){return i.setPluginState({isRecording:!1}),i.getVideo()}).then(function(o){try{i.capturedMediaFile=o,i.setPluginState({recordedVideo:URL.createObjectURL(o.data)}),tp(i,Yr)[Yr]=!1}catch(u){u.isRestriction||i.uppy.log(u)}}).then(function(){i.recordingChunks=null,i.recorder=null},function(o){throw i.recordingChunks=null,i.recorder=null,o})}},{key:"discardRecordedVideo",value:function(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(tp(this,Yr)[Yr]=!0),this.capturedMediaFile=null}},{key:"submit",value:function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(i){i.isRestriction||this.uppy.log(i,"error")}}},{key:"stop",value:function(){var n=FZe(regeneratorRuntime.mark(function a(){var o=this,u,s;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.stream&&(u=this.stream.getAudioTracks(),s=this.stream.getVideoTracks(),u.concat(s).forEach(function(f){return f.stop()})),!this.recorder){c.next=4;break}return c.next=4,new Promise(function(f){o.recorder.addEventListener("stop",f,{once:!0}),o.recorder.stop(),o.opts.showRecordingLength&&clearInterval(o.recordingLengthTimer)});case 4:this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return c.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getVideoElement",value:function(){return this.el.querySelector(".uppy-Webcam-video")}},{key:"oneTwoThreeSmile",value:function(){var i=this;return new Promise(function(a,o){var u=i.opts.countdown,s=setInterval(function(){if(!i.webcamActive)return clearInterval(s),i.captureInProgress=!1,o(new Error("Webcam is not active"));u>0?(i.uppy.info("".concat(u,"..."),"warning",800),u--):(clearInterval(s),i.uppy.info(i.i18n("smile"),"success",1500),setTimeout(function(){return a()},1500))},1e3)})}},{key:"takeSnapshot",value:function(){var i=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(a){var o=ep(a)==="object"?a.message:a;return i.uppy.info(o,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: ".concat(o)))}).then(function(){return i.getImage()}).then(function(a){i.captureInProgress=!1;try{i.uppy.addFile(a)}catch(o){o.isRestriction||i.uppy.log(o)}},function(a){throw i.captureInProgress=!1,a}))}},{key:"getImage",value:function(){var i=this,a=this.getVideoElement();if(!a)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var o=a.videoWidth,u=a.videoHeight,s=document.createElement("canvas");s.width=o,s.height=u;var l=s.getContext("2d");l.drawImage(a,0,0);var c=this.uppy.opts.restrictions,f=[];this.opts.preferredImageMimeType?f=[this.opts.preferredImageMimeType]:c.allowedFileTypes&&(f=c.allowedFileTypes.map(CQ).filter(tet));var p=f[0]||"image/jpeg",d=kR(p)||"jpg",v="cam-".concat(Date.now(),".").concat(d);return KZe(s,p).then(function(g){return{source:i.id,name:v,data:new Blob([g],{type:p}),type:p}})}},{key:"getVideo",value:function(){var i=this.recordingChunks.find(function(l){var c;return((c=l.type)==null?void 0:c.length)>0}).type,a=kR(i);if(!a)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(i,'"')));var o="webcam-".concat(Date.now(),".").concat(a),u=new Blob(this.recordingChunks,{type:i}),s={source:this.id,name:o,data:new Blob([u],{type:i}),type:i};return Promise.resolve(s)}},{key:"focus",value:function(){var i=this;!this.opts.countdown||setTimeout(function(){i.uppy.info(i.i18n("smile"),"success",1500)},1e3)}},{key:"changeVideoSource",value:function(i){this.stop(),this.start({deviceId:i})}},{key:"updateVideoSources",value:function(){var i=this;this.mediaDevices.enumerateDevices().then(function(a){i.setPluginState({videoSources:a.filter(function(o){return o.kind==="videoinput"})})})}},{key:"render",value:function(){this.webcamActive||this.start();var i=this.getPluginState();return!i.cameraReady||!i.hasCamera?Ds(QZe,{icon:XZe,i18n:this.i18n,hasCamera:i.hasCamera}):Ds(JZe,IR({},i,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:YZe(),recording:i.isRecording,mirror:tp(this,Yr)[Yr],src:this.stream}))}},{key:"install",value:function(){var i=this;this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});var a=this.opts.target;a&&this.mount(a,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=function(){if(i.updateVideoSources(),i.stream){var o=!0,u=i.getPluginState(),s=u.videoSources,l=u.currentDeviceId;s.forEach(function(c){l===c.deviceId&&(o=!1)}),o&&(i.stop(),i.start())}})}},{key:"uninstall",value:function(){this.stop(),this.unmount()}},{key:"onUnmount",value:function(){this.stop()}}]),r}(WZe)),xQ.VERSION="2.0.5",FQ)});var MQ=h(function(vbt,jQ){var net=(Z(),ee(te)),rp=net.h;jQ.exports=function(){return rp("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},rp("g",{fill:"none",fillRule:"evenodd"},rp("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),rp("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),rp("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})))}});var BQ=h(function(ybt,NQ){var iet=(Z(),ee(te)),Us=iet.h;NQ.exports=function(e){var r=e.recording,n=e.onStartRecording,i=e.onStopRecording,a=e.i18n;return r?Us("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:a("stopCapturing"),"aria-label":a("stopCapturing"),onClick:i,"data-uppy-super-focusable":!0},Us("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Us("rect",{x:"15",y:"15",width:"70",height:"70"}))):Us("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:a("startCapturing"),"aria-label":a("startCapturing"),onClick:n,"data-uppy-super-focusable":!0},Us("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Us("circle",{cx:"50",cy:"50",r:"40"})))}});var zQ=h(function(gbt,LQ){var aet=(Z(),ee(te)),xR=aet.h;LQ.exports=function(e){var r=e.recording,n=e.recordedVideo,i=e.onSubmit,a=e.i18n;return n&&!r?xR("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:a("submitRecordedFile"),"aria-label":a("submitRecordedFile"),onClick:i,"data-uppy-super-focusable":!0},xR("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},xR("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}});var GQ=h(function(mbt,WQ){function im(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?im=function(r){return typeof r}:im=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},im(t)}function $Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oet(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$Q(Object(r),!0).forEach(function(n){uet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$Q(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uet(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function set(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cet(t,e,r){return e&&HQ(t.prototype,e),r&&HQ(t,r),t}function fet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FR(t,e)}function FR(t,e){return FR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},FR(t,e)}function pet(t){var e=vet();return function(){var n=am(t),i;if(e){var a=am(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return det(this,i)}}function det(t,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return het(t)}function het(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},am(t)}var VQ=(Z(),ee(te)),np=VQ.h,yet=VQ.Component,get=function(t){fet(r,t);var e=pet(r);function r(n){var i;return set(this,r),i=e.call(this,n),i.state={elapsedTime:0},i.wrapperStyle={width:"100%",height:"100%",display:"flex"},i.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},i.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},i.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},i.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"},i}return cet(r,[{key:"startTimer",value:function(){this.timerTick(),this.timerRunning=!0}},{key:"resetTimer",value:function(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1}},{key:"timerTick",value:function(){var i=this;this.timer=setTimeout(function(){i.setState(function(a){return{elapsedTime:a.elapsedTime+1}}),i.timerTick()},1e3)}},{key:"fmtMSS",value:function(i){return(i-(i%=60))/60+(i>9?":":":0")+i}},{key:"render",value:function(){var i=oet({},this.props),a=i.recording,o=i.i18n,u=this.fmtMSS(this.state.elapsedTime);return a&&!this.timerRunning&&this.startTimer(),!a&&this.timerRunning&&this.resetTimer(),a?np("div",{style:this.wrapperStyle},np("div",{style:this.overlayStyle}),np("div",{style:this.infoContainerStyle},np("div",{style:this.infotextStyle},o("recording")),np("div",{style:this.timeStyle},u))):null}}]),r}(yet);WQ.exports=get});var YQ=h(function(bbt,KQ){var met=(Z(),ee(te)),Zn=met.h;KQ.exports=function(t){var e=t.streamActive,r=t.i18n;return e?Zn("div",{title:r("streamActive"),"aria-label":r("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},Zn("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},Zn("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),Zn("path",{d:"M0 0h24v24H0z",fill:"none"}),Zn("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):Zn("div",{title:r("streamPassive"),"aria-label":r("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},Zn("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},Zn("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),Zn("path",{d:"M0 0h24v24H0z",fill:"none"}),Zn("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))}});var ZQ=h(function(_bt,QQ){function om(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?om=function(r){return typeof r}:om=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},om(t)}function bet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _et(t,e,r){return e&&XQ(t.prototype,e),r&&XQ(t,r),t}function wet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CR(t,e)}function CR(t,e){return CR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},CR(t,e)}function Oet(t){var e=Ret();return function(){var n=um(t),i;if(e){var a=um(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Pet(this,i)}}function Pet(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qet(t)}function qet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ret(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},um(t)}function DR(){return DR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DR.apply(this,arguments)}var JQ=(Z(),ee(te)),Ma=JQ.h,Eet=JQ.Component,Tet=BQ(),Aet=zQ(),Iet=GQ(),ket=YQ(),xet=function(t){wet(r,t);var e=Oet(r);function r(){return bet(this,r),e.apply(this,arguments)}return _et(r,[{key:"componentWillUnmount",value:function(){this.props.onStop()}},{key:"render",value:function(){var i=this,a=this.props,o=a.recording,u=a.stream,s=a.recordedVideo,l={playsinline:!0};return(o||!s&&!o)&&(l.muted=!0,l.autoplay=!0,l.srcObject=u),s&&!o&&(l.muted=!1,l.controls=!0,l.src=s,this.videoElement&&(this.videoElement.srcObject=void 0)),Ma("div",{className:"uppy uppy-ScreenCapture-container"},Ma("div",{className:"uppy-ScreenCapture-videoContainer"},Ma(ket,this.props),Ma("video",DR({ref:function(f){i.videoElement=f},className:"uppy-ScreenCapture-video"},l)),Ma(Iet,this.props)),Ma("div",{className:"uppy-ScreenCapture-buttonContainer"},Ma(Tet,this.props),Ma(Aet,this.props)))}}]),r}(Eet);QQ.exports=xet});var tZ=h(function(wbt,eZ){eZ.exports={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}}});var sZ=h(function(Sbt,uZ){function sm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sm=function(r){return typeof r}:sm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sm(t)}function rZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rZ(Object(r),!0).forEach(function(n){Fet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fet(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Det(t,e,r){return e&&nZ(t.prototype,e),r&&nZ(t,r),t}function Uet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jR(t,e)}function jR(t,e){return jR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jR(t,e)}function jet(t){var e=Net();return function(){var n=lm(t),i;if(e){var a=lm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Met(this,i)}}function Met(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ei(t)}function ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Net(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}var iZ,aZ;function MR(){return MR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MR.apply(this,arguments)}var Bet=(Z(),ee(te)),Let=Bet.h,zet=ot(),$et=zet.UIPlugin,oZ=Qg(),Het=MQ(),Vet=ZQ(),Wet=tZ();function Get(){return window.MediaRecorder&&navigator.mediaDevices}uZ.exports=(aZ=iZ=function(t){Uet(r,t);var e=jet(r);function r(n,i){var a;Cet(this,r),a=e.call(this,n,i),a.mediaDevices=Get(),a.protocol=location.protocol==="https:"?"https":"http",a.id=a.opts.id||"ScreenCapture",a.title=a.opts.title||"Screencast",a.type="acquirer",a.icon=Het,a.defaultLocale=Wet;var o={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};return a.opts=UR(UR({},o),i),a.i18nInit(),a.install=a.install.bind(ei(a)),a.setPluginState=a.setPluginState.bind(ei(a)),a.render=a.render.bind(ei(a)),a.start=a.start.bind(ei(a)),a.stop=a.stop.bind(ei(a)),a.startRecording=a.startRecording.bind(ei(a)),a.stopRecording=a.stopRecording.bind(ei(a)),a.submit=a.submit.bind(ei(a)),a.streamInterrupted=a.streamInactivated.bind(ei(a)),a.captureActive=!1,a.capturedMediaFile=null,a}return Det(r,[{key:"install",value:function(){if(!this.mediaDevices)return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.videoStream&&this.stop(),this.unmount()}},{key:"start",value:function(){var i=this;if(!this.mediaDevices)return Promise.reject(new Error("Screen recorder access not supported"));this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(function(a){a===!1&&i.parent&&i.parent.hideAllPanels&&(i.parent.hideAllPanels(),i.captureActive=!1)})}},{key:"selectVideoStreamSource",value:function(){var i=this;return this.videoStream?new Promise(function(a){return a(i.videoStream)}):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(function(a){return i.videoStream=a,i.videoStream.addEventListener("inactive",function(){i.streamInactivated()}),i.setPluginState({streamActive:!0}),a}).catch(function(a){return i.setPluginState({screenRecError:a}),i.userDenied=!0,setTimeout(function(){i.userDenied=!1},1e3),!1})}},{key:"selectAudioStreamSource",value:function(){var i=this;return this.audioStream?new Promise(function(a){return a(i.audioStream)}):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(function(a){return i.audioStream=a,i.setPluginState({audioStreamActive:!0}),a}).catch(function(a){return a.name==="NotAllowedError"&&i.uppy.info(i.i18n("micDisabled"),"error",5e3),!1})}},{key:"startRecording",value:function(){var i=this,a={};this.capturedMediaFile=null,this.recordingChunks=[];var o=this.opts.preferredVideoMimeType;this.selectVideoStreamSource().then(function(u){o&&MediaRecorder.isTypeSupported(o)&&oZ(o)&&(a.mimeType=o);var s=[u.getVideoTracks()[0]];i.audioStream&&s.push(i.audioStream.getAudioTracks()[0]),i.outputStream=new MediaStream(s),i.recorder=new MediaRecorder(i.outputStream,a),i.recorder.addEventListener("dataavailable",function(l){i.recordingChunks.push(l.data)}),i.recorder.start(),i.setPluginState({recording:!0})}).catch(function(u){i.uppy.log(u,"error")})}},{key:"streamInactivated",value:function(){var i=UR({},this.getPluginState()),a=i.recordedVideo,o=i.recording;!a&&!o?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():o&&(this.uppy.log("Capture stream inactive \u2014 stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})}},{key:"stopRecording",value:function(){var i=this,a=new Promise(function(o){i.recorder.addEventListener("stop",function(){o()}),i.recorder.stop()});return a.then(function(){return i.setPluginState({recording:!1}),i.getVideo()}).then(function(o){i.capturedMediaFile=o,i.setPluginState({recordedVideo:URL.createObjectURL(o.data)})}).then(function(){i.recordingChunks=null,i.recorder=null},function(o){throw i.recordingChunks=null,i.recorder=null,o})}},{key:"submit",value:function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(i){i.isRestriction||this.uppy.log(i,"error")}}},{key:"stop",value:function(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(function(i){i.stop()}),this.videoStream.getAudioTracks().forEach(function(i){i.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(function(i){i.stop()}),this.audioStream.getVideoTracks().forEach(function(i){i.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(function(i){i.stop()}),this.outputStream.getVideoTracks().forEach(function(i){i.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1}},{key:"getVideo",value:function(){var i=this.recordingChunks[0].type,a=oZ(i);if(!a)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(i,'"')));var o="screencap-".concat(Date.now(),".").concat(a),u=new Blob(this.recordingChunks,{type:i}),s={source:this.id,name:o,data:new Blob([u],{type:i}),type:i};return Promise.resolve(s)}},{key:"render",value:function(){var i=this.getPluginState();return!i.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),Let(Vet,MR({},i,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))}}]),r}($et),iZ.VERSION="2.0.6",aZ)});var cZ=h(function(Obt,lZ){lZ.exports=function(){var e;return typeof MediaRecorder=="function"&&typeof((e=MediaRecorder.prototype)==null?void 0:e.start)=="function"}});var SZ={};RA(SZ,{useCallback:function(){return Jet},useContext:function(){return Qet},useDebugValue:function(){return Zet},useEffect:function(){return Ket},useErrorBoundary:function(){return ett},useImperativeHandle:function(){return Xet},useLayoutEffect:function(){return bZ},useMemo:function(){return BR},useReducer:function(){return mZ},useRef:function(){return Yet},useState:function(){return gZ}});function Ms(t,e){ye.__h&&ye.__h(Bt,t,js||e),js=0;var r=Bt.__H||(Bt.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function gZ(t){return js=1,mZ(wZ,t)}function mZ(t,e,r){var n=Ms(Ko++,2);return n.t=t,n.__c||(n.__=[r?r(e):wZ(void 0,e),function(i){var a=n.t(n.__[0],i);n.__[0]!==a&&(n.__=[a,n.__[1]],n.__c.setState({}))}],n.__c=Bt),n.__}function Ket(t,e){var r=Ms(Ko++,3);!ye.__s&&zR(r.__H,e)&&(r.__=t,r.__H=e,Bt.__H.__h.push(r))}function bZ(t,e){var r=Ms(Ko++,4);!ye.__s&&zR(r.__H,e)&&(r.__=t,r.__H=e,Bt.__h.push(r))}function Yet(t){return js=5,BR(function(){return{current:t}},[])}function Xet(t,e,r){js=6,bZ(function(){typeof t=="function"?t(e()):t&&(t.current=e())},r==null?r:r.concat(t))}function BR(t,e){var r=Ms(Ko++,7);return zR(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function Jet(t,e){return js=8,BR(function(){return t},e)}function Qet(t){var e=Bt.context[t.__c],r=Ms(Ko++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Bt)),e.props.value):t.__}function Zet(t,e){ye.useDebugValue&&ye.useDebugValue(e?e(t):t)}function ett(t){var e=Ms(Ko++,10),r=gZ();return e.__=t,Bt.componentDidCatch||(Bt.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function ttt(){var t;for(NR.sort(function(e,r){return e.__v.__b-r.__v.__b});t=NR.pop();)if(t.__P)try{t.__H.__h.forEach(cm),t.__H.__h.forEach(LR),t.__H.__h=[]}catch(e){t.__H.__h=[],ye.__e(e,t.__v)}}function rtt(t){var e,r=function(){clearTimeout(n),_Z&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);_Z&&(e=requestAnimationFrame(r))}function cm(t){var e=Bt,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Bt=e}function LR(t){var e=Bt;t.__c=t.__(),Bt=e}function zR(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function wZ(t,e){return typeof e=="function"?e(t):e}var Ko,Bt,fZ,js,NR,pZ,dZ,hZ,vZ,yZ,_Z,OZ=S(function(){Z();js=0,NR=[],pZ=ye.__b,dZ=ye.__r,hZ=ye.diffed,vZ=ye.__c,yZ=ye.unmount;ye.__b=function(t){Bt=null,pZ&&pZ(t)},ye.__r=function(t){dZ&&dZ(t),Ko=0;var e=(Bt=t.__c).__H;e&&(e.__h.forEach(cm),e.__h.forEach(LR),e.__h=[])},ye.diffed=function(t){hZ&&hZ(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(NR.push(e)!==1&&fZ===ye.requestAnimationFrame||((fZ=ye.requestAnimationFrame)||rtt)(ttt)),Bt=null},ye.__c=function(t,e){e.some(function(r){try{r.__h.forEach(cm),r.__h=r.__h.filter(function(n){return!n.__||LR(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ye.__e(n,r.__v)}}),vZ&&vZ(t,e)},ye.unmount=function(t){yZ&&yZ(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{cm(n)}catch(i){e=i}}),e&&ye.__e(e,r.__v))};_Z=typeof requestAnimationFrame=="function"});var qZ=h(function(qbt,PZ){var ntt=(Z(),ee(te)),Ns=ntt.h;PZ.exports=function(e){var r=e.recording,n=e.onStartRecording,i=e.onStopRecording,a=e.i18n;return r?Ns("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:a("stopAudioRecording"),"aria-label":a("stopAudioRecording"),onClick:i,"data-uppy-super-focusable":!0},Ns("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Ns("rect",{x:"15",y:"15",width:"70",height:"70"}))):Ns("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:a("startAudioRecording"),"aria-label":a("startAudioRecording"),onClick:n,"data-uppy-super-focusable":!0},Ns("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},Ns("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}});var EZ=h(function(Rbt,RZ){RZ.exports=function(e){return"".concat(Math.floor(e/60),":").concat(String(e%60).padStart(2,0))}});var AZ=h(function(Ebt,TZ){var itt=(Z(),ee(te)),att=itt.h,ott=EZ();TZ.exports=function(e){var r=e.recordingLengthSeconds,n=e.i18n,i=ott(r);return att("span",{"aria-label":n("recordingLength",{recording_length:i})},i)}});var kZ=h(function(Tbt,IZ){var utt=(Z(),ee(te)),$R=utt.h;IZ.exports=function(t){var e=t.currentDeviceId,r=t.audioSources,n=t.onChangeSource;return $R("div",{className:"uppy-Audio-videoSource"},$R("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:function(a){n(a.target.value)}},r.map(function(i){return $R("option",{key:i.deviceId,value:i.deviceId,selected:i.deviceId===e},i.label)})))}});var DZ=h(function(Abt,CZ){function stt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ltt(t,e,r){return e&&xZ(t.prototype,e),r&&xZ(t,r),t}var fm;function ctt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var ftt=0;function ptt(t){return"__private_"+ftt+++"_"+t}function FZ(t){return typeof t=="function"}function ip(t){return FZ(t)?t():t}CZ.exports=(fm=ptt("draw"),function(){function t(e,r){var n=this;stt(this,t),r===void 0&&(r={}),Object.defineProperty(this,fm,{writable:!0,value:function(){return n.draw()}});var i=r.canvas||{},a=r.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=e,this.width=ip(i.width)||this.canvas.width,this.height=ip(i.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=ip(a.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=ip(a.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=ip(a.lineWidth)||1,this.onDrawFrame=FZ(r.onDrawFrame)?r.onDrawFrame:function(){}}return ltt(t,[{key:"addSource",value:function(r){this.streamSource=r,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)}},{key:"draw",value:function(){var r=this.analyser,n=this.dataArray,i=this.bufferLength,a=this.canvasContext,o=this.width,u=this.height;r&&r.getByteTimeDomainData(n),a.fillRect(0,0,o,u),a.beginPath();var s=o*1/i,l=0;i||a.moveTo(0,this.height/2);for(var c=0;c<i;c++){var f=n[c]/128,p=f*(u/2);c===0?a.moveTo(l,p):a.lineTo(l,p),l+=s}a.lineTo(o,u/2),a.stroke(),this.onDrawFrame(this),requestAnimationFrame(ctt(this,fm)[fm])}}]),t}())});var jZ=h(function(Ibt,UZ){var dtt=(Z(),ee(te)),HR=dtt.h;function htt(t){var e=t.onSubmit,r=t.i18n;return HR("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},HR("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},HR("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}UZ.exports=htt});var NZ=h(function(kbt,MZ){var vtt=(Z(),ee(te)),ap=vtt.h;function ytt(t){var e=t.onDiscard,r=t.i18n;return ap("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},ap("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},ap("g",{fill:"#FFF",fillRule:"evenodd"},ap("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),ap("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}MZ.exports=ytt});var HZ=h(function(xbt,$Z){var gtt=(Z(),ee(te)),Xr=gtt.h,BZ=(OZ(),ee(SZ)),LZ=BZ.useEffect,zZ=BZ.useRef,mtt=qZ(),btt=AZ(),_tt=kZ(),wtt=DZ(),Stt=jZ(),Ott=NZ();$Z.exports=function(e){var r=e.stream,n=e.recordedAudio,i=e.onStop,a=e.recording,o=e.supportsRecording,u=e.audioSources,s=e.showAudioSourceDropdown,l=e.onSubmit,c=e.i18n,f=e.onStartRecording,p=e.onStopRecording,d=e.onDiscardRecordedAudio,v=e.recordingLengthSeconds,g=zZ(null),m=zZ(null);LZ(function(){return function(){m.current=null,i()}},[i]),LZ(function(){if(!n&&(m.current=new wtt(g.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),m.current.draw(),r)){var F=new AudioContext,j=F.createMediaStreamSource(r);m.current.addSource(j)}},[n,r]);var _=n!=null,O=!_&&o,E=s&&!_&&u&&u.length>1;return Xr("div",{className:"uppy-Audio-container"},Xr("div",{className:"uppy-Audio-audioContainer"},_?Xr("audio",{className:"uppy-Audio-player",controls:!0,src:n}):Xr("canvas",{ref:g,className:"uppy-Audio-canvas"})),Xr("div",{className:"uppy-Audio-footer"},Xr("div",{className:"uppy-Audio-audioSourceContainer"},E?_tt(e):null),Xr("div",{className:"uppy-Audio-buttonContainer"},O&&Xr(mtt,{recording:a,onStartRecording:f,onStopRecording:p,i18n:c}),_&&Xr(Stt,{onSubmit:l,i18n:c}),_&&Xr(Ott,{onDiscard:d,i18n:c})),Xr("div",{className:"uppy-Audio-recordingLength"},!_&&Xr(btt,{recordingLengthSeconds:v,i18n:c}))))}});var WZ=h(function(Fbt,VZ){var Ptt=(Z(),ee(te)),pm=Ptt.h;VZ.exports=function(t){var e=t.icon,r=t.hasAudio,n=t.i18n;return pm("div",{className:"uppy-Audio-permissons"},pm("div",{className:"uppy-Audio-permissonsIcon"},e()),pm("h1",{className:"uppy-Audio-title"},n(r?"allowAudioAccessTitle":"noAudioTitle")),pm("p",null,n(r?"allowAudioAccessDescription":"noAudioDescription")))}});var KZ=h(function(Cbt,GZ){GZ.exports={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}}});var tee=h(function(Dbt,eee){function dm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dm=function(r){return typeof r}:dm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dm(t)}function YZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qtt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YZ(Object(r),!0).forEach(function(n){Rtt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rtt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XZ(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function Ett(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){XZ(a,n,i,o,u,"next",s)}function u(s){XZ(a,n,i,o,u,"throw",s)}o(void 0)})}}function Ttt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Att(t,e,r){return e&&JZ(t.prototype,e),r&&JZ(t,r),t}function Itt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VR(t,e)}function VR(t,e){return VR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},VR(t,e)}function ktt(t){var e=Ftt();return function(){var n=hm(t),i;if(e){var a=hm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return xtt(this,i)}}function xtt(t,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pe(t)}function pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ftt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(t)}var QZ,kt,ti,tt,rt,ri,xt,Bs,vm,Na,ym,Ls,gm,mm,ni,bm,_m,Ba,ZZ;function WR(){return WR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WR.apply(this,arguments)}function ue(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Ctt=0;function Lt(t){return"__private_"+Ctt+++"_"+t}var Dtt=(Z(),ee(te)),zs=Dtt.h,Utt=ot(),jtt=Utt.UIPlugin,Mtt=Qg(),Ntt=cZ(),Btt=HZ(),Ltt=WZ(),ztt=KZ();eee.exports=(ZZ=(kt=Lt("stream"),ti=Lt("audioActive"),tt=Lt("recordingChunks"),rt=Lt("recorder"),ri=Lt("capturedMediaFile"),xt=Lt("mediaDevices"),Bs=Lt("supportsUserMedia"),vm=Lt("hasAudioCheck"),Na=Lt("start"),ym=Lt("startRecording"),Ls=Lt("stopRecording"),gm=Lt("discardRecordedAudio"),mm=Lt("submit"),ni=Lt("stop"),bm=Lt("getAudio"),_m=Lt("changeSource"),Ba=Lt("updateSources"),QZ=function(t){Itt(r,t);var e=ktt(r);function r(n,i){var a;Ttt(this,r);var o;return a=e.call(this,n,i),o=pe(a),Object.defineProperty(pe(a),bm,{value:Htt}),Object.defineProperty(pe(a),vm,{value:$tt}),Object.defineProperty(pe(a),kt,{writable:!0,value:null}),Object.defineProperty(pe(a),ti,{writable:!0,value:!1}),Object.defineProperty(pe(a),tt,{writable:!0,value:null}),Object.defineProperty(pe(a),rt,{writable:!0,value:null}),Object.defineProperty(pe(a),ri,{writable:!0,value:null}),Object.defineProperty(pe(a),xt,{writable:!0,value:null}),Object.defineProperty(pe(a),Bs,{writable:!0,value:null}),Object.defineProperty(pe(a),Na,{writable:!0,value:function(s){if(s===void 0&&(s=null),!ue(o,Bs)[Bs])return Promise.reject(new Error("Microphone access not supported"));ue(o,ti)[ti]=!0,ue(o,vm)[vm]().then(function(l){return o.setPluginState({hasAudio:l}),ue(o,xt)[xt].getUserMedia({audio:!0}).then(function(c){ue(o,kt)[kt]=c;var f=null,p=c.getAudioTracks();!s||!s.deviceId?f=p[0].getSettings().deviceId:p.forEach(function(d){d.getSettings().deviceId===s.deviceId&&(f=d.getSettings().deviceId)}),ue(o,Ba)[Ba](),o.setPluginState({currentDeviceId:f,audioReady:!0})}).catch(function(c){o.setPluginState({audioReady:!1,cameraError:c}),o.uppy.info(c.message,"error")})})}}),Object.defineProperty(pe(a),ym,{writable:!0,value:function(){ue(pe(a),rt)[rt]=new MediaRecorder(ue(pe(a),kt)[kt]),ue(pe(a),tt)[tt]=[];var s=!1;ue(pe(a),rt)[rt].addEventListener("dataavailable",function(l){ue(pe(a),tt)[tt].push(l.data);var c=a.uppy.opts.restrictions;if(ue(pe(a),tt)[tt].length>1&&c.maxFileSize!=null&&!s){var f=ue(pe(a),tt)[tt].reduce(function(g,m){return g+m.size},0),p=(f-ue(pe(a),tt)[tt][0].size)/(ue(pe(a),tt)[tt].length-1),d=p*3,v=Math.max(0,c.maxFileSize-d);f>v&&(s=!0,a.uppy.info(a.i18n("recordingStoppedMaxSize"),"warning",4e3),ue(pe(a),Ls)[Ls]())}}),ue(pe(a),rt)[rt].start(500),a.recordingLengthTimer=setInterval(function(){var l=a.getPluginState().recordingLengthSeconds;a.setPluginState({recordingLengthSeconds:l+1})},1e3),a.setPluginState({isRecording:!0})}}),Object.defineProperty(pe(a),Ls,{writable:!0,value:function(){var s=new Promise(function(l){ue(pe(a),rt)[rt].addEventListener("stop",function(){l()}),ue(pe(a),rt)[rt].stop(),clearInterval(a.recordingLengthTimer),a.setPluginState({recordingLengthSeconds:0})});return s.then(function(){return a.setPluginState({isRecording:!1}),ue(pe(a),bm)[bm]()}).then(function(l){try{ue(pe(a),ri)[ri]=l,a.setPluginState({recordedAudio:URL.createObjectURL(l.data)})}catch(c){c.isRestriction||a.uppy.log(c)}}).then(function(){ue(pe(a),tt)[tt]=null,ue(pe(a),rt)[rt]=null},function(l){throw ue(pe(a),tt)[tt]=null,ue(pe(a),rt)[rt]=null,l})}}),Object.defineProperty(pe(a),gm,{writable:!0,value:function(){a.setPluginState({recordedAudio:null}),ue(pe(a),ri)[ri]=null}}),Object.defineProperty(pe(a),mm,{writable:!0,value:function(){try{ue(pe(a),ri)[ri]&&a.uppy.addFile(ue(pe(a),ri)[ri])}catch(s){s.isRestriction||a.uppy.log(s,"error")}}}),Object.defineProperty(pe(a),ni,{writable:!0,value:function(){var u=Ett(regeneratorRuntime.mark(function l(){var c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(ue(pe(a),kt)[kt]&&(c=ue(pe(a),kt)[kt].getAudioTracks(),c.forEach(function(d){return d.stop()})),!ue(pe(a),rt)[rt]){p.next=4;break}return p.next=4,new Promise(function(d){ue(pe(a),rt)[rt].addEventListener("stop",d,{once:!0}),ue(pe(a),rt)[rt].stop(),clearInterval(a.recordingLengthTimer)});case 4:ue(pe(a),tt)[tt]=null,ue(pe(a),rt)[rt]=null,ue(pe(a),ti)[ti]=!1,ue(pe(a),kt)[kt]=null,a.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return p.stop()}},l)}));function s(){return u.apply(this,arguments)}return s}()}),Object.defineProperty(pe(a),_m,{writable:!0,value:function(s){ue(pe(a),ni)[ni](),ue(pe(a),Na)[Na]({deviceId:s})}}),Object.defineProperty(pe(a),Ba,{writable:!0,value:function(){ue(pe(a),xt)[xt].enumerateDevices().then(function(s){a.setPluginState({audioSources:s.filter(function(l){return l.kind==="audioinput"})})})}}),ue(pe(a),xt)[xt]=navigator.mediaDevices,ue(pe(a),Bs)[Bs]=ue(pe(a),xt)[xt]!=null,a.id=a.opts.id||"Audio",a.type="acquirer",a.icon=function(){return zs("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},zs("g",{fill:"none","fill-rule":"evenodd"},zs("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),zs("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))},a.defaultLocale=ztt,a.opts=qtt({},i),a.i18nInit(),a.title=a.i18n("pluginNameAudio"),a.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null}),a}return Att(r,[{key:"render",value:function(){ue(this,ti)[ti]||ue(this,Na)[Na]();var i=this.getPluginState();return!i.audioReady||!i.hasAudio?zs(Ltt,{icon:this.icon,i18n:this.i18n,hasAudio:i.hasAudio}):zs(Btt,WR({},i,{audioActive:ue(this,ti)[ti],onChangeSource:ue(this,_m)[_m],onStartRecording:ue(this,ym)[ym],onStopRecording:ue(this,Ls)[Ls],onDiscardRecordedAudio:ue(this,gm)[gm],onSubmit:ue(this,mm)[mm],onStop:ue(this,ni)[ni],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:Ntt(),recording:i.isRecording,stream:ue(this,kt)[kt]}))}},{key:"install",value:function(){var i=this;this.setPluginState({audioReady:!1,recordingLengthSeconds:0});var a=this.opts.target;a&&this.mount(a,this),ue(this,xt)[xt]&&(ue(this,Ba)[Ba](),ue(this,xt)[xt].ondevicechange=function(){if(ue(i,Ba)[Ba](),ue(i,kt)[kt]){var o=!0,u=i.getPluginState(),s=u.audioSources,l=u.currentDeviceId;s.forEach(function(c){l===c.deviceId&&(o=!1)}),o&&(ue(i,ni)[ni](),ue(i,Na)[Na]())}})}},{key:"uninstall",value:function(){ue(this,kt)[kt]&&ue(this,ni)[ni](),this.unmount()}}]),r}(jtt)),QZ.VERSION="0.2.1",ZZ);function $tt(){return ue(this,xt)[xt]?ue(this,xt)[xt].enumerateDevices().then(function(t){return t.some(function(e){return e.kind==="audioinput"})}):Promise.resolve(!1)}function Htt(){var t=ue(this,tt)[tt].find(function(a){var o;return((o=a.type)==null?void 0:o.length)>0}).type,e=Mtt(t);if(!e)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(t,'"')));var r="audio-".concat(Date.now(),".").concat(e),n=new Blob(ue(this,tt)[tt],{type:t}),i={source:this.id,name:r,data:new Blob([n],{type:t}),type:t};return Promise.resolve(i)}});var $s=h(function(Ubt,nee){function Vtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ree(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wtt(t,e,r){return e&&ree(t.prototype,e),r&&ree(t,r),t}function ve(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Gtt=0;function hr(t){return"__private_"+Gtt+++"_"+t}function Ktt(){return new Error("Cancelled")}var Rr=hr("activeRequests"),nr=hr("queuedHandlers"),Er=hr("paused"),Yo=hr("pauseTimer"),ir=hr("downLimit"),Xo=hr("upperLimit"),$i=hr("rateLimitingTimer"),op=hr("call"),Hi=hr("queueNext"),GR=hr("next"),KR=hr("queue"),YR=hr("dequeue"),XR=hr("resume"),Jo=hr("increaseLimit"),Ytt=function(){function t(e){var r=this;Vtt(this,t),Object.defineProperty(this,YR,{value:ert}),Object.defineProperty(this,KR,{value:Ztt}),Object.defineProperty(this,GR,{value:Qtt}),Object.defineProperty(this,Hi,{value:Jtt}),Object.defineProperty(this,op,{value:Xtt}),Object.defineProperty(this,Rr,{writable:!0,value:0}),Object.defineProperty(this,nr,{writable:!0,value:[]}),Object.defineProperty(this,Er,{writable:!0,value:!1}),Object.defineProperty(this,Yo,{writable:!0,value:void 0}),Object.defineProperty(this,ir,{writable:!0,value:1}),Object.defineProperty(this,Xo,{writable:!0,value:void 0}),Object.defineProperty(this,$i,{writable:!0,value:void 0}),Object.defineProperty(this,XR,{writable:!0,value:function(){return r.resume()}}),Object.defineProperty(this,Jo,{writable:!0,value:function(){if(ve(r,Er)[Er]){ve(r,$i)[$i]=setTimeout(ve(r,Jo)[Jo],0);return}ve(r,ir)[ir]=r.limit,r.limit=Math.ceil((ve(r,Xo)[Xo]+ve(r,ir)[ir])/2);for(var i=ve(r,ir)[ir];i<=r.limit;i++)ve(r,Hi)[Hi]();ve(r,Xo)[Xo]-ve(r,ir)[ir]>3?ve(r,$i)[$i]=setTimeout(ve(r,Jo)[Jo],2e3):ve(r,ir)[ir]=Math.floor(ve(r,ir)[ir]/2)}}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e}return Wtt(t,[{key:"run",value:function(r,n){return!ve(this,Er)[Er]&&ve(this,Rr)[Rr]<this.limit?ve(this,op)[op](r):ve(this,KR)[KR](r,n)}},{key:"wrapPromiseFunction",value:function(r,n){var i=this;return function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];var s,l=new Promise(function(c,f){s=i.run(function(){var p,d;try{d=Promise.resolve(r.apply(void 0,o))}catch(v){d=Promise.reject(v)}return d.then(function(v){p?f(p):(s.done(),c(v))},function(v){p?f(p):(s.done(),f(v))}),function(){p=Ktt()}},n)});return l.abort=function(){s.abort()},l}}},{key:"resume",value:function(){ve(this,Er)[Er]=!1,clearTimeout(ve(this,Yo)[Yo]);for(var r=0;r<this.limit;r++)ve(this,Hi)[Hi]()}},{key:"pause",value:function(r){r===void 0&&(r=null),ve(this,Er)[Er]=!0,clearTimeout(ve(this,Yo)[Yo]),r!=null&&(ve(this,Yo)[Yo]=setTimeout(ve(this,XR)[XR],r))}},{key:"rateLimit",value:function(r){clearTimeout(ve(this,$i)[$i]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(ve(this,Xo)[Xo]=this.limit-1,this.limit=ve(this,ir)[ir],ve(this,$i)[$i]=setTimeout(ve(this,Jo)[Jo],r))}},{key:"isPaused",get:function(){return ve(this,Er)[Er]}}]),t}();function Xtt(t){var e=this;ve(this,Rr)[Rr]+=1;var r=!1,n;try{n=t()}catch(i){throw ve(this,Rr)[Rr]-=1,i}return{abort:function(){r||(r=!0,ve(e,Rr)[Rr]-=1,n(),ve(e,Hi)[Hi]())},done:function(){r||(r=!0,ve(e,Rr)[Rr]-=1,ve(e,Hi)[Hi]())}}}function Jtt(){var t=this;queueMicrotask(function(){return ve(t,GR)[GR]()})}function Qtt(){if(!(ve(this,Er)[Er]||ve(this,Rr)[Rr]>=this.limit)&&ve(this,nr)[nr].length!==0){var t=ve(this,nr)[nr].shift(),e=ve(this,op)[op](t.fn);t.abort=e.abort,t.done=e.done}}function Ztt(t,e){var r=this;e===void 0&&(e={});var n={fn:t,priority:e.priority||0,abort:function(){ve(r,YR)[YR](n)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=ve(this,nr)[nr].findIndex(function(a){return n.priority>a.priority});return i===-1?ve(this,nr)[nr].push(n):ve(this,nr)[nr].splice(i,0,n),n}function ert(t){var e=ve(this,nr)[nr].indexOf(t);e!==-1&&ve(this,nr)[nr].splice(e,1)}nee.exports={RateLimitedQueue:Ytt,internalRateLimitedQueue:Symbol("__queue")}});var up=h(function(jbt,iee){var trt=vf();function rrt(t,e,r){var n=e.progress,i=e.bytesUploaded,a=e.bytesTotal;n&&(t.uppy.log("Upload progress: ".concat(n)),t.uppy.emit("upload-progress",r,{uploader:t,bytesUploaded:i,bytesTotal:a}))}iee.exports=trt(rrt,300,{leading:!0,trailing:!0})});var sp=h(function(Mbt,aee){aee.exports=function(e){var r=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i,n=r.exec(e)[1],i=/^http:\/\//i.test(e)?"ws":"wss";return"".concat(i,"://").concat(n)}});var cp=h(function(Nbt,cee){function nrt(t,e){return ort(t)||art(t,e)||oee(t,e)||irt()}function irt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function art(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function ort(t){if(Array.isArray(t))return t}function urt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=oee(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function oee(t,e){if(!!t){if(typeof t=="string")return uee(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uee(t,e)}}function uee(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function srt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function see(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lrt(t,e,r){return e&&see(t.prototype,e),r&&see(t,r),t}var La,Hs;function lp(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var crt=0;function lee(t){return"__private_"+crt+++"_"+t}cee.exports=(La=lee("emitter"),Hs=lee("events"),function(){function t(e){srt(this,t),Object.defineProperty(this,La,{writable:!0,value:void 0}),Object.defineProperty(this,Hs,{writable:!0,value:[]}),lp(this,La)[La]=e}return lrt(t,[{key:"on",value:function(r,n){return lp(this,Hs)[Hs].push([r,n]),lp(this,La)[La].on(r,n)}},{key:"remove",value:function(){var r=urt(lp(this,Hs)[Hs].splice(0)),n;try{for(r.s();!(n=r.n()).done;){var i=nrt(n.value,2),a=i[0],o=i[1];lp(this,La)[La].off(a,o)}}catch(u){r.e(u)}finally{r.f()}}}]),t}())});var JR=h(function(Bbt,pee){function frt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function prt(t,e,r){return e&&fee(t.prototype,e),r&&fee(t,r),t}function Jr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var drt=0;function wm(t){return"__private_"+drt+++"_"+t}var Vi=wm("aliveTimer"),Qo=wm("isDone"),fp=wm("onTimedOut"),Zo=wm("timeout"),hrt=function(){function t(e,r){frt(this,t),Object.defineProperty(this,Vi,{writable:!0,value:void 0}),Object.defineProperty(this,Qo,{writable:!0,value:!1}),Object.defineProperty(this,fp,{writable:!0,value:void 0}),Object.defineProperty(this,Zo,{writable:!0,value:void 0}),Jr(this,Zo)[Zo]=e,Jr(this,fp)[fp]=r}return prt(t,[{key:"progress",value:function(){Jr(this,Qo)[Qo]||Jr(this,Zo)[Zo]>0&&(clearTimeout(Jr(this,Vi)[Vi]),Jr(this,Vi)[Vi]=setTimeout(Jr(this,fp)[fp],Jr(this,Zo)[Zo]))}},{key:"done",value:function(){Jr(this,Qo)[Qo]||(clearTimeout(Jr(this,Vi)[Vi]),Jr(this,Vi)[Vi]=null,Jr(this,Qo)[Qo]=!0)}}]),t}();pee.exports=hrt});var Sm=h(function(Lbt,dee){function vrt(t){return t?t.readyState!==0&&t.readyState!==4||t.status===0:!1}dee.exports=vrt});var bee=h(function(zbt,mee){function hee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hee(Object(r),!0).forEach(function(n){yrt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yrt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function grt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mrt(t,e,r){return e&&vee(t.prototype,e),r&&vee(t,r),t}var Vs,za,$a,Om,Pm;function ai(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var brt=0;function pp(t){return"__private_"+brt+++"_"+t}var _rt=Co(),wrt=_rt.nanoid,QR=tr(),Srt=QR.Provider,Ort=QR.RequestClient,Prt=QR.Socket,qrt=up(),Rrt=sp(),yee=cp(),Ert=JR(),Trt=No(),Art=Sm(),Irt=$s(),krt=Irt.internalRateLimitedQueue;function gee(t,e){if(Art(t))return new Trt(e,t);var r=new Error("Upload error");return r.cause=e,r.request=t,r}function xrt(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}function Frt(t,e,r){var n=Array.isArray(r.metaFields)?r.metaFields:Object.keys(e);n.forEach(function(i){t.append(i,e[i])})}function Crt(t,e){var r=new FormData;Frt(r,t.meta,e);var n=xrt(t);return t.name?r.append(e.fieldName,n,t.meta.name):r.append(e.fieldName,n),r}var Drt=function(e){return e.data};mee.exports=(Vs=pp("getOptions"),za=pp("addEventHandlerForFile"),$a=pp("addEventHandlerIfFileStillExists"),Om=pp("uploadLocalFile"),Pm=pp("uploadRemoteFile"),function(){function t(e,r){grt(this,t),Object.defineProperty(this,Pm,{value:Brt}),Object.defineProperty(this,Om,{value:Nrt}),Object.defineProperty(this,$a,{value:Mrt}),Object.defineProperty(this,za,{value:jrt}),Object.defineProperty(this,Vs,{value:Urt}),this.uppy=e,this.opts=ii({validateStatus:function(i){return i>=200&&i<300}},r),this.requests=r[krt],this.uploaderEvents=Object.create(null),this.i18n=r.i18n}return mrt(t,[{key:"uploadFile",value:function(r,n,i){var a=this.uppy.getFile(r);if(a.error)throw new Error(a.error);return a.isRemote?ai(this,Pm)[Pm](a,n,i):ai(this,Om)[Om](a,n,i)}}]),t}());function Urt(t){var e,r=this.uppy,n=r.getState().xhrUpload,i=ii(ii(ii(ii({},this.opts),n||{}),t.xhrUpload||{}),{},{headers:ii(ii(ii({},this.opts.headers),n==null?void 0:n.headers),(e=t.xhrUpload)==null?void 0:e.headers)});return i}function jrt(t,e,r){this.uploaderEvents[e].on(t,function(n){e===n&&r()})}function Mrt(t,e,r){var n=this;this.uploaderEvents[e].on(t,function(){n.uppy.getFile(e)&&r()})}function Nrt(t,e,r){var n=this,i=ai(this,Vs)[Vs](t);return this.uppy.log("uploading ".concat(e," of ").concat(r)),new Promise(function(a,o){var u=i.formData?Crt(t,i):Drt(t,i),s=new XMLHttpRequest;n.uploaderEvents[t.id]=new yee(n.uppy);var l=new Ert(i.timeout,function(){s.abort(),f.done();var p=new Error(n.i18n("timedOut",{seconds:Math.ceil(i.timeout/1e3)}));n.uppy.emit("upload-error",t,p),o(p)}),c=wrt();s.upload.addEventListener("loadstart",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," started"))}),s.upload.addEventListener("progress",function(p){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," progress: ").concat(p.loaded," / ").concat(p.total)),l.progress(),p.lengthComputable&&n.uppy.emit("upload-progress",t,{uploader:n,bytesUploaded:p.loaded,bytesTotal:p.total})}),s.addEventListener("load",function(p){if(n.uppy.log("[AwsS3/XHRUpload] ".concat(c," finished")),l.done(),f.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null),i.validateStatus(p.target.status,s.responseText,s)){var d=i.getResponseData(s.responseText,s),v=d[i.responseUrlFieldName],g={status:p.target.status,body:d,uploadURL:v};return n.uppy.emit("upload-success",t,g),v&&n.uppy.log("Download ".concat(t.name," from ").concat(v)),a(t)}var m=i.getResponseData(s.responseText,s),_=gee(s,i.getResponseError(s.responseText,s)),O={status:p.target.status,body:m};return n.uppy.emit("upload-error",t,_,O),o(_)}),s.addEventListener("error",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," errored")),l.done(),f.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null);var p=gee(s,i.getResponseError(s.responseText,s));return n.uppy.emit("upload-error",t,p),o(p)}),s.open(i.method.toUpperCase(),i.endpoint,!0),s.withCredentials=Boolean(i.withCredentials),i.responseType!==""&&(s.responseType=i.responseType),Object.keys(i.headers).forEach(function(p){s.setRequestHeader(p,i.headers[p])});var f=n.requests.run(function(){return s.send(u),function(){l.done(),s.abort()}},{priority:1});ai(n,za)[za]("file-removed",t.id,function(){f.abort(),o(new Error("File removed"))}),ai(n,$a)[$a]("cancel-all",t.id,function(){f.abort(),o(new Error("Upload cancelled"))})})}function Brt(t){var e=this,r=ai(this,Vs)[Vs](t),n=Array.isArray(r.metaFields)?r.metaFields:Object.keys(t.meta),i=t.remote.providerOptions.provider?Srt:Ort,a=new i(this.uppy,t.remote.providerOptions);return a.post(t.remote.url,ii(ii({},t.remote.body),{},{endpoint:r.endpoint,size:t.data.size,fieldname:r.fieldName,metadata:Object.fromEntries(n.map(function(o){return[o,t.meta[o]]})),httpMethod:r.method,useFormData:r.formData,headers:r.headers})).then(function(o){return new Promise(function(u,s){var l=o.token,c=Rrt(t.remote.companionUrl),f=new Prt({target:"".concat(c,"/api/").concat(l),autoOpen:!1});e.uploaderEvents[t.id]=new yee(e.uppy);var p=e.requests.run(function(){return f.open(),t.isPaused&&f.send("pause",{}),function(){return f.close()}});ai(e,za)[za]("file-removed",t.id,function(){f.send("pause",{}),p.abort(),u("upload ".concat(t.id," was removed"))}),ai(e,$a)[$a]("cancel-all",t.id,function(){f.send("pause",{}),p.abort(),u("upload ".concat(t.id," was canceled"))}),ai(e,za)[za]("upload-retry",t.id,function(){f.send("pause",{}),f.send("resume",{})}),ai(e,$a)[$a]("retry-all",t.id,function(){f.send("pause",{}),f.send("resume",{})}),f.on("progress",function(d){return qrt(e,d,t)}),f.on("success",function(d){var v=r.getResponseData(d.response.responseText,d.response),g=v[r.responseUrlFieldName],m={status:d.response.status,body:v,uploadURL:g,bytesUploaded:d.bytesUploaded};return e.uppy.emit("upload-success",t,m),p.done(),e.uploaderEvents[t.id]&&(e.uploaderEvents[t.id].remove(),e.uploaderEvents[t.id]=null),u()}),f.on("error",function(d){var v=d.response,g=v?r.getResponseError(v.responseText,v):Object.assign(new Error(d.error.message),{cause:d.error});e.uppy.emit("upload-error",t,g),p.done(),e.uploaderEvents[t.id]&&(e.uploaderEvents[t.id].remove(),e.uploaderEvents[t.id]=null),s(g)})}).catch(function(u){return e.uppy.emit("upload-error",t,u),Promise.reject(u)})})}});var wee=h(function($bt,_ee){function Lrt(t){return t.replace(/;.*$/,"")}function zrt(t,e){var r=e.headers?e.headers["content-type"]:e.getResponseHeader("Content-Type");if(typeof r=="string"){var n=Lrt(r).toLowerCase();if(n==="application/xml"||n==="text/xml"||n==="text/html"&&/^<\?xml /.test(t))return!0}return!1}_ee.exports=zrt});var Oee=h(function(Hbt,See){See.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}});var xee=h(function(Vbt,kee){function Pee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pee(Object(r),!0).forEach(function(n){hp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hrt(t,e,r){return e&&qee(t.prototype,e),r&&qee(t,r),t}function Vrt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZR(t,e)}function ZR(t,e){return ZR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ZR(t,e)}function Wrt(t){var e=Krt();return function(){var n=qm(t),i;if(e){var a=qm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Grt(this,i)}}function Grt(t,e){if(e&&(vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oi(t)}function oi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Krt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function vp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vp=function(r){return typeof r}:vp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vp(t)}var Ree,Ws,Ha,Gs,Ks,Eee;function Wi(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Yrt=0;function Rm(t){return"__private_"+Yrt+++"_"+t}var Xrt=_n(),Tee=$s(),Jrt=Tee.RateLimitedQueue,Qrt=Tee.internalRateLimitedQueue,Zrt=tr(),ent=Zrt.RequestClient,tnt=bee(),Aee=wee(),rnt=Oee();function nnt(t,e){return new URL(e,t||void 0).toString()}function yp(t,e){var r=t.indexOf("<".concat(e,">")),n=t.indexOf("</".concat(e,">"),r);return r!==-1&&n!==-1?t.slice(r+e.length+2,n):""}function int(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function ant(t,e){var r=e!=null&&typeof e.url=="string"&&(vp(e.fields)==="object"||e.fields==null);if(!r){var n=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '".concat(t.name,"', expected an object '{ url, method, fields, headers }' but got '").concat(JSON.stringify(e),"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw n}var i=e.method==null||/^p(u|os)t$/i.test(e.method);if(!i){var a=new TypeError("AwsS3: got incorrect method from 'getUploadParameters()' for file '".concat(t.name,"', expected  'put' or 'post' but got '").concat(e.method,"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw a}}function ont(t,e){if(!!Aee(t,e)){var r=yp(t,"Message");return new Error(r)}}var Iee=!1;kee.exports=(Eee=(Ws=Rm("client"),Ha=Rm("requests"),Gs=Rm("uploader"),Ks=Rm("handleUpload"),Ree=function(t){Vrt(r,t);var e=Wrt(r);function r(n,i){var a;$rt(this,r),a=e.call(this,n,i),Object.defineProperty(oi(a),Ws,{writable:!0,value:void 0}),Object.defineProperty(oi(a),Ha,{writable:!0,value:void 0}),Object.defineProperty(oi(a),Gs,{writable:!0,value:void 0}),Object.defineProperty(oi(a),Ks,{writable:!0,value:function(s){var l=Object.create(null);function c(d){var v,g=d.id;(v=l[g])==null||v.abort()}a.uppy.on("file-removed",c),s.forEach(function(d){var v=a.uppy.getFile(d);a.uppy.emit("upload-started",v)});var f=Wi(oi(a),Ha)[Ha].wrapPromiseFunction(function(d){return a.opts.getUploadParameters(d)}),p=s.length;return Promise.allSettled(s.map(function(d,v){return l[d]=f(a.uppy.getFile(d)),l[d].then(function(g){delete l[d];var m=a.uppy.getFile(d);ant(m,g);var _=g.method,O=_===void 0?"post":_,E=g.url,F=g.fields,j=g.headers,C={method:O,formData:O.toLowerCase()==="post",endpoint:E,metaFields:F?Object.keys(F):[]};return j&&(C.headers=j),a.uppy.setFileState(m.id,{meta:dp(dp({},m.meta),F),xhrUpload:C}),Wi(oi(a),Gs)[Gs].uploadFile(m.id,v,p)}).catch(function(g){delete l[d];var m=a.uppy.getFile(d);return a.uppy.emit("upload-error",m,g),Promise.reject(g)})})).finally(function(){a.uppy.off("file-removed",c)})}}),a.type="uploader",a.id=a.opts.id||"AwsS3",a.title="AWS S3",a.defaultLocale=rnt;var o={timeout:30*1e3,limit:0,metaFields:[],getUploadParameters:a.getUploadParameters.bind(oi(a))};return a.opts=dp(dp({},o),i),a.i18nInit(),Wi(oi(a),Ws)[Ws]=new ent(n,i),Wi(oi(a),Ha)[Ha]=new Jrt(a.opts.limit),a}return Hrt(r,[{key:"getUploadParameters",value:function(i){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var a=i.meta.name,o=i.meta.type,u=Object.fromEntries(this.opts.metaFields.filter(function(l){return i.meta[l]!=null}).map(function(l){return["metadata[".concat(l,"]"),i.meta[l].toString()]})),s=new URLSearchParams(dp({filename:a,type:o},u));return Wi(this,Ws)[Ws].get("s3/params?".concat(s)).then(int)}},{key:"install",value:function(){var i,a=this.uppy;a.addUploader(Wi(this,Ks)[Ks]);function o(s,l){var c=this;return Aee(s,l)?{location:nnt(l.responseURL,yp(s,"Location")),bucket:yp(s,"Bucket"),key:yp(s,"Key"),etag:yp(s,"ETag")}:c.method.toUpperCase()==="POST"?(Iee||(a.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),Iee=!0),{location:null}):l.responseURL?{location:l.responseURL.replace(/\?.*$/,"")}:{location:null}}var u=(i={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout},hp(i,Qrt,Wi(this,Ha)[Ha]),hp(i,"responseType","text"),hp(i,"getResponseData",this.opts.getResponseData||o),hp(i,"getResponseError",ont),i);u.i18n=this.i18n,Wi(this,Gs)[Gs]=new tnt(a,u)}},{key:"uninstall",value:function(){this.uppy.removeUploader(Wi(this,Ks)[Ks])}}]),r}(Xrt)),Ree.VERSION="2.0.7",Eee)});var eE=h(function(Em){Em.AbortController=globalThis.AbortController;Em.AbortSignal=globalThis.AbortSignal;Em.createAbortError=function(t){return t===void 0&&(t="Aborted"),new DOMException(t,"AbortError")}});var Dee=h(function(Gbt,Cee){var unt=eE(),Fee=unt.createAbortError;Cee.exports=function(e,r){return new Promise(function(n,i){var a,o;if(r!=null&&(a=r.signal)!=null&&a.aborted)return i(Fee());var u=setTimeout(function(){l(),n()},e);function s(){clearTimeout(u),l(),i(Fee())}r==null||(o=r.signal)==null||o.addEventListener("abort",s);function l(){var c;r==null||(c=r.signal)==null||c.removeEventListener("abort",s)}})}});var Vee=h(function(Kbt,Hee){function Uee(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function tE(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){Uee(a,n,i,o,u,"next",s)}function u(s){Uee(a,n,i,o,u,"throw",s)}o(void 0)})}}function gp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gp=function(r){return typeof r}:gp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gp(t)}function jee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jee(Object(r),!0).forEach(function(n){snt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function snt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cnt(t,e,r){return e&&Nee(t.prototype,e),r&&Nee(t,r),t}function Xe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var fnt=0;function ar(t){return"__private_"+fnt+++"_"+t}var Bee=eE(),Lee=Bee.AbortController,mp=Bee.createAbortError,pnt=Dee(),dnt=1024*1024,zee={limit:1,retryDelays:[0,1e3,3e3,5e3],getChunkSize:function(e){return Math.ceil(e.size/1e4)},onStart:function(){},onProgress:function(){},onPartComplete:function(){},onSuccess:function(){},onError:function(e){throw e}};function $ee(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}var Gi=ar("aborted"),rE=ar("initChunks"),nE=ar("createUpload"),iE=ar("resumeUpload"),eu=ar("uploadParts"),bp=ar("retryable"),aE=ar("prepareUploadParts"),oE=ar("uploadPartRetryable"),uE=ar("uploadPart"),_p=ar("onPartProgress"),sE=ar("onPartComplete"),lE=ar("uploadPartBytes"),cE=ar("completeUpload"),fE=ar("abortUpload"),Ki=ar("onError"),hnt=function(){function t(e,r){lnt(this,t),Object.defineProperty(this,Ki,{value:Ant}),Object.defineProperty(this,fE,{value:Tnt}),Object.defineProperty(this,cE,{value:Ent}),Object.defineProperty(this,lE,{value:Rnt}),Object.defineProperty(this,sE,{value:qnt}),Object.defineProperty(this,_p,{value:Pnt}),Object.defineProperty(this,uE,{value:Ont}),Object.defineProperty(this,oE,{value:Snt}),Object.defineProperty(this,aE,{value:wnt}),Object.defineProperty(this,bp,{value:_nt}),Object.defineProperty(this,eu,{value:bnt}),Object.defineProperty(this,iE,{value:mnt}),Object.defineProperty(this,nE,{value:gnt}),Object.defineProperty(this,rE,{value:ynt}),Object.defineProperty(this,Gi,{value:vnt}),this.options=Mee(Mee({},zee),r),this.options.getChunkSize||(this.options.getChunkSize=zee.getChunkSize),this.file=e,this.abortController=new Lee,this.key=this.options.key||null,this.uploadId=this.options.uploadId||null,this.parts=[],this.createdPromise=Promise.reject(),this.isPaused=!1,this.partsInProgress=0,this.chunks=null,this.chunkState=null,Xe(this,rE)[rE](),this.createdPromise.catch(function(){})}return cnt(t,[{key:"start",value:function(){this.isPaused=!1,this.uploadId?Xe(this,iE)[iE]():Xe(this,nE)[nE]()}},{key:"pause",value:function(){this.abortController.abort(),this.abortController=new Lee,this.isPaused=!0}},{key:"abort",value:function(r){var n;r===void 0&&(r=void 0),(n=r)!=null&&n.really?Xe(this,fE)[fE]():this.pause()}}]),t}();function vnt(){return this.abortController.signal.aborted}function ynt(){var t=[],e=this.options.getChunkSize(this.file),r=Math.max(5*dnt,Math.ceil(this.file.size/1e4)),n=Math.max(e,r);if(this.file.size===0)t.push(this.file);else for(var i=0;i<this.file.size;i+=n){var a=Math.min(this.file.size,i+n);t.push(this.file.slice(i,a))}this.chunks=t,this.chunkState=t.map(function(){return{uploaded:0,busy:!1,done:!1}})}function gnt(){var t=this;return this.createdPromise=Promise.resolve().then(function(){return t.options.createMultipartUpload()}),this.createdPromise.then(function(e){if(Xe(t,Gi)[Gi]())throw mp();var r=gp(e)==="object"&&e&&typeof e.uploadId=="string"&&typeof e.key=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result from `createMultipartUpload()`, expected an object `{ uploadId, key }`.");t.key=e.key,t.uploadId=e.uploadId,t.options.onStart(e),Xe(t,eu)[eu]()}).catch(function(e){Xe(t,Ki)[Ki](e)})}function mnt(){return pE.apply(this,arguments)}function pE(){return pE=tE(regeneratorRuntime.mark(function t(){var e=this,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.options.listParts({uploadId:this.uploadId,key:this.key});case 3:if(r=i.sent,!Xe(this,Gi)[Gi]()){i.next=6;break}throw mp();case 6:r.forEach(function(a){var o=a.PartNumber-1;e.chunkState[o]={uploaded:$ee(a.Size),etag:a.ETag,done:!0},e.parts.some(function(u){return u.PartNumber===a.PartNumber})||e.parts.push({PartNumber:a.PartNumber,ETag:a.ETag})}),Xe(this,eu)[eu](),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),Xe(this,Ki)[Ki](i.t0);case 13:case"end":return i.stop()}},t,this,[[0,10]])})),pE.apply(this,arguments)}function bnt(){var t=this;if(!this.isPaused){if(this.chunkState.every(function(s){return s.done})){Xe(this,cE)[cE]();return}var e=this.options.limit-this.partsInProgress,r=this.chunkState.filter(function(s){return s.done}).length,n=this.chunks.length-r,i=Math.ceil(this.options.limit/2);if(i>n&&(i=n),!(e<i)){for(var a=[],o=0;o<this.chunkState.length;o++){var u=this.chunkState[o];if(!(u.done||u.busy)&&(a.push(o),a.length>=e))break}a.length!==0&&Xe(this,aE)[aE](a).then(function(s){a.forEach(function(l){var c=l+1,f={url:s.presignedUrls[c],headers:s.headers};Xe(t,oE)[oE](l,f).then(function(){Xe(t,eu)[eu]()},function(p){Xe(t,Ki)[Ki](p)})})})}}}function _nt(t){var e=this,r=t.before,n=t.attempt,i=t.after,a=this.options.retryDelays,o=this.abortController.signal;r&&r();function u(l){if(l.source&&typeof l.source.status=="number"){var c=l.source.status;return c===0||c===409||c===423||c>=500&&c<600}return!1}var s=function l(c){return n().catch(function(f){if(Xe(e,Gi)[Gi]())throw mp();if(u(f)&&c<a.length)return pnt(a[c],{signal:o}).then(function(){return l(c+1)});throw f})};return s(0).then(function(l){return i&&i(),l},function(l){throw i&&i(),l})}function wnt(t){return dE.apply(this,arguments)}function dE(){return dE=tE(regeneratorRuntime.mark(function t(e){var r=this,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.forEach(function(o){r.chunkState[o].busy=!0}),a.next=3,Xe(this,bp)[bp]({attempt:function(){return r.options.prepareUploadParts({key:r.key,uploadId:r.uploadId,partNumbers:e.map(function(u){return u+1})})}});case 3:if(n=a.sent,gp(n==null?void 0:n.presignedUrls)==="object"){a.next=6;break}throw new TypeError("AwsS3/Multipart: Got incorrect result from `prepareUploadParts()`, expected an object `{ presignedUrls }`.");case 6:return a.abrupt("return",n);case 7:case"end":return a.stop()}},t,this)})),dE.apply(this,arguments)}function Snt(t,e){var r=this;return Xe(this,bp)[bp]({before:function(){r.partsInProgress+=1},attempt:function(){return Xe(r,uE)[uE](t,e)},after:function(){r.partsInProgress-=1}})}function Ont(t,e){this.chunkState[t].busy=!0;var r=typeof(e==null?void 0:e.url)=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result for `prePreparedPart`, expected an object `{ url }`.");var n=e.url,i=e.headers;if(Xe(this,Gi)[Gi]())throw this.chunkState[t].busy=!1,mp();return Xe(this,lE)[lE](t,n,i)}function Pnt(t,e){this.chunkState[t].uploaded=$ee(e);var r=this.chunkState.reduce(function(n,i){return n+i.uploaded},0);this.options.onProgress(r,this.file.size)}function qnt(t,e){this.chunkState[t].etag=e,this.chunkState[t].done=!0;var r={PartNumber:t+1,ETag:e};this.parts.push(r),this.options.onPartComplete(r)}function Rnt(t,e,r){var n=this,i=this.chunks[t],a=this.abortController.signal,o,u=new Promise(function(f,p){o={resolve:f,reject:p}}),s=new XMLHttpRequest;s.open("PUT",e,!0),r&&Object.keys(r).forEach(function(f){s.setRequestHeader(f,r[f])}),s.responseType="text";function l(){a.removeEventListener("abort",c)}function c(){s.abort()}return a.addEventListener("abort",c),s.upload.addEventListener("progress",function(f){!f.lengthComputable||Xe(n,_p)[_p](t,f.loaded,f.total)}),s.addEventListener("abort",function(){l(),n.chunkState[t].busy=!1,o.reject(mp())}),s.addEventListener("load",function(f){if(l(),n.chunkState[t].busy=!1,f.target.status<200||f.target.status>=300){var p=new Error("Non 2xx");p.source=f.target,o.reject(p);return}n.chunks[t]=null,Xe(n,_p)[_p](t,i.size,i.size);var d=f.target.getResponseHeader("ETag");if(d===null){o.reject(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return}Xe(n,sE)[sE](t,d),o.resolve()}),s.addEventListener("error",function(f){l(),n.chunkState[t].busy=!1;var p=new Error("Unknown error");p.source=f.target,o.reject(p)}),s.send(i),u}function Ent(){return hE.apply(this,arguments)}function hE(){return hE=tE(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.parts.sort(function(i,a){return i.PartNumber-a.PartNumber}),n.prev=1,n.next=4,this.options.completeMultipartUpload({key:this.key,uploadId:this.uploadId,parts:this.parts});case 4:e=n.sent,this.options.onSuccess(e),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Xe(this,Ki)[Ki](n.t0);case 11:case"end":return n.stop()}},t,this,[[1,8]])})),hE.apply(this,arguments)}function Tnt(){var t=this;this.abortController.abort(),this.createdPromise.then(function(){t.options.abortMultipartUpload({key:t.key,uploadId:t.uploadId})},function(){})}function Ant(t){t&&t.name==="AbortError"||this.options.onError(t)}Hee.exports=hnt});var Zee=h(function(Ybt,Qee){function Tm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tm=function(r){return typeof r}:Tm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tm(t)}function Wee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wee(Object(r),!0).forEach(function(n){Int(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Int(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function knt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xnt(t,e,r){return e&&Gee(t.prototype,e),r&&Gee(t,r),t}function Fnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},vE(t,e)}function Cnt(t){var e=Unt();return function(){var n=Am(t),i;if(e){var a=Am(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Dnt(this,i)}}function Dnt(t,e){if(e&&(Tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tu(t)}function tu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Unt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}var Kee,Yee,jnt=_n(),yE=tr(),Mnt=yE.Socket,Nnt=yE.Provider,Xee=yE.RequestClient,Jee=cp(),Bnt=up(),Lnt=sp(),znt=$s(),$nt=znt.RateLimitedQueue,Hnt=Vee();function wp(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}Qee.exports=(Yee=Kee=function(t){Fnt(r,t);var e=Cnt(r);function r(n,i){var a;knt(this,r),a=e.call(this,n,i),a.type="uploader",a.id=a.opts.id||"AwsS3Multipart",a.title="AWS S3 Multipart",a.client=new Xee(n,i);var o={timeout:30*1e3,limit:0,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:a.createMultipartUpload.bind(tu(a)),listParts:a.listParts.bind(tu(a)),prepareUploadParts:a.prepareUploadParts.bind(tu(a)),abortMultipartUpload:a.abortMultipartUpload.bind(tu(a)),completeMultipartUpload:a.completeMultipartUpload.bind(tu(a))};return a.opts=Qr(Qr({},o),i),a.upload=a.upload.bind(tu(a)),a.requests=new $nt(a.opts.limit),a.uploaders=Object.create(null),a.uploaderEvents=Object.create(null),a.uploaderSockets=Object.create(null),a}return xnt(r,[{key:"resetUploaderReferences",value:function(i,a){a===void 0&&(a={}),this.uploaders[i]&&(this.uploaders[i].abort({really:a.abort||!1}),this.uploaders[i]=null),this.uploaderEvents[i]&&(this.uploaderEvents[i].remove(),this.uploaderEvents[i]=null),this.uploaderSockets[i]&&(this.uploaderSockets[i].close(),this.uploaderSockets[i]=null)}},{key:"assertHost",value:function(i){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address, or if you are not using Companion, a custom `".concat(i,"` implementation."))}},{key:"createMultipartUpload",value:function(i){this.assertHost("createMultipartUpload");var a={};return Object.keys(i.meta).forEach(function(o){i.meta[o]!=null&&(a[o]=i.meta[o].toString())}),this.client.post("s3/multipart",{filename:i.name,type:i.type,metadata:a}).then(wp)}},{key:"listParts",value:function(i,a){var o=a.key,u=a.uploadId;this.assertHost("listParts");var s=encodeURIComponent(o);return this.client.get("s3/multipart/".concat(u,"?key=").concat(s)).then(wp)}},{key:"prepareUploadParts",value:function(i,a){var o=a.key,u=a.uploadId,s=a.partNumbers;this.assertHost("prepareUploadParts");var l=encodeURIComponent(o);return this.client.get("s3/multipart/".concat(u,"/batch?key=").concat(l,"&partNumbers=").concat(s.join(","))).then(wp)}},{key:"completeMultipartUpload",value:function(i,a){var o=a.key,u=a.uploadId,s=a.parts;this.assertHost("completeMultipartUpload");var l=encodeURIComponent(o),c=encodeURIComponent(u);return this.client.post("s3/multipart/".concat(c,"/complete?key=").concat(l),{parts:s}).then(wp)}},{key:"abortMultipartUpload",value:function(i,a){var o=a.key,u=a.uploadId;this.assertHost("abortMultipartUpload");var s=encodeURIComponent(o),l=encodeURIComponent(u);return this.client.delete("s3/multipart/".concat(l,"?key=").concat(s)).then(wp)}},{key:"uploadFile",value:function(i){var a=this;return new Promise(function(o,u){var s=function(m){var _=a.uppy.getFile(i.id);a.uppy.setFileState(i.id,{s3Multipart:Qr(Qr({},_.s3Multipart),{},{key:m.key,uploadId:m.uploadId})})},l=function(m,_){a.uppy.emit("upload-progress",i,{uploader:a,bytesUploaded:m,bytesTotal:_})},c=function(m){a.uppy.log(m),a.uppy.emit("upload-error",i,m),v.done(),a.resetUploaderReferences(i.id),u(m)},f=function(m){var _={body:Qr({},m),uploadURL:m.location};v.done(),a.resetUploaderReferences(i.id);var O=a.uppy.getFile(i.id);a.uppy.emit("upload-success",O||i,_),m.location&&a.uppy.log("Download ".concat(d.file.name," from ").concat(m.location)),o(d)},p=function(m){var _=a.uppy.getFile(i.id);!_||a.uppy.emit("s3-multipart:part-uploaded",_,m)},d=new Hnt(i.data,Qr({createMultipartUpload:a.opts.createMultipartUpload.bind(a,i),listParts:a.opts.listParts.bind(a,i),prepareUploadParts:a.opts.prepareUploadParts.bind(a,i),completeMultipartUpload:a.opts.completeMultipartUpload.bind(a,i),abortMultipartUpload:a.opts.abortMultipartUpload.bind(a,i),getChunkSize:a.opts.getChunkSize?a.opts.getChunkSize.bind(a):null,onStart:s,onProgress:l,onError:c,onSuccess:f,onPartComplete:p,limit:a.opts.limit||5,retryDelays:a.opts.retryDelays||[]},i.s3Multipart));a.uploaders[i.id]=d,a.uploaderEvents[i.id]=new Jee(a.uppy);var v=a.requests.run(function(){return i.isPaused||d.start(),function(){}});a.onFileRemove(i.id,function(g){v.abort(),a.resetUploaderReferences(i.id,{abort:!0}),o("upload ".concat(g.id," was removed"))}),a.onCancelAll(i.id,function(){v.abort(),a.resetUploaderReferences(i.id,{abort:!0}),o("upload ".concat(i.id," was canceled"))}),a.onFilePause(i.id,function(g){g?(v.abort(),d.pause()):(v.abort(),v=a.requests.run(function(){return d.start(),function(){}}))}),a.onPauseAll(i.id,function(){v.abort(),d.pause()}),a.onResumeAll(i.id,function(){v.abort(),i.error&&d.abort(),v=a.requests.run(function(){return d.start(),function(){}})}),(!i.progress.uploadStarted||!i.isRestored)&&a.uppy.emit("upload-started",i)})}},{key:"uploadRemote",value:function(i){var a=this;return this.resetUploaderReferences(i.id),(!i.progress.uploadStarted||!i.isRestored)&&this.uppy.emit("upload-started",i),i.serverToken?this.connectToServerSocket(i):new Promise(function(o,u){var s=i.remote.providerOptions.provider?Nnt:Xee,l=new s(a.uppy,i.remote.providerOptions);l.post(i.remote.url,Qr(Qr({},i.remote.body),{},{protocol:"s3-multipart",size:i.data.size,metadata:i.meta})).then(function(c){return a.uppy.setFileState(i.id,{serverToken:c.token}),i=a.uppy.getFile(i.id),i}).then(function(c){return a.connectToServerSocket(c)}).then(function(){o()}).catch(function(c){a.uppy.emit("upload-error",i,c),u(c)})})}},{key:"connectToServerSocket",value:function(i){var a=this;return new Promise(function(o,u){var s=i.serverToken,l=Lnt(i.remote.companionUrl),c=new Mnt({target:"".concat(l,"/api/").concat(s),autoOpen:!1});a.uploaderSockets[i.id]=c,a.uploaderEvents[i.id]=new Jee(a.uppy),a.onFileRemove(i.id,function(){f.abort(),c.send("cancel",{}),a.resetUploaderReferences(i.id,{abort:!0}),o("upload ".concat(i.id," was removed"))}),a.onFilePause(i.id,function(p){p?(f.abort(),c.send("pause",{})):(f.abort(),f=a.requests.run(function(){return c.send("resume",{}),function(){}}))}),a.onPauseAll(i.id,function(){f.abort(),c.send("pause",{})}),a.onCancelAll(i.id,function(){f.abort(),c.send("cancel",{}),a.resetUploaderReferences(i.id),o("upload ".concat(i.id," was canceled"))}),a.onResumeAll(i.id,function(){f.abort(),i.error&&c.send("pause",{}),f=a.requests.run(function(){c.send("resume",{})})}),a.onRetry(i.id,function(){c.isOpen&&(c.send("pause",{}),c.send("resume",{}))}),a.onRetryAll(i.id,function(){c.isOpen&&(c.send("pause",{}),c.send("resume",{}))}),c.on("progress",function(p){return Bnt(a,p,i)}),c.on("error",function(p){a.uppy.emit("upload-error",i,new Error(p.error)),a.resetUploaderReferences(i.id),f.done(),u(new Error(p.error))}),c.on("success",function(p){var d={uploadURL:p.url};a.uppy.emit("upload-success",i,d),a.resetUploaderReferences(i.id),f.done(),o()});var f=a.requests.run(function(){return c.open(),i.isPaused&&c.send("pause",{}),function(){}})})}},{key:"upload",value:function(i){var a=this;if(i.length===0)return Promise.resolve();var o=i.map(function(u){var s=a.uppy.getFile(u);return s.isRemote?a.uploadRemote(s):a.uploadFile(s)});return Promise.all(o)}},{key:"onFileRemove",value:function(i,a){this.uploaderEvents[i].on("file-removed",function(o){i===o.id&&a(o.id)})}},{key:"onFilePause",value:function(i,a){this.uploaderEvents[i].on("upload-pause",function(o,u){i===o&&a(u)})}},{key:"onRetry",value:function(i,a){this.uploaderEvents[i].on("upload-retry",function(o){i===o&&a()})}},{key:"onRetryAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("retry-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onPauseAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("pause-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onCancelAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("cancel-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onResumeAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("resume-all",function(){!o.uppy.getFile(i)||a()})}},{key:"install",value:function(){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:Qr(Qr({},a),{},{resumableUploads:!0})}),this.uppy.addUploader(this.upload)}},{key:"uninstall",value:function(){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:Qr(Qr({},a),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.upload)}}]),r}(jnt),Kee.VERSION="2.2.0",Yee)});var ete=h(function(km,Ys){function Im(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Im=function(r){return typeof r}:Im=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Im(t)}(function(t,e){(typeof km=="undefined"?"undefined":Im(km))==="object"&&typeof Ys!="undefined"?Ys.exports=e(t):typeof define=="function"&&define.amd?define(e):e(t)})(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:km,function(t){"use strict";t=t||{};var e=t.Base64,r="2.6.4",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(J){for(var A={},k=0,$=J.length;k<$;k++)A[J.charAt(k)]=k;return A}(n),a=String.fromCharCode,o=function(A){if(A.length<2){var k=A.charCodeAt(0);return k<128?A:k<2048?a(192|k>>>6)+a(128|k&63):a(224|k>>>12&15)+a(128|k>>>6&63)+a(128|k&63)}else{var k=65536+(A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320);return a(240|k>>>18&7)+a(128|k>>>12&63)+a(128|k>>>6&63)+a(128|k&63)}},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(A){return A.replace(u,o)},l=function(A){var k=[0,2,1][A.length%3],$=A.charCodeAt(0)<<16|(A.length>1?A.charCodeAt(1):0)<<8|(A.length>2?A.charCodeAt(2):0),D=[n.charAt($>>>18),n.charAt($>>>12&63),k>=2?"=":n.charAt($>>>6&63),k>=1?"=":n.charAt($&63)];return D.join("")},c=t.btoa&&typeof t.btoa=="function"?function(J){return t.btoa(J)}:function(J){if(J.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return J.replace(/[\s\S]{1,3}/g,l)},f=function(A){return c(s(String(A)))},p=function(A){return A.replace(/[+\/]/g,function(k){return k=="+"?"-":"_"}).replace(/=/g,"")},d=function(A,k){return k?p(f(A)):f(A)},v=function(A){return d(A,!0)},g;t.Uint8Array&&(g=function(A,k){for(var $="",D=0,U=A.length;D<U;D+=3){var L=A[D],ne=A[D+1],fe=A[D+2],ce=L<<16|ne<<8|fe;$+=n.charAt(ce>>>18)+n.charAt(ce>>>12&63)+(typeof ne!="undefined"?n.charAt(ce>>>6&63):"=")+(typeof fe!="undefined"?n.charAt(ce&63):"=")}return k?p($):$});var m=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,_=function(A){switch(A.length){case 4:var k=(7&A.charCodeAt(0))<<18|(63&A.charCodeAt(1))<<12|(63&A.charCodeAt(2))<<6|63&A.charCodeAt(3),$=k-65536;return a(($>>>10)+55296)+a(($&1023)+56320);case 3:return a((15&A.charCodeAt(0))<<12|(63&A.charCodeAt(1))<<6|63&A.charCodeAt(2));default:return a((31&A.charCodeAt(0))<<6|63&A.charCodeAt(1))}},O=function(A){return A.replace(m,_)},E=function(A){var k=A.length,$=k%4,D=(k>0?i[A.charAt(0)]<<18:0)|(k>1?i[A.charAt(1)]<<12:0)|(k>2?i[A.charAt(2)]<<6:0)|(k>3?i[A.charAt(3)]:0),U=[a(D>>>16),a(D>>>8&255),a(D&255)];return U.length-=[0,0,2,1][$],U.join("")},F=t.atob&&typeof t.atob=="function"?function(J){return t.atob(J)}:function(J){return J.replace(/\S{1,4}/g,E)},j=function(A){return F(String(A).replace(/[^A-Za-z0-9\+\/]/g,""))},C=function(A){return O(F(A))},Y=function(A){return String(A).replace(/[-_]/g,function(k){return k=="-"?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},ie=function(A){return C(Y(A))},T;t.Uint8Array&&(T=function(A){return Uint8Array.from(j(Y(A)),function(k){return k.charCodeAt(0)})});var N=function(){var A=t.Base64;return t.Base64=e,A};if(t.Base64={VERSION:r,atob:j,btoa:c,fromBase64:ie,toBase64:d,utob:s,encode:d,encodeURI:v,btou:O,decode:ie,noConflict:N,fromUint8Array:g,toUint8Array:T},typeof Object.defineProperty=="function"){var re=function(A){return{value:A,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",re(function(){return ie(this)})),Object.defineProperty(String.prototype,"toBase64",re(function(J){return d(this,J)})),Object.defineProperty(String.prototype,"toBase64URI",re(function(){return d(this,!0)}))}}return t.Meteor&&(Base64=t.Base64),typeof Ys!="undefined"&&Ys.exports?Ys.exports.Base64=t.Base64:typeof define=="function"&&define.amd&&define([],function(){return t.Base64}),{Base64:t.Base64}})});var rte=h(function(Xbt,tte){"use strict";tte.exports=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}});var ate=h(function(gE){"use strict";var Vnt=Object.prototype.hasOwnProperty,Wnt;function nte(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}function ite(t){try{return encodeURIComponent(t)}catch(e){return null}}function Gnt(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var i=nte(n[1]),a=nte(n[2]);i===null||a===null||i in r||(r[i]=a)}return r}function Knt(t,e){e=e||"";var r=[],n,i;typeof e!="string"&&(e="?");for(i in t)if(Vnt.call(t,i)){if(n=t[i],!n&&(n===null||n===Wnt||isNaN(n))&&(n=""),i=ite(i),n=ite(n),i===null||n===null)continue;r.push(i+"="+n)}return r.length?e+r.join("&"):""}gE.stringify=Knt;gE.parse=Gnt});var fte=h(function(Qbt,cte){"use strict";function Xs(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xs=function(r){return typeof r}:Xs=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xs(t)}var ote=rte(),xm=ate(),Ynt=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Xnt=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Jnt=/^[a-zA-Z]:/,Qnt="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",Znt=new RegExp("^"+Qnt+"+");function mE(t){return(t||"").toString().replace(Znt,"")}var bE=[["#","hash"],["?","query"],function(e,r){return Yi(r.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ute={hash:1,query:1};function ste(t){var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e={};var r=e.location||{};t=t||r;var n={},i=Xs(t),a;if(t.protocol==="blob:")n=new ui(unescape(t.pathname),{});else if(i==="string"){n=new ui(t,{});for(a in ute)delete n[a]}else if(i==="object"){for(a in t)a in ute||(n[a]=t[a]);n.slashes===void 0&&(n.slashes=Ynt.test(t.href))}return n}function Yi(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function lte(t,e){t=mE(t),e=e||{};var r=Xnt.exec(t),n=r[1]?r[1].toLowerCase():"",i=!!r[2],a=!!r[3],o=0,u;return i?a?(u=r[2]+r[3]+r[4],o=r[2].length+r[3].length):(u=r[2]+r[4],o=r[2].length):a?(u=r[3]+r[4],o=r[3].length):u=r[4],n==="file:"?o>=2&&(u=u.slice(2)):Yi(n)?u=r[4]:n?i&&(u=u.slice(2)):o>=2&&Yi(e.protocol)&&(u=r[4]),{protocol:n,slashes:i||Yi(n),slashesCount:o,rest:u}}function eit(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,i=r[n-1],a=!1,o=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),o++):o&&(n===0&&(a=!0),r.splice(n,1),o--);return a&&r.unshift(""),(i==="."||i==="..")&&r.push(""),r.join("/")}function ui(t,e,r){if(t=mE(t),!(this instanceof ui))return new ui(t,e,r);var n,i,a,o,u,s,l=bE.slice(),c=Xs(e),f=this,p=0;for(c!=="object"&&c!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=xm.parse),e=ste(e),i=lte(t||"",e),n=!i.protocol&&!i.slashes,f.slashes=i.slashes||n&&e.slashes,f.protocol=i.protocol||e.protocol||"",t=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||Jnt.test(t))||!i.slashes&&(i.protocol||i.slashesCount<2||!Yi(f.protocol)))&&(l[3]=[/(.*)/,"pathname"]);p<l.length;p++){if(o=l[p],typeof o=="function"){t=o(t,f);continue}a=o[0],s=o[1],a!==a?f[s]=t:typeof a=="string"?~(u=t.indexOf(a))&&(typeof o[2]=="number"?(f[s]=t.slice(0,u),t=t.slice(u+o[2])):(f[s]=t.slice(u),t=t.slice(0,u))):(u=a.exec(t))&&(f[s]=u[1],t=t.slice(0,u.index)),f[s]=f[s]||n&&o[3]&&e[s]||"",o[4]&&(f[s]=f[s].toLowerCase())}r&&(f.query=r(f.query)),n&&e.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||e.pathname!=="")&&(f.pathname=eit(f.pathname,e.pathname)),f.pathname.charAt(0)!=="/"&&Yi(f.protocol)&&(f.pathname="/"+f.pathname),ote(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(o=f.auth.split(":"),f.username=o[0]||"",f.password=o[1]||""),f.origin=f.protocol!=="file:"&&Yi(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function tit(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||xm.parse)(e)),n[t]=e;break;case"port":n[t]=e,ote(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var i=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==i?i+e:e}else n[t]=e;break;default:n[t]=e}for(var a=0;a<bE.length;a++){var o=bE[a];o[4]&&(n[o[1]]=n[o[1]].toLowerCase())}return n.origin=n.protocol!=="file:"&&Yi(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function rit(t){(!t||typeof t!="function")&&(t=xm.stringify);var e,r=this,n=r.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var i=n+(r.slashes||Yi(r.protocol)?"//":"");return r.username&&(i+=r.username,r.password&&(i+=":"+r.password),i+="@"),i+=r.host+r.pathname,e=Xs(r.query)==="object"?t(r.query):r.query,e&&(i+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(i+=r.hash),i}ui.prototype={set:tit,toString:rit};ui.extractProtocol=lte;ui.location=ste;ui.trimLeft=mE;ui.qs=xm;cte.exports=ui});var dte=h(function(Dm){"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.default=void 0;function Fm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fm=function(r){return typeof r}:Fm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fm(t)}function nit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sp(t,e)}function ait(t){return function(){var e=Op(t),r;if(pte()){var n=Op(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return oit(this,r)}}function oit(t,e){return e&&(Fm(e)==="object"||typeof e=="function")?e:uit(t)}function uit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _E(t){var e=typeof Map=="function"?new Map:void 0;return _E=function(n){if(n===null||!sit(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Cm(n,arguments,Op(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Sp(i,n)},_E(t)}function Cm(t,e,r){return pte()?Cm=Reflect.construct:Cm=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&Sp(l,o.prototype),l},Cm.apply(null,arguments)}function pte(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function sit(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Sp(t,e){return Sp=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Sp(t,e)}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(t)}var lit=function(t){iit(r,t);var e=ait(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(nit(this,r),i=e.call(this,n),i.originalRequest=o,i.originalResponse=u,i.causingError=a,a!=null&&(n+=", caused by ".concat(a.toString())),o!=null){var s=o.getHeader("X-Request-ID")||"n/a",l=o.getMethod(),c=o.getURL(),f=u?u.getStatus():"n/a",p=u?u.getBody()||"":"n/a";n+=", originated from request (method: ".concat(l,", url: ").concat(c,", response code: ").concat(f,", response text: ").concat(p,", request id: ").concat(s,")")}return i.message=n,i}return r}(_E(Error)),cit=lit;Dm.default=cit});var wE=h(function(Um){"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.enableDebugLog=fit;Um.log=pit;var hte=!1;function fit(){hte=!0}function pit(t){!hte||console.log(t)}});var vte=h(function(SE){"use strict";Object.defineProperty(SE,"__esModule",{value:!0});SE.default=dit;function dit(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}});var Pte=h(function(Mm){"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.default=void 0;var hit=ete(),vit=OE(fte()),jm=OE(dte()),ru=wE(),yit=OE(vte());function OE(t){return t&&t.__esModule?t:{default:t}}function yte(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yte(Object(r),!0).forEach(function(n){git(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yte(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function git(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bit(t,e,r){return e&&gte(t.prototype,e),r&&gte(t,r),t}var _it={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},mte=function(){function t(e,r){mit(this,t),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return bit(t,[{key:"findPreviousUploads",value:function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(n){return r._urlStorage.findUploadsByFingerprint(n)})}},{key:"resumeFromPreviousUpload",value:function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey}},{key:"start",value:function(){var r=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var i=this.options.retryDelays;if(i!=null&&Object.prototype.toString.call(i)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach(function(a){r.options[a]&&r._emitError(new Error("tus: cannot use the ".concat(a," option when parallelUploads is enabled")))}),this.options.fingerprint(n,this.options).then(function(a){return a==null?(0,ru.log)("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):(0,ru.log)("Calculated fingerprint: ".concat(a)),r._fingerprint=a,r._source?r._source:r.options.fileReader.openFile(n,r.options.chunkSize)}).then(function(a){r._source=a,r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(a){r._emitError(a)})}},{key:"_startParallelUpload",value:function(){var r=this,n=this._size=this._source.size,i=0;this._parallelUploads=[];var a=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,o=Sit(this._source.size,a,this._parallelUploadUrls);this._parallelUploadUrls=new Array(o.length);var u=o.map(function(l,c){var f=0;return r._source.slice(l.start,l.end).then(function(p){var d=p.value;return new Promise(function(v,g){var m=PE({},r.options,{uploadUrl:l.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:PE({},r.options.headers,{"Upload-Concat":"partial"}),onSuccess:v,onError:g,onProgress:function(E){i=i-f+E,f=E,r._emitProgress(i,n)},_onUploadUrlAvailable:function(){r._parallelUploadUrls[c]=_.url,r._parallelUploadUrls.filter(function(E){return!!E}).length===o.length&&r._saveUploadInUrlStorage()}}),_=new t(d,m);_.start(),r._parallelUploads.push(_)})})}),s;Promise.all(u).then(function(){s=r._openRequest("POST",r.options.endpoint),s.setHeader("Upload-Concat","final;".concat(r._parallelUploadUrls.join(" ")));var l=bte(r.options.metadata);return l!==""&&s.setHeader("Upload-Metadata",l),r._sendRequest(s,null)}).then(function(l){if(!Js(l.getStatus(),200)){r._emitHttpError(s,l,"tus: unexpected response while creating upload");return}var c=l.getHeader("Location");if(c==null){r._emitHttpError(s,l,"tus: invalid or missing Location header");return}r.url=Ote(r.options.endpoint,c),(0,ru.log)("Created upload at ".concat(r.url)),r._emitSuccess()}).catch(function(l){r._emitError(l)})}},{key:"_startSingleUpload",value:function(){if(this.options.uploadLengthDeferred)this._size=null;else if(this.options.uploadSize!=null){if(this._size=+this.options.uploadSize,isNaN(this._size)){this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(this._size=this._source.size,this._size==null){this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return}if(this._aborted=!1,this.url!=null){(0,ru.log)("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return}if(this.options.uploadUrl!=null){(0,ru.log)("Resuming upload from provided URL: ".concat(this.options.url)),this.url=this.options.uploadUrl,this._resumeUpload();return}(0,ru.log)("Creating a new upload"),this._createUpload()}},{key:"abort",value:function(r){var n=this;if(arguments.length>1&&typeof arguments[1]=="function")throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return this._parallelUploads!=null&&this._parallelUploads.forEach(function(i){i.abort(r)}),this._req!==null&&(this._req.abort(),this._source.close()),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():t.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(r,n,i,a){this._emitError(new jm.default(i,a,r,n))}},{key:"_emitError",value:function(r){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var i=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(i&&(this._retryAttempt=0),Ste(r,this._retryAttempt,this.options)){var a=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},a);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()}},{key:"_emitProgress",value:function(r,n){typeof this.options.onProgress=="function"&&this.options.onProgress(r,n)}},{key:"_emitChunkComplete",value:function(r,n,i){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,n,i)}},{key:"_createUpload",value:function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length",1):n.setHeader("Upload-Length",this._size);var i=bte(this.options.metadata);i!==""&&n.setHeader("Upload-Metadata",i);var a;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,a=this._addChunkToRequest(n)):a=this._sendRequest(n,null),a.then(function(o){if(!Js(o.getStatus(),200)){r._emitHttpError(n,o,"tus: unexpected response while creating upload");return}var u=o.getHeader("Location");if(u==null){r._emitHttpError(n,o,"tus: invalid or missing Location header");return}if(r.url=Ote(r.options.endpoint,u),(0,ru.log)("Created upload at ".concat(r.url)),typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),r._size===0){r._emitSuccess(),r._source.close();return}r._saveUploadInUrlStorage(),r.options.uploadDataDuringCreation?r._handleUploadResponse(n,o):(r._offset=0,r._performUpload())}).catch(function(o){r._emitHttpError(n,null,"tus: failed to create upload",o)})}},{key:"_resumeUpload",value:function(){var r=this,n=this._openRequest("HEAD",this.url),i=this._sendRequest(n,null);i.then(function(a){var o=a.getStatus();if(!Js(o,200)){if(Js(o,400)&&r._removeFromUrlStorage(),o===423){r._emitHttpError(n,a,"tus: upload is currently locked; retry later");return}if(!r.options.endpoint){r._emitHttpError(n,a,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var u=parseInt(a.getHeader("Upload-Offset"),10);if(isNaN(u)){r._emitHttpError(n,a,"tus: invalid or missing offset value");return}var s=parseInt(a.getHeader("Upload-Length"),10);if(isNaN(s)&&!r.options.uploadLengthDeferred){r._emitHttpError(n,a,"tus: invalid or missing length value");return}if(typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),u===s){r._emitProgress(s,s),r._emitSuccess();return}r._offset=u,r._performUpload()}).catch(function(a){r._emitHttpError(n,null,"tus: failed to resume upload",a)})}},{key:"_performUpload",value:function(){var r=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset",this._offset);var i=this._addChunkToRequest(n);i.then(function(a){if(!Js(a.getStatus(),200)){r._emitHttpError(n,a,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(n,a)}).catch(function(a){r._aborted||r._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(r._offset),a)})}}},{key:"_addChunkToRequest",value:function(r){var n=this,i=this._offset,a=this._offset+this.options.chunkSize;return r.setProgressHandler(function(o){n._emitProgress(i+o,n._size)}),r.setHeader("Content-Type","application/offset+octet-stream"),(a===1/0||a>this._size)&&!this.options.uploadLengthDeferred&&(a=this._size),this._source.slice(i,a).then(function(o){var u=o.value,s=o.done;return n.options.uploadLengthDeferred&&s&&(n._size=n._offset+(u&&u.size?u.size:0),r.setHeader("Upload-Length",n._size)),u===null?n._sendRequest(r):(n._emitProgress(n._offset,n._size),n._sendRequest(r,u))})}},{key:"_handleUploadResponse",value:function(r,n){var i=parseInt(n.getHeader("Upload-Offset"),10);if(isNaN(i)){this._emitHttpError(r,n,"tus: invalid or missing offset value");return}if(this._emitProgress(i,this._size),this._emitChunkComplete(i-this._offset,i,this._size),this._offset=i,i==this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(r,n){var i=_te(r,n,this.options);return this._req=i,i}},{key:"_removeFromUrlStorage",value:function(){var r=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){r._emitError(n)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var r=this;if(!(!this.options.storeFingerprintForResuming||!this._fingerprint)){var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(i){return r._urlStorageKey=i}).catch(function(i){r._emitError(i)})}}},{key:"_sendRequest",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return wte(r,n,this.options)}}],[{key:"terminate",value:function(r,n){if(arguments.length>1&&typeof arguments[arguments.length-1]=="function")throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");n===void 0&&(n={});var i=_te("DELETE",r,n);return wte(i,null,n).then(function(a){if(a.getStatus()!==204)throw new jm.default("tus: unexpected response while terminating upload",null,i,a)}).catch(function(a){if(a instanceof jm.default||(a=new jm.default("tus: failed to terminate upload",a,i,null)),!Ste(a,0,n))throw a;var o=n.retryDelays[0],u=n.retryDelays.slice(1),s=PE({},n,{retryDelays:u});return new Promise(function(l){return setTimeout(l,o)}).then(function(){return t.terminate(r,s)})})}}]),t}();function bte(t){var e=[];for(var r in t)e.push("".concat(r," ").concat(hit.Base64.encode(t[r])));return e.join(",")}function Js(t,e){return t>=e&&t<e+100}function _te(t,e,r){var n=r.httpStack.createRequest(t,e);n.setHeader("Tus-Resumable","1.0.0");var i=r.headers||{};for(var a in i)n.setHeader(a,i[a]);if(r.addRequestId){var o=(0,yit.default)();n.setHeader("X-Request-ID",o)}return n}function wte(t,e,r){var n=typeof r.onBeforeRequest=="function"?Promise.resolve(r.onBeforeRequest(t)):Promise.resolve();return n.then(function(){return t.send(e).then(function(i){var a=typeof r.onAfterResponse=="function"?Promise.resolve(r.onAfterResponse(t,i)):Promise.resolve();return a.then(function(){return i})})})}function wit(){var t=!0;return typeof window!="undefined"&&"navigator"in window&&window.navigator.onLine===!1&&(t=!1),t}function Ste(t,e,r){if(r.retryDelays==null||e>=r.retryDelays.length||t.originalRequest==null)return!1;if(r&&typeof r.onShouldRetry=="function")return r.onShouldRetry(t,e,r);var n=t.originalResponse?t.originalResponse.getStatus():0;return(!Js(n,400)||n===409||n===423)&&wit()}function Ote(t,e){return new vit.default(e,t).toString()}function Sit(t,e,r){for(var n=Math.floor(t/e),i=[],a=0;a<e;a++)i.push({start:n*a,end:n*(a+1)});return i[e-1].end=t,r&&i.forEach(function(o,u){o.uploadUrl=r[u]||null}),i}mte.defaultOptions=_it;var Oit=mte;Mm.default=Oit});var Rte=h(function(Nm){"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.default=void 0;function Pit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qit(t,e,r){return e&&qte(t.prototype,e),r&&qte(t,r),t}var Rit=function(){function t(){Pit(this,t)}return qit(t,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(r){return Promise.resolve([])}},{key:"removeUpload",value:function(r){return Promise.resolve()}},{key:"addUpload",value:function(r,n){return Promise.resolve(null)}}]),t}();Nm.default=Rit});var Tte=h(function(Qs){"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.WebStorageUrlStorage=Qs.canStoreURLs=void 0;function Eit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ete(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Tit(t,e,r){return e&&Ete(t.prototype,e),r&&Ete(t,r),t}var qE=!1;try{qE="localStorage"in window,RE="tusSupport",localStorage.setItem(RE,localStorage.getItem(RE))}catch(t){if(t.code===t.SECURITY_ERR||t.code===t.QUOTA_EXCEEDED_ERR)qE=!1;else throw t}var RE,Ait=qE;Qs.canStoreURLs=Ait;var Iit=function(){function t(){Eit(this,t)}return Tit(t,[{key:"findAllUploads",value:function(){var r=this._findEntries("tus::");return Promise.resolve(r)}},{key:"findUploadsByFingerprint",value:function(r){var n=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(n)}},{key:"removeUpload",value:function(r){return localStorage.removeItem(r),Promise.resolve()}},{key:"addUpload",value:function(r,n){var i=Math.round(Math.random()*1e12),a="tus::".concat(r,"::").concat(i);return localStorage.setItem(a,JSON.stringify(n)),Promise.resolve(a)}},{key:"_findEntries",value:function(r){for(var n=[],i=0;i<localStorage.length;i++){var a=localStorage.key(i);if(a.indexOf(r)===0)try{var o=JSON.parse(localStorage.getItem(a));o.urlStorageKey=a,n.push(o)}catch(u){}}return n}}]),t}();Qs.WebStorageUrlStorage=Iit});var Ite=h(function(Bm){"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.default=void 0;function EE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ate(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function TE(t,e,r){return e&&Ate(t.prototype,e),r&&Ate(t,r),t}var kit=function(){function t(){EE(this,t)}return TE(t,[{key:"createRequest",value:function(r,n){return new xit(r,n)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),t}();Bm.default=kit;var xit=function(){function t(e,r){EE(this,t),this._xhr=new XMLHttpRequest,this._xhr.open(e,r,!0),this._method=e,this._url=r,this._headers={}}return TE(t,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(r,n){this._xhr.setRequestHeader(r,n),this._headers[r]=n}},{key:"getHeader",value:function(r){return this._headers[r]}},{key:"setProgressHandler",value:function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){!n.lengthComputable||r(n.loaded)})}},{key:"send",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(i,a){r._xhr.onload=function(){i(new Fit(r._xhr))},r._xhr.onerror=function(o){a(o)},r._xhr.send(n)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}(),Fit=function(){function t(e){EE(this,t),this._xhr=e}return TE(t,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(r){return this._xhr.getResponseHeader(r)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}()});var AE=h(function(Lm){"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.default=void 0;var Cit=function(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"},Dit=Cit;Lm.default=Dit});var kte=h(function(IE){"use strict";Object.defineProperty(IE,"__esModule",{value:!0});IE.default=Uit;function Uit(t){return new Promise(function(e,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var i=n.response;e(i)},n.onerror=function(i){r(i)},n.open("GET",t),n.send()})}});var xte=h(function(zm){"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.default=void 0;var jit=function(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")},Mit=jit;zm.default=Mit});var Fte=h(function(kE){"use strict";Object.defineProperty(kE,"__esModule",{value:!0});kE.default=Nit;function Nit(t){return new Promise(function(e,r){var n=new FileReader;n.onload=function(){var i=new Uint8Array(n.result);e({value:i})},n.onerror=function(i){r(i)},n.readAsArrayBuffer(t)})}});var jte=h(function(Hm){"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.default=void 0;var Bit=$m(AE()),Lit=$m(kte()),zit=$m(xte()),$it=$m(Fte());function $m(t){return t&&t.__esModule?t:{default:t}}function xE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function FE(t,e,r){return e&&Cte(t.prototype,e),r&&Cte(t,r),t}var Dte=function(){function t(e){xE(this,t),this._file=e,this.size=e.size}return FE(t,[{key:"slice",value:function(r,n){if((0,zit.default)())return(0,$it.default)(this._file.slice(r,n));var i=this._file.slice(r,n);return Promise.resolve({value:i})}},{key:"close",value:function(){}}]),t}(),Hit=function(){function t(e,r){xE(this,t),this._chunkSize=r,this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return FE(t,[{key:"slice",value:function(r,n){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,n)}},{key:"_readUntilEnoughDataOrDone",value:function(r,n){var i=this,a=n<=this._bufferOffset+Ute(this._buffer);if(this._done||a){var o=this._getDataFromBuffer(r,n),u=o==null?this._done:!1;return Promise.resolve({value:o,done:u})}return this._reader.read().then(function(s){var l=s.value,c=s.done;return c?i._done=!0:i._buffer===void 0?i._buffer=l:i._buffer=Vit(i._buffer,l),i._readUntilEnoughDataOrDone(r,n)})}},{key:"_getDataFromBuffer",value:function(r,n){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var i=Ute(this._buffer)===0;return this._done&&i?null:this._buffer.slice(0,n-r)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),t}();function Ute(t){return t===void 0?0:t.size!==void 0?t.size:t.length}function Vit(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}throw new Error("Unknown data type")}var Wit=function(){function t(){xE(this,t)}return FE(t,[{key:"openFile",value:function(r,n){return(0,Bit.default)()&&r&&typeof r.uri!="undefined"?(0,Lit.default)(r.uri).then(function(i){return new Dte(i)}).catch(function(i){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(i))}):typeof r.slice=="function"&&typeof r.size!="undefined"?Promise.resolve(new Dte(r)):typeof r.read=="function"?(n=+n,isFinite(n)?Promise.resolve(new Hit(r,n)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))}}]),t}();Hm.default=Wit});var Mte=h(function(CE){"use strict";Object.defineProperty(CE,"__esModule",{value:!0});CE.default=Yit;var Git=Kit(AE());function Kit(t){return t&&t.__esModule?t:{default:t}}function Yit(t,e){return(0,Git.default)()?Promise.resolve(Xit(t,e)):Promise.resolve(["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))}function Xit(t,e){var r=t.exif?Jit(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",r,e.endpoint].join("/")}function Jit(t){var e=0;if(t.length===0)return e;for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);e=(e<<5)-e+n,e&=e}return e}});var BE=h(function(Tn){"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Object.defineProperty(Tn,"enableDebugLog",{enumerable:!0,get:function(){return Zit.enableDebugLog}});Object.defineProperty(Tn,"canStoreURLs",{enumerable:!0,get:function(){return UE.canStoreURLs}});Object.defineProperty(Tn,"HttpStack",{enumerable:!0,get:function(){return Nte.default}});Tn.isSupported=Tn.defaultOptions=Tn.Upload=void 0;var DE=Pp(Pte()),Qit=Pp(Rte()),Zit=wE(),UE=Tte(),Nte=Pp(Ite()),eat=Pp(jte()),tat=Pp(Mte());function Pp(t){return t&&t.__esModule?t:{default:t}}function Vm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vm=function(r){return typeof r}:Vm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vm(t)}function rat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nat(t,e,r){return e&&Bte(t.prototype,e),r&&Bte(t,r),t}function iat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jE(t,e)}function aat(t){return function(){var e=Wm(t),r;if(sat()){var n=Wm(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return oat(this,r)}}function oat(t,e){return e&&(Vm(e)==="object"||typeof e=="function")?e:uat(t)}function uat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sat(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Wm(t)}function Lte(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ME(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lte(Object(r),!0).forEach(function(n){lat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lte(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lat(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var NE=ME({},DE.default.defaultOptions,{httpStack:new Nte.default,fileReader:new eat.default,urlStorage:UE.canStoreURLs?new UE.WebStorageUrlStorage:new Qit.default,fingerprint:tat.default});Tn.defaultOptions=NE;var cat=function(t){iat(r,t);var e=aat(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return rat(this,r),i=ME({},NE,{},i),e.call(this,n,i)}return nat(r,null,[{key:"terminate",value:function(i,a,o){return a=ME({},NE,{},a),DE.default.terminate(i,a,o)}}]),r}(DE.default);Tn.Upload=cat;var zte=window,fat=zte.XMLHttpRequest,$te=zte.Blob,pat=fat&&$te&&typeof $te.prototype.slice=="function";Tn.isSupported=pat});var LE=h(function(d_t,Hte){Hte.exports=function(e){var r=[],n=[];function i(u){r.push(u)}function a(u){n.push(u)}var o=Promise.all(e.map(function(u){return u.then(i,a)}));return o.then(function(){return{successful:r,failed:n}})}});var Wte=h(function(h_t,Vte){var dat=BE();function hat(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")}function vat(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}Vte.exports=function(e){return function(r,n){if(hat()||vat())return dat.defaultOptions.fingerprint(r,n);var i=["tus",e.id,n.endpoint].join("-");return Promise.resolve(i)}}});var HE=h(function(v_t,tre){function Gm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gm=function(r){return typeof r}:Gm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gm(t)}function Gte(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gte(Object(r),!0).forEach(function(n){yat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gte(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yat(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mat(t,e,r){return e&&Kte(t.prototype,e),r&&Kte(t,r),t}function bat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},zE(t,e)}function _at(t){var e=Sat();return function(){var n=Km(t),i;if(e){var a=Km(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wat(this,i)}}function wat(t,e){if(e&&(Gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qp(t)}function qp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sat(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(t)}var Yte,Zs,Xte;function Jte(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Oat=0;function Pat(t){return"__private_"+Oat+++"_"+t}var qat=_n(),Rat=BE(),$E=tr(),Eat=$E.Provider,Tat=$E.RequestClient,Aat=$E.Socket,Iat=up(),kat=sp(),xat=LE(),Qte=cp(),Fat=No(),Cat=Sm(),Dat=$s(),Uat=Dat.RateLimitedQueue,Zte=hf(),jat=Wte(),ere={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1};tre.exports=(Xte=(Zs=Pat("retryDelayIterator"),Yte=function(t){bat(r,t);var e=_at(r);function r(n,i){var a;gat(this,r);var o;a=e.call(this,n,i),Object.defineProperty(qp(a),Zs,{writable:!0,value:void 0}),a.type="uploader",a.id=a.opts.id||"Tus",a.title="Tus";var u={useFastRemoteRetry:!0,limit:20,retryDelays:ere.retryDelays,withCredentials:!1};if(a.opts=wt(wt({},u),i),"autoRetry"in i)throw new Error("The `autoRetry` option was deprecated and has been removed.");return a.requests=new Uat(a.opts.limit),Jte(qp(a),Zs)[Zs]=(o=a.opts.retryDelays)==null?void 0:o.values(),a.uploaders=Object.create(null),a.uploaderEvents=Object.create(null),a.uploaderSockets=Object.create(null),a.handleResetProgress=a.handleResetProgress.bind(qp(a)),a.handleUpload=a.handleUpload.bind(qp(a)),a}return mat(r,[{key:"handleResetProgress",value:function(){var i=wt({},this.uppy.getState().files);Object.keys(i).forEach(function(a){if(i[a].tus&&i[a].tus.uploadUrl){var o=wt({},i[a].tus);delete o.uploadUrl,i[a]=wt(wt({},i[a]),{},{tus:o})}}),this.uppy.setState({files:i})}},{key:"resetUploaderReferences",value:function(i,a){if(a===void 0&&(a={}),this.uploaders[i]){var o=this.uploaders[i];o.abort(),a.abort&&o.abort(!0),this.uploaders[i]=null}this.uploaderEvents[i]&&(this.uploaderEvents[i].remove(),this.uploaderEvents[i]=null),this.uploaderSockets[i]&&(this.uploaderSockets[i].close(),this.uploaderSockets[i]=null)}},{key:"upload",value:function(i){var a=this;return this.resetUploaderReferences(i.id),new Promise(function(o,u){var s,l;a.uppy.emit("upload-started",i);var c=wt(wt({},a.opts),i.tus||{});typeof c.headers=="function"&&(c.headers=c.headers(i));var f=wt(wt({},ere),c);f.fingerprint=jat(i),f.onBeforeRequest=function(m){var _=m.getUnderlyingObject();_.withCredentials=!!c.withCredentials,typeof c.onBeforeRequest=="function"&&c.onBeforeRequest(m)},f.onError=function(m){a.uppy.log(m);var _=m.originalRequest?m.originalRequest.getUnderlyingObject():null;Cat(_)&&(m=new Fat(m,_)),a.resetUploaderReferences(i.id),s.abort(),a.uppy.emit("upload-error",i,m),u(m)},f.onProgress=function(m,_){a.onReceiveUploadUrl(i,g.url),a.uppy.emit("upload-progress",i,{uploader:a,bytesUploaded:m,bytesTotal:_})},f.onSuccess=function(){var m={uploadURL:g.url};a.resetUploaderReferences(i.id),s.done(),a.uppy.emit("upload-success",i,m),g.url&&a.uppy.log("Download ".concat(g.file.name," from ").concat(g.url)),o(g)},f.onShouldRetry=function(m,_,O){var E,F=m==null||(E=m.originalResponse)==null?void 0:E.getStatus();if(F===429){if(!a.requests.isPaused){var j,C=(j=Jte(a,Zs)[Zs])==null?void 0:j.next();if(C==null||C.done)return!1;a.requests.rateLimit(C.value)}s.abort(),s=a.requests.run(l)}else{if(F>400&&F<500&&F!==409)return!1;typeof navigator!="undefined"&&navigator.onLine===!1?(a.requests.isPaused||(a.requests.pause(),window.addEventListener("online",function(){a.requests.resume()},{once:!0})),s.abort(),s=a.requests.run(l)):setTimeout(function(){s.abort(),s=a.requests.run(l)},O.retryDelays[_])}return queueMicrotask(function(){return clearTimeout(s._retryTimeout)}),!0};var p=function(_,O,E){Zte(_,O)&&!Zte(_,E)&&(_[E]=_[O])},d={},v=Array.isArray(c.metaFields)?c.metaFields:Object.keys(i.meta);v.forEach(function(m){d[m]=i.meta[m]}),p(d,"type","filetype"),p(d,"name","filename"),f.metadata=d;var g=new Rat.Upload(i.data,f);a.uploaders[i.id]=g,a.uploaderEvents[i.id]=new Qte(a.uppy),l=function(){return i.isPaused||g.start(),function(){}},g.findPreviousUploads().then(function(m){var _=m[0];_&&(a.uppy.log("[Tus] Resuming upload of ".concat(i.id," started at ").concat(_.creationTime)),g.resumeFromPreviousUpload(_))}),s=a.requests.run(l),a.onFileRemove(i.id,function(m){s.abort(),a.resetUploaderReferences(i.id,{abort:!!g.url}),o("upload ".concat(m," was removed"))}),a.onPause(i.id,function(m){m?(s.abort(),g.abort()):(s.abort(),s=a.requests.run(l))}),a.onPauseAll(i.id,function(){s.abort(),g.abort()}),a.onCancelAll(i.id,function(){s.abort(),a.resetUploaderReferences(i.id,{abort:!!g.url}),o("upload ".concat(i.id," was canceled"))}),a.onResumeAll(i.id,function(){s.abort(),i.error&&g.abort(),s=a.requests.run(l)})}).catch(function(o){throw a.uppy.emit("upload-error",i,o),o})}},{key:"uploadRemote",value:function(i){var a=this;this.resetUploaderReferences(i.id);var o=wt({},this.opts);return i.tus&&Object.assign(o,i.tus),this.uppy.emit("upload-started",i),this.uppy.log(i.remote.url),i.serverToken?this.connectToServerSocket(i):new Promise(function(u,s){var l=i.remote.providerOptions.provider?Eat:Tat,c=new l(a.uppy,i.remote.providerOptions);c.post(i.remote.url,wt(wt({},i.remote.body),{},{endpoint:o.endpoint,uploadUrl:o.uploadUrl,protocol:"tus",size:i.data.size,headers:o.headers,metadata:i.meta})).then(function(f){return a.uppy.setFileState(i.id,{serverToken:f.token}),i=a.uppy.getFile(i.id),a.connectToServerSocket(i)}).then(function(){u()}).catch(function(f){a.uppy.emit("upload-error",i,f),s(f)})})}},{key:"connectToServerSocket",value:function(i){var a=this;return new Promise(function(o,u){var s=i.serverToken,l=kat(i.remote.companionUrl),c=new Aat({target:"".concat(l,"/api/").concat(s),autoOpen:!1});a.uploaderSockets[i.id]=c,a.uploaderEvents[i.id]=new Qte(a.uppy);var f;a.onFileRemove(i.id,function(){f.abort(),c.send("cancel",{}),a.resetUploaderReferences(i.id),o("upload ".concat(i.id," was removed"))}),a.onPause(i.id,function(p){p?(f.abort(),c.send("pause",{})):(f.abort(),f=a.requests.run(function(){return c.send("resume",{}),function(){}}))}),a.onPauseAll(i.id,function(){f.abort(),c.send("pause",{})}),a.onCancelAll(i.id,function(){f.abort(),c.send("cancel",{}),a.resetUploaderReferences(i.id),o("upload ".concat(i.id," was canceled"))}),a.onResumeAll(i.id,function(){f.abort(),i.error&&c.send("pause",{}),f=a.requests.run(function(){return c.send("resume",{}),function(){}})}),a.onRetry(i.id,function(){c.isOpen&&(c.send("pause",{}),c.send("resume",{}))}),a.onRetryAll(i.id,function(){c.isOpen&&(c.send("pause",{}),c.send("resume",{}))}),c.on("progress",function(p){return Iat(a,p,i)}),c.on("error",function(p){var d=p.error.message,v=Object.assign(new Error(d),{cause:p.error});a.opts.useFastRemoteRetry?c.close():(a.resetUploaderReferences(i.id),a.uppy.setFileState(i.id,{serverToken:null})),a.uppy.emit("upload-error",i,v),f.done(),u(v)}),c.on("success",function(p){var d={uploadURL:p.url};a.uppy.emit("upload-success",i,d),a.resetUploaderReferences(i.id),f.done(),o()}),f=a.requests.run(function(){return c.open(),i.isPaused&&c.send("pause",{}),function(){}})})}},{key:"onReceiveUploadUrl",value:function(i,a){var o=this.uppy.getFile(i.id);!o||(!o.tus||o.tus.uploadUrl!==a)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(o.id,{tus:wt(wt({},o.tus),{},{uploadUrl:a})}))}},{key:"onFileRemove",value:function(i,a){this.uploaderEvents[i].on("file-removed",function(o){i===o.id&&a(o.id)})}},{key:"onPause",value:function(i,a){this.uploaderEvents[i].on("upload-pause",function(o,u){i===o&&a(u)})}},{key:"onRetry",value:function(i,a){this.uploaderEvents[i].on("upload-retry",function(o){i===o&&a()})}},{key:"onRetryAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("retry-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onPauseAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("pause-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onCancelAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("cancel-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onResumeAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("resume-all",function(){!o.uppy.getFile(i)||a()})}},{key:"uploadFiles",value:function(i){var a=this,o=i.map(function(u,s){var l=s+1,c=i.length;return"error"in u&&u.error?Promise.reject(new Error(u.error)):u.isRemote?((!u.progress.uploadStarted||!u.isRestored)&&a.uppy.emit("upload-started",u),a.uploadRemote(u,l,c)):((!u.progress.uploadStarted||!u.isRestored)&&a.uppy.emit("upload-started",u),a.upload(u,l,c))});return xat(o)}},{key:"handleUpload",value:function(i){var a=this;if(i.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var o=i.map(function(u){return a.uppy.getFile(u)});return this.uploadFiles(o).then(function(){return null})}},{key:"install",value:function(){this.uppy.setState({capabilities:wt(wt({},this.uppy.getState().capabilities),{},{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)}},{key:"uninstall",value:function(){this.uppy.setState({capabilities:wt(wt({},this.uppy.getState().capabilities),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload)}}]),r}(qat)),Yte.VERSION="2.2.0",Xte)});var WE=h(function(y_t,VE){typeof VE!="undefined"&&(VE.exports=Tr);function Tr(t){if(t)return Mat(t)}function Mat(t){for(var e in Tr.prototype)t[e]=Tr.prototype[e];return t}Tr.prototype.on=Tr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Tr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Tr.prototype.off=Tr.prototype.removeListener=Tr.prototype.removeAllListeners=Tr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Tr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Tr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Tr.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var nre=h(function(g_t,rre){rre.exports=function(e){var r=/^\w+:\/\//.exec(e),n=0;r&&(n=r[0].length+1);var i=e.indexOf("/",n);return i===-1?{origin:e,pathname:"/"}:{origin:e.slice(0,i),pathname:e.slice(i)}}});var GE=h(function(m_t,ire){var Nat=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Bat=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];ire.exports=function(e){var r=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=Nat.exec(e||""),o={},u=14;u--;)o[Bat[u]]=a[u]||"";return n!=-1&&i!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Lat(o,o.path),o.queryKey=zat(o,o.query),o};function Lat(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function zat(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}});var ore=h(function(b_t,are){function Ym(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ym=function(r){return typeof r}:Ym=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ym(t)}var el=1e3,tl=el*60,rl=tl*60,nu=rl*24,$at=nu*7,Hat=nu*365.25;are.exports=function(t,e){e=e||{};var r=Ym(t);if(r==="string"&&t.length>0)return Vat(t);if(r==="number"&&isFinite(t))return e.long?Gat(t):Wat(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Vat(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Hat;case"weeks":case"week":case"w":return r*$at;case"days":case"day":case"d":return r*nu;case"hours":case"hour":case"hrs":case"hr":case"h":return r*rl;case"minutes":case"minute":case"mins":case"min":case"m":return r*tl;case"seconds":case"second":case"secs":case"sec":case"s":return r*el;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Wat(t){var e=Math.abs(t);return e>=nu?Math.round(t/nu)+"d":e>=rl?Math.round(t/rl)+"h":e>=tl?Math.round(t/tl)+"m":e>=el?Math.round(t/el)+"s":t+"ms"}function Gat(t){var e=Math.abs(t);return e>=nu?Xm(t,e,nu,"day"):e>=rl?Xm(t,e,rl,"hour"):e>=tl?Xm(t,e,tl,"minute"):e>=el?Xm(t,e,el,"second"):t+" ms"}function Xm(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var lre=h(function(__t,sre){function ure(t){return Jat(t)||Xat(t)||Yat(t)||Kat()}function Kat(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yat(t,e){if(!!t){if(typeof t=="string")return KE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(t,e)}}function Xat(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jat(t){if(Array.isArray(t))return KE(t)}function KE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qat(t){r.debug=r,r.default=r,r.coerce=s,r.disable=a,r.enable=i,r.enabled=o,r.humanize=ore(),r.destroy=l,Object.keys(t).forEach(function(c){r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){for(var f=0,p=0;p<c.length;p++)f=(f<<5)-f+c.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(c){var f,p=null,d,v;function g(){for(var m=arguments.length,_=new Array(m),O=0;O<m;O++)_[O]=arguments[O];if(!!g.enabled){var E=g,F=Number(new Date),j=F-(f||F);E.diff=j,E.prev=f,E.curr=F,f=F,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");var C=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,function(ie,T){if(ie==="%%")return"%";C++;var N=r.formatters[T];if(typeof N=="function"){var re=_[C];ie=N.call(E,re),_.splice(C,1),C--}return ie}),r.formatArgs.call(E,_);var Y=E.log||r.log;Y.apply(E,_)}}return g.namespace=c,g.useColors=r.useColors(),g.color=r.selectColor(c),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:function(){return p!==null?p:(d!==r.namespaces&&(d=r.namespaces,v=r.enabled(c)),v)},set:function(_){p=_}}),typeof r.init=="function"&&r.init(g),g}function n(c,f){var p=r(this.namespace+(typeof f=="undefined"?":":f)+c);return p.log=this.log,p}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];var f,p=(typeof c=="string"?c:"").split(/[\s,]+/),d=p.length;for(f=0;f<d;f++)!p[f]||(c=p[f].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function a(){var c=[].concat(ure(r.names.map(u)),ure(r.skips.map(u).map(function(f){return"-"+f}))).join(",");return r.enable(""),c}function o(c){if(c[c.length-1]==="*")return!0;var f,p;for(f=0,p=r.skips.length;f<p;f++)if(r.skips[f].test(c))return!1;for(f=0,p=r.names.length;f<p;f++)if(r.names[f].test(c))return!0;return!1}function u(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function s(c){return c instanceof Error?c.stack||c.message:c}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}sre.exports=Qat});var An=h(function(Ar,Jm){Ar.formatArgs=eot;Ar.save=tot;Ar.load=rot;Ar.useColors=Zat;Ar.storage=not();Ar.destroy=function(){var t=!1;return function(){t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}();Ar.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Zat(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function eot(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Jm.exports.humanize(this.diff),!!this.useColors){var e="color: "+this.color;t.splice(1,0,e,"color: inherit");var r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,function(i){i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}}Ar.log=console.debug||console.log||function(){};function tot(t){try{t?Ar.storage.setItem("debug",t):Ar.storage.removeItem("debug")}catch(e){}}function rot(){var t;try{t=Ar.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function not(){try{return localStorage}catch(t){}}Jm.exports=lre()(Ar);var iot=Jm.exports.formatters;iot.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var pre=h(function(nl){"use strict";var cre=nl&&nl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nl,"__esModule",{value:!0});nl.url=void 0;var aot=cre(GE()),oot=cre(An()),fre=oot.default("socket.io-client:url");function uot(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(fre("protocol-less url %s",t),typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),fre("parse %s",t),n=aot.default(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=n.host.indexOf(":")!==-1,a=i?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}nl.url=uot});var dre=h(function(S_t,YE){try{YE.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){YE.exports=!1}});var Rp=h(function(XE){"use strict";Object.defineProperty(XE,"__esModule",{value:!0});XE.default=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")()}()});var vre=h(function(Ep){"use strict";var hre=Ep&&Ep.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ep,"__esModule",{value:!0});var sot=hre(dre()),lot=hre(Rp());function cot(t){var e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||sot.default))return new XMLHttpRequest}catch(r){}if(!e)try{return new lot.default[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(r){}}Ep.default=cot});var il=h(function(Va){"use strict";var fot=Va&&Va.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Va,"__esModule",{value:!0});Va.installTimerFunctions=Va.pick=void 0;var Qm=fot(Rp());function pot(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce(function(i,a){return t.hasOwnProperty(a)&&(i[a]=t[a]),i},{})}Va.pick=pot;var dot=setTimeout,hot=clearTimeout;function vot(t,e){e.useNativeTimers?(t.setTimeoutFn=dot.bind(Qm.default),t.clearTimeoutFn=hot.bind(Qm.default)):(t.setTimeoutFn=setTimeout.bind(Qm.default),t.clearTimeoutFn=clearTimeout.bind(Qm.default))}Va.installTimerFunctions=vot});var iu=h(function(yre){yre.Emitter=or;function or(t){if(t)return yot(t)}function yot(t){for(var e in or.prototype)t[e]=or.prototype[e];return t}or.prototype.on=or.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};or.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};or.prototype.off=or.prototype.removeListener=or.prototype.removeAllListeners=or.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};or.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};or.prototype.emitReserved=or.prototype.emit;or.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};or.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var JE=h(function(Wa){"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.ERROR_PACKET=Wa.PACKET_TYPES_REVERSE=Wa.PACKET_TYPES=void 0;var si=Object.create(null);Wa.PACKET_TYPES=si;si.open="0";si.close="1";si.ping="2";si.pong="3";si.message="4";si.upgrade="5";si.noop="6";var gre=Object.create(null);Wa.PACKET_TYPES_REVERSE=gre;Object.keys(si).forEach(function(t){gre[si[t]]=t});var got={type:"error",data:"parser error"};Wa.ERROR_PACKET=got});var bre=h(function(QE){"use strict";Object.defineProperty(QE,"__esModule",{value:!0});var mot=JE(),bot=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_ot=typeof ArrayBuffer=="function",wot=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},Sot=function(e,r,n){var i=e.type,a=e.data;return bot&&a instanceof Blob?r?n(a):mre(a,n):_ot&&(a instanceof ArrayBuffer||wot(a))?r?n(a):mre(new Blob([a]),n):n(mot.PACKET_TYPES[i]+(a||""))},mre=function(e,r){var n=new FileReader;return n.onload=function(){var i=n.result.split(",")[1];r("b"+i)},n.readAsDataURL(e)};QE.default=Sot});var wre=h(function(Tp,_re){function Zm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zm=function(r){return typeof r}:Zm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zm(t)}(function(t,e){(typeof Tp=="undefined"?"undefined":Zm(Tp))==="object"&&typeof _re!="undefined"?e(Tp):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,e(t["base64-arraybuffer"]={}))})(Tp,function(t){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<e.length;n++)r[e.charCodeAt(n)]=n;var i=function(u){var s=new Uint8Array(u),l,c=s.length,f="";for(l=0;l<c;l+=3)f+=e[s[l]>>2],f+=e[(s[l]&3)<<4|s[l+1]>>4],f+=e[(s[l+1]&15)<<2|s[l+2]>>6],f+=e[s[l+2]&63];return c%3==2?f=f.substring(0,f.length-1)+"=":c%3==1&&(f=f.substring(0,f.length-2)+"=="),f},a=function(u){var s=u.length*.75,l=u.length,c,f=0,p,d,v,g;u[u.length-1]==="="&&(s--,u[u.length-2]==="="&&s--);var m=new ArrayBuffer(s),_=new Uint8Array(m);for(c=0;c<l;c+=4)p=r[u.charCodeAt(c)],d=r[u.charCodeAt(c+1)],v=r[u.charCodeAt(c+2)],g=r[u.charCodeAt(c+3)],_[f++]=p<<2|d>>4,_[f++]=(d&15)<<4|v>>2,_[f++]=(v&3)<<6|g&63;return m};t.decode=a,t.encode=i,Object.defineProperty(t,"__esModule",{value:!0})})});var Ore=h(function(ZE){"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});var eb=JE(),Oot=wre(),Pot=typeof ArrayBuffer=="function",qot=function(e,r){if(typeof e!="string")return{type:"message",data:Sre(e,r)};var n=e.charAt(0);if(n==="b")return{type:"message",data:Rot(e.substring(1),r)};var i=eb.PACKET_TYPES_REVERSE[n];return i?e.length>1?{type:eb.PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:eb.PACKET_TYPES_REVERSE[n]}:eb.ERROR_PACKET},Rot=function(e,r){if(Pot){var n=(0,Oot.decode)(e);return Sre(n,r)}else return{base64:!0,data:e}},Sre=function(e,r){switch(r){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};ZE.default=qot});var Ap=h(function(Zr){"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.decodePayload=Zr.decodePacket=Zr.encodePayload=Zr.encodePacket=Zr.protocol=void 0;var Pre=bre();Zr.encodePacket=Pre.default;var qre=Ore();Zr.decodePacket=qre.default;var Rre=String.fromCharCode(30),Eot=function(e,r){var n=e.length,i=new Array(n),a=0;e.forEach(function(o,u){(0,Pre.default)(o,!1,function(s){i[u]=s,++a===n&&r(i.join(Rre))})})};Zr.encodePayload=Eot;var Tot=function(e,r){for(var n=e.split(Rre),i=[],a=0;a<n.length;a++){var o=(0,qre.default)(n[a],r);if(i.push(o),o.type==="error")break}return i};Zr.decodePayload=Tot;Zr.protocol=4});var rb=h(function(al){"use strict";function tb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tb=function(r){return typeof r}:tb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tb(t)}function Aot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ere(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Iot(t,e,r){return e&&Ere(t.prototype,e),r&&Ere(t,r),t}function au(){return typeof Reflect!="undefined"&&Reflect.get?au=Reflect.get:au=function(e,r,n){var i=kot(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},au.apply(this,arguments)}function kot(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Xi(t),t!==null););return t}function xot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eT(t,e)}function eT(t,e){return eT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},eT(t,e)}function Fot(t){var e=Dot();return function(){var n=Xi(t),i;if(e){var a=Xi(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Cot(this,i)}}function Cot(t,e){if(e&&(tb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tre(t)}function Tre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Xi(t)}var Uot=al&&al.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(al,"__esModule",{value:!0});al.Transport=void 0;var jot=Ap(),Mot=iu(),Not=il(),Bot=Uot(An()),Lot=(0,Bot.default)("engine.io-client:transport"),zot=function(t){xot(r,t);var e=Fot(r);function r(n){var i;return Aot(this,r),i=e.call(this),i.writable=!1,(0,Not.installTimerFunctions)(Tre(i),n),i.opts=n,i.query=n.query,i.readyState="",i.socket=n.socket,i}return Iot(r,[{key:"onError",value:function(i,a){var o=new Error(i);return o.type="TransportError",o.description=a,au(Xi(r.prototype),"emit",this).call(this,"error",o),this}},{key:"open",value:function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}},{key:"send",value:function(i){this.readyState==="open"?this.write(i):Lot("transport is not open, discarding packets")}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,au(Xi(r.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(i){var a=(0,jot.decodePacket)(i,this.socket.binaryType);this.onPacket(a)}},{key:"onPacket",value:function(i){au(Xi(r.prototype),"emit",this).call(this,"packet",i)}},{key:"onClose",value:function(){this.readyState="closed",au(Xi(r.prototype),"emit",this).call(this,"close")}}]),r}(Mot.Emitter);al.Transport=zot});var nT=h(function(x_t,Fre){"use strict";var Are="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),nb=64,Ire={},kre=0,Ga=0,xre;function tT(t){var e="";do e=Are[t%nb]+e,t=Math.floor(t/nb);while(t>0);return e}function $ot(t){var e=0;for(Ga=0;Ga<t.length;Ga++)e=e*nb+Ire[t.charAt(Ga)];return e}function rT(){var t=tT(+new Date);return t!==xre?(kre=0,xre=t):t+"."+tT(kre++)}for(;Ga<nb;Ga++)Ire[Are[Ga]]=Ga;rT.encode=tT;rT.decode=$ot;Fre.exports=rT});var ib=h(function(iT){iT.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e};iT.decode=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}});var Ure=h(function(ol){"use strict";function ab(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ab=function(r){return typeof r}:ab=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ab(t)}function Hot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vot(t,e,r){return e&&Cre(t.prototype,e),r&&Cre(t,r),t}function Wot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aT(t,e)}function aT(t,e){return aT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},aT(t,e)}function Got(t){var e=Xot();return function(){var n=ob(t),i;if(e){var a=ob(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Kot(this,i)}}function Kot(t,e){if(e&&(ab(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yot(t)}function Yot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ob(t){return ob=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ob(t)}var oT=ol&&ol.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ol,"__esModule",{value:!0});ol.Polling=void 0;var Jot=rb(),Qot=oT(An()),Zot=oT(nT()),eut=oT(ib()),Dre=Ap(),In=(0,Qot.default)("engine.io-client:polling"),tut=function(t){Wot(r,t);var e=Got(r);function r(){var n;return Hot(this,r),n=e.apply(this,arguments),n.polling=!1,n}return Vot(r,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(i){var a=this;this.readyState="pausing";var o=function(){In("paused"),a.readyState="paused",i()};if(this.polling||!this.writable){var u=0;this.polling&&(In("we are currently polling - waiting to pause"),u++,this.once("pollComplete",function(){In("pre-pause polling complete"),--u||o()})),this.writable||(In("we are currently writing - waiting to pause"),u++,this.once("drain",function(){In("pre-pause writing complete"),--u||o()}))}else o()}},{key:"poll",value:function(){In("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(i){var a=this;In("polling got data %s",i);var o=function(s){if(a.readyState==="opening"&&s.type==="open"&&a.onOpen(),s.type==="close")return a.onClose(),!1;a.onPacket(s)};(0,Dre.decodePayload)(i,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():In('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var i=this,a=function(){In("writing close packet"),i.write([{type:"close"}])};this.readyState==="open"?(In("transport open - closing"),a()):(In("transport not open - deferring close"),this.once("open",a))}},{key:"write",value:function(i){var a=this;this.writable=!1,(0,Dre.encodePayload)(i,function(o){a.doWrite(o,function(){a.writable=!0,a.emit("drain")})})}},{key:"uri",value:function(){var i=this.query||{},a=this.opts.secure?"https":"http",o="";this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=(0,Zot.default)()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.opts.port&&(a==="https"&&Number(this.opts.port)!==443||a==="http"&&Number(this.opts.port)!==80)&&(o=":"+this.opts.port);var u=eut.default.encode(i),s=this.opts.hostname.indexOf(":")!==-1;return a+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+o+this.opts.path+(u.length?"?"+u:"")}}]),r}(Jot.Transport);ol.Polling=tut});var Gre=h(function(Ka){"use strict";function ub(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ub=function(r){return typeof r}:ub=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ub(t)}function jre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nre(t,e,r){return e&&Mre(t.prototype,e),r&&Mre(t,r),t}function Bre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uT(t,e)}function uT(t,e){return uT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},uT(t,e)}function Lre(t){var e=nut();return function(){var n=sb(t),i;if(e){var a=sb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rut(this,i)}}function rut(t,e){if(e&&(ub(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zre(t)}function zre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nut(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function sb(t){return sb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},sb(t)}var sT=Ka&&Ka.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.Request=Ka.XHR=void 0;var $re=sT(vre()),iut=sT(An()),aut=sT(Rp()),Hre=il(),out=iu(),uut=Ure(),lT=(0,iut.default)("engine.io-client:polling-xhr");function sut(){}var lut=function(){var t=new $re.default({xdomain:!1});return t.responseType!=null}(),cut=function(t){Bre(r,t);var e=Lre(r);function r(n){var i;if(jre(this,r),i=e.call(this,n),typeof location!="undefined"){var a=location.protocol==="https:",o=location.port;o||(o=a?"443":"80"),i.xd=typeof location!="undefined"&&n.hostname!==location.hostname||o!==n.port,i.xs=n.secure!==a}var u=n&&n.forceBase64;return i.supportsBinary=lut&&!u,i}return Nre(r,[{key:"request",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign(i,{xd:this.xd,xs:this.xs},this.opts),new ou(this.uri(),i)}},{key:"doWrite",value:function(i,a){var o=this,u=this.request({method:"POST",data:i});u.on("success",a),u.on("error",function(s){o.onError("xhr post error",s)})}},{key:"doPoll",value:function(){var i=this;lT("xhr poll");var a=this.request();a.on("data",this.onData.bind(this)),a.on("error",function(o){i.onError("xhr poll error",o)}),this.pollXhr=a}}]),r}(uut.Polling);Ka.XHR=cut;var ou=function(t){Bre(r,t);var e=Lre(r);function r(n,i){var a;return jre(this,r),a=e.call(this),(0,Hre.installTimerFunctions)(zre(a),i),a.opts=i,a.method=i.method||"GET",a.uri=n,a.async=i.async!==!1,a.data=i.data!==void 0?i.data:null,a.create(),a}return Nre(r,[{key:"create",value:function(){var i=this,a=(0,Hre.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this.opts.xd,a.xscheme=!!this.opts.xs;var o=this.xhr=new $re.default(a);try{lT("xhr open %s: %s",this.method,this.uri),o.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(var u in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(u)&&o.setRequestHeader(u,this.opts.extraHeaders[u])}}catch(s){}if(this.method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{o.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in o&&(o.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(o.timeout=this.opts.requestTimeout),o.onreadystatechange=function(){o.readyState===4&&(o.status===200||o.status===1223?i.onLoad():i.setTimeoutFn(function(){i.onError(typeof o.status=="number"?o.status:0)},0))},lT("xhr data %s",this.data),o.send(this.data)}catch(s){this.setTimeoutFn(function(){i.onError(s)},0);return}typeof document!="undefined"&&(this.index=r.requestsCount++,r.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(i){this.emit("data",i),this.onSuccess()}},{key:"onError",value:function(i){this.emit("error",i),this.cleanup(!0)}},{key:"cleanup",value:function(i){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=sut,i)try{this.xhr.abort()}catch(a){}typeof document!="undefined"&&delete r.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var i=this.xhr.responseText;i!==null&&this.onData(i)}},{key:"abort",value:function(){this.cleanup()}}]),r}(out.Emitter);Ka.Request=ou;ou.requestsCount=0;ou.requests={};typeof document!="undefined"&&(typeof attachEvent=="function"?attachEvent("onunload",Wre):typeof addEventListener=="function"&&(Vre="onpagehide"in aut.default?"pagehide":"unload",addEventListener(Vre,Wre,!1)));var Vre;function Wre(){for(var t in ou.requests)ou.requests.hasOwnProperty(t)&&ou.requests[t].abort()}});var Yre=h(function(en){"use strict";var fut=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(en,"__esModule",{value:!0});en.defaultBinaryType=en.usingBrowserWebSocket=en.WebSocket=en.nextTick=void 0;var Kre=fut(Rp());en.nextTick=function(){var t=typeof Promise=="function"&&typeof Promise.resolve=="function";return t?function(e){return Promise.resolve().then(e)}:function(e,r){return r(e,0)}}();en.WebSocket=Kre.default.WebSocket||Kre.default.MozWebSocket;en.usingBrowserWebSocket=!0;en.defaultBinaryType="arraybuffer"});var Qre=h(function(ul){"use strict";function lb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lb=function(r){return typeof r}:lb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lb(t)}function put(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dut(t,e,r){return e&&Xre(t.prototype,e),r&&Xre(t,r),t}function hut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cT(t,e)}function cT(t,e){return cT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},cT(t,e)}function vut(t){var e=mut();return function(){var n=cb(t),i;if(e){var a=cb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return yut(this,i)}}function yut(t,e){if(e&&(lb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gut(t)}function gut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mut(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},cb(t)}var fT=ul&&ul.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ul,"__esModule",{value:!0});ul.WS=void 0;var but=rb(),_ut=fT(ib()),wut=fT(nT()),Sut=il(),li=Yre(),Out=fT(An()),Put=Ap(),qut=(0,Out.default)("engine.io-client:websocket"),Jre=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Rut=function(t){hut(r,t);var e=vut(r);function r(n){var i;return put(this,r),i=e.call(this,n),i.supportsBinary=!n.forceBase64,i}return dut(r,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(!!this.check()){var i=this.uri(),a=this.opts.protocols,o=Jre?{}:(0,Sut.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=li.usingBrowserWebSocket&&!Jre?a?new li.WebSocket(i,a):new li.WebSocket(i):new li.WebSocket(i,a,o)}catch(u){return this.emit("error",u)}this.ws.binaryType=this.socket.binaryType||li.defaultBinaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var i=this;this.ws.onopen=function(){i.opts.autoUnref&&i.ws._socket.unref(),i.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(a){return i.onData(a.data)},this.ws.onerror=function(a){return i.onError("websocket error",a)}}},{key:"write",value:function(i){var a=this;this.writable=!1;for(var o=function(l){var c=i[l],f=l===i.length-1;(0,Put.encodePacket)(c,a.supportsBinary,function(p){var d={};if(!li.usingBrowserWebSocket&&(c.options&&(d.compress=c.options.compress),a.opts.perMessageDeflate)){var v=typeof p=="string"?Buffer.byteLength(p):p.length;v<a.opts.perMessageDeflate.threshold&&(d.compress=!1)}try{li.usingBrowserWebSocket?a.ws.send(p):a.ws.send(p,d)}catch(g){qut("websocket closed before onclose event")}f&&(0,li.nextTick)(function(){a.writable=!0,a.emit("drain")},a.setTimeoutFn)})},u=0;u<i.length;u++)o(u)}},{key:"doClose",value:function(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var i=this.query||{},a=this.opts.secure?"wss":"ws",o="";this.opts.port&&(a==="wss"&&Number(this.opts.port)!==443||a==="ws"&&Number(this.opts.port)!==80)&&(o=":"+this.opts.port),this.opts.timestampRequests&&(i[this.opts.timestampParam]=(0,wut.default)()),this.supportsBinary||(i.b64=1);var u=_ut.default.encode(i),s=this.opts.hostname.indexOf(":")!==-1;return a+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+o+this.opts.path+(u.length?"?"+u:"")}},{key:"check",value:function(){return!!li.WebSocket&&!("__initialize"in li.WebSocket&&this.name===r.prototype.name)}}]),r}(but.Transport);ul.WS=Rut});var pT=h(function(fb){"use strict";Object.defineProperty(fb,"__esModule",{value:!0});fb.transports=void 0;var Eut=Gre(),Tut=Qre();fb.transports={websocket:Tut.WS,polling:Eut.XHR}});var ine=h(function(sl){"use strict";function Ip(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ip=function(r){return typeof r}:Ip=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ip(t)}function Aut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Iut(t,e,r){return e&&Zre(t.prototype,e),r&&Zre(t,r),t}function kut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},dT(t,e)}function xut(t){var e=Cut();return function(){var n=pb(t),i;if(e){var a=pb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Fut(this,i)}}function Fut(t,e){if(e&&(Ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ene(t)}function ene(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cut(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function pb(t){return pb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},pb(t)}var hT=sl&&sl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sl,"__esModule",{value:!0});sl.Socket=void 0;var Dut=pT(),Uut=il(),jut=hT(ib()),tne=hT(GE()),Mut=hT(An()),Nut=iu(),rne=Ap(),lt=(0,Mut.default)("engine.io-client:socket"),nne=function(t){kut(r,t);var e=xut(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Aut(this,r),i=e.call(this),n&&Ip(n)==="object"&&(a=n,n=null),n?(n=(0,tne.default)(n),a.hostname=n.host,a.secure=n.protocol==="https"||n.protocol==="wss",a.port=n.port,n.query&&(a.query=n.query)):a.host&&(a.hostname=(0,tne.default)(a.host).host),(0,Uut.installTimerFunctions)(ene(i),a),i.secure=a.secure!=null?a.secure:typeof location!="undefined"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=i.secure?"443":"80"),i.hostname=a.hostname||(typeof location!="undefined"?location.hostname:"localhost"),i.port=a.port||(typeof location!="undefined"&&location.port?location.port:i.secure?"443":"80"),i.transports=a.transports||["polling","websocket"],i.readyState="",i.writeBuffer=[],i.prevBufferLen=0,i.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},a),i.opts.path=i.opts.path.replace(/\/$/,"")+"/",typeof i.opts.query=="string"&&(i.opts.query=jut.default.decode(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,typeof addEventListener=="function"&&(i.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())},!1),i.hostname!=="localhost"&&(i.offlineEventListener=function(){i.onClose("transport close")},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return Iut(r,[{key:"createTransport",value:function(i){lt('creating transport "%s"',i);var a=But(this.opts.query);a.EIO=rne.protocol,a.transport=i,this.id&&(a.sid=this.id);var o=Object.assign({},this.opts.transportOptions[i],this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return lt("options: %j",o),new Dut.transports[i](o)}},{key:"open",value:function(){var i=this,a;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)a="websocket";else if(this.transports.length===0){this.setTimeoutFn(function(){i.emitReserved("error","No transports available")},0);return}else a=this.transports[0];this.readyState="opening";try{a=this.createTransport(a)}catch(o){lt("error while creating transport: %s",o),this.transports.shift(),this.open();return}a.open(),this.setTransport(a)}},{key:"setTransport",value:function(i){var a=this;lt("setting transport %s",i.name),this.transport&&(lt("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=i,i.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(){a.onClose("transport close")})}},{key:"probe",value:function(i){var a=this;lt('probing transport "%s"',i);var o=this.createTransport(i),u=!1;r.priorWebsocketSuccess=!1;var s=function(){u||(lt('probe transport "%s" opened',i),o.send([{type:"ping",data:"probe"}]),o.once("packet",function(m){if(!u)if(m.type==="pong"&&m.data==="probe"){if(lt('probe transport "%s" pong',i),a.upgrading=!0,a.emitReserved("upgrading",o),!o)return;r.priorWebsocketSuccess=o.name==="websocket",lt('pausing current transport "%s"',a.transport.name),a.transport.pause(function(){u||a.readyState!=="closed"&&(lt("changing transport and sending upgrade packet"),v(),a.setTransport(o),o.send([{type:"upgrade"}]),a.emitReserved("upgrade",o),o=null,a.upgrading=!1,a.flush())})}else{lt('probe transport "%s" failed',i);var _=new Error("probe error");_.transport=o.name,a.emitReserved("upgradeError",_)}}))};function l(){u||(u=!0,v(),o.close(),o=null)}var c=function(m){var _=new Error("probe error: "+m);_.transport=o.name,l(),lt('probe transport "%s" failed because of error: %s',i,m),a.emitReserved("upgradeError",_)};function f(){c("transport closed")}function p(){c("socket closed")}function d(g){o&&g.name!==o.name&&(lt('"%s" works - aborting "%s"',g.name,o.name),l())}var v=function(){o.removeListener("open",s),o.removeListener("error",c),o.removeListener("close",f),a.off("close",p),a.off("upgrading",d)};o.once("open",s),o.once("error",c),o.once("close",f),this.once("close",p),this.once("upgrading",d),o.open()}},{key:"onOpen",value:function(){if(lt("socket open"),this.readyState="open",r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){lt("starting upgrade probes");for(var i=0,a=this.upgrades.length;i<a;i++)this.probe(this.upgrades[i])}}},{key:"onPacket",value:function(i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(lt('socket receive: type "%s", data "%s"',i.type,i.data),this.emitReserved("packet",i),this.emitReserved("heartbeat"),i.type){case"open":this.onHandshake(JSON.parse(i.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var a=new Error("server error");a.code=i.data,this.onError(a);break;case"message":this.emitReserved("data",i.data),this.emitReserved("message",i.data);break}else lt('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(i){this.emitReserved("handshake",i),this.id=i.sid,this.transport.query.sid=i.sid,this.upgrades=this.filterUpgrades(i.upgrades),this.pingInterval=i.pingInterval,this.pingTimeout=i.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var i=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){i.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(lt("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(i,a,o){return this.sendPacket("message",i,a,o),this}},{key:"send",value:function(i,a,o){return this.sendPacket("message",i,a,o),this}},{key:"sendPacket",value:function(i,a,o,u){if(typeof a=="function"&&(u=a,a=void 0),typeof o=="function"&&(u=o,o=null),!(this.readyState==="closing"||this.readyState==="closed")){o=o||{},o.compress=o.compress!==!1;var s={type:i,data:a,options:o};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),u&&this.once("flush",u),this.flush()}}},{key:"close",value:function(){var i=this,a=function(){i.onClose("forced close"),lt("socket closing - telling transport to close"),i.transport.close()},o=function s(){i.off("upgrade",s),i.off("upgradeError",s),a()},u=function(){i.once("upgrade",o),i.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){i.upgrading?u():a()}):this.upgrading?u():a()),this}},{key:"onError",value:function(i){lt("socket error %j",i),r.priorWebsocketSuccess=!1,this.emitReserved("error",i),this.onClose("transport error",i)}},{key:"onClose",value:function(i,a){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(lt('socket close with reason: "%s"',i),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",i,a),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(i){for(var a=[],o=0,u=i.length;o<u;o++)~this.transports.indexOf(i[o])&&a.push(i[o]);return a}}]),r}(Nut.Emitter);sl.Socket=nne;nne.protocol=rne.protocol;function But(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}});var one=h(function(tn){"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.installTimerFunctions=tn.transports=tn.Transport=tn.protocol=tn.Socket=void 0;var ane=ine();Object.defineProperty(tn,"Socket",{enumerable:!0,get:function(){return ane.Socket}});tn.protocol=ane.Socket.protocol;var Lut=rb();Object.defineProperty(tn,"Transport",{enumerable:!0,get:function(){return Lut.Transport}});var zut=pT();Object.defineProperty(tn,"transports",{enumerable:!0,get:function(){return zut.transports}});var $ut=il();Object.defineProperty(tn,"installTimerFunctions",{enumerable:!0,get:function(){return $ut.installTimerFunctions}})});var vT=h(function(ll){"use strict";function db(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?db=function(r){return typeof r}:db=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},db(t)}Object.defineProperty(ll,"__esModule",{value:!0});ll.hasBinary=ll.isBinary=void 0;var Hut=typeof ArrayBuffer=="function",Vut=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},une=Object.prototype.toString,Wut=typeof Blob=="function"||typeof Blob!="undefined"&&une.call(Blob)==="[object BlobConstructor]",Gut=typeof File=="function"||typeof File!="undefined"&&une.call(File)==="[object FileConstructor]";function sne(t){return Hut&&(t instanceof ArrayBuffer||Vut(t))||Wut&&t instanceof Blob||Gut&&t instanceof File}ll.isBinary=sne;function hb(t,e){if(!t||db(t)!=="object")return!1;if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)if(hb(t[r]))return!0;return!1}if(sne(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return hb(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&hb(t[i]))return!0;return!1}ll.hasBinary=hb});var lne=h(function(cl){"use strict";function kp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kp=function(r){return typeof r}:kp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kp(t)}Object.defineProperty(cl,"__esModule",{value:!0});cl.reconstructPacket=cl.deconstructPacket=void 0;var Kut=vT();function Yut(t){var e=[],r=t.data,n=t;return n.data=yT(r,e),n.attachments=e.length,{packet:n,buffers:e}}cl.deconstructPacket=Yut;function yT(t,e){if(!t)return t;if(Kut.isBinary(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){for(var n=new Array(t.length),i=0;i<t.length;i++)n[i]=yT(t[i],e);return n}else if(kp(t)==="object"&&!(t instanceof Date)){var a={};for(var o in t)t.hasOwnProperty(o)&&(a[o]=yT(t[o],e));return a}return t}function Xut(t,e){return t.data=gT(t.data,e),t.attachments=void 0,t}cl.reconstructPacket=Xut;function gT(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=gT(t[r],e);else if(kp(t)==="object")for(var n in t)t.hasOwnProperty(n)&&(t[n]=gT(t[n],e));return t}});var vb=h(function(kn){"use strict";function fl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fl=function(r){return typeof r}:fl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fl(t)}function pl(){return typeof Reflect!="undefined"&&Reflect.get?pl=Reflect.get:pl=function(e,r,n){var i=Jut(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},pl.apply(this,arguments)}function Jut(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ya(t),t!==null););return t}function Qut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mT(t,e)}function mT(t,e){return mT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},mT(t,e)}function Zut(t){var e=rst();return function(){var n=Ya(t),i;if(e){var a=Ya(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return est(this,i)}}function est(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tst(t)}function tst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ya(t){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ya(t)}function bT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _T(t,e,r){return e&&cne(t.prototype,e),r&&cne(t,r),t}Object.defineProperty(kn,"__esModule",{value:!0});kn.Decoder=kn.Encoder=kn.PacketType=kn.protocol=void 0;var nst=iu(),fne=lne(),pne=vT(),ist=An(),wT=ist.default("socket.io-parser");kn.protocol=5;var yt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(yt=kn.PacketType||(kn.PacketType={}));var ast=function(){function t(){bT(this,t)}return _T(t,[{key:"encode",value:function(r){return wT("encoding packet %j",r),(r.type===yt.EVENT||r.type===yt.ACK)&&pne.hasBinary(r)?(r.type=r.type===yt.EVENT?yt.BINARY_EVENT:yt.BINARY_ACK,this.encodeAsBinary(r)):[this.encodeAsString(r)]}},{key:"encodeAsString",value:function(r){var n=""+r.type;return(r.type===yt.BINARY_EVENT||r.type===yt.BINARY_ACK)&&(n+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(n+=r.nsp+","),r.id!=null&&(n+=r.id),r.data!=null&&(n+=JSON.stringify(r.data)),wT("encoded %j as %s",r,n),n}},{key:"encodeAsBinary",value:function(r){var n=fne.deconstructPacket(r),i=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(i),a}}]),t}();kn.Encoder=ast;var ost=function(t){Qut(r,t);var e=Zut(r);function r(){return bT(this,r),e.call(this)}return _T(r,[{key:"add",value:function(i){var a;if(typeof i=="string")a=this.decodeString(i),a.type===yt.BINARY_EVENT||a.type===yt.BINARY_ACK?(this.reconstructor=new sst(a),a.attachments===0&&pl(Ya(r.prototype),"emitReserved",this).call(this,"decoded",a)):pl(Ya(r.prototype),"emitReserved",this).call(this,"decoded",a);else if(pne.isBinary(i)||i.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(i),a&&(this.reconstructor=null,pl(Ya(r.prototype),"emitReserved",this).call(this,"decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+i)}},{key:"decodeString",value:function(i){var a=0,o={type:Number(i.charAt(0))};if(yt[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===yt.BINARY_EVENT||o.type===yt.BINARY_ACK){for(var u=a+1;i.charAt(++a)!=="-"&&a!=i.length;);var s=i.substring(u,a);if(s!=Number(s)||i.charAt(a)!=="-")throw new Error("Illegal attachments");o.attachments=Number(s)}if(i.charAt(a+1)==="/"){for(var l=a+1;++a;){var c=i.charAt(a);if(c===","||a===i.length)break}o.nsp=i.substring(l,a)}else o.nsp="/";var f=i.charAt(a+1);if(f!==""&&Number(f)==f){for(var p=a+1;++a;){var d=i.charAt(a);if(d==null||Number(d)!=d){--a;break}if(a===i.length)break}o.id=Number(i.substring(p,a+1))}if(i.charAt(++a)){var v=ust(i.substr(a));if(r.isPayloadValid(o.type,v))o.data=v;else throw new Error("invalid payload")}return wT("decoded %s as %j",i,o),o}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(i,a){switch(i){case yt.CONNECT:return fl(a)==="object";case yt.DISCONNECT:return a===void 0;case yt.CONNECT_ERROR:return typeof a=="string"||fl(a)==="object";case yt.EVENT:case yt.BINARY_EVENT:return Array.isArray(a)&&a.length>0;case yt.ACK:case yt.BINARY_ACK:return Array.isArray(a)}}}]),r}(nst.Emitter);kn.Decoder=ost;function ust(t){try{return JSON.parse(t)}catch(e){return!1}}var sst=function(){function t(e){bT(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return _T(t,[{key:"takeBinaryData",value:function(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){var n=fne.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}()});var ST=h(function(yb){"use strict";Object.defineProperty(yb,"__esModule",{value:!0});yb.on=void 0;function lst(t,e,r){return t.on(e,r),function(){t.off(e,r)}}yb.on=lst});var PT=h(function(hl){"use strict";function gb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gb=function(r){return typeof r}:gb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gb(t)}function cst(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=fst(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function fst(t,e){if(!!t){if(typeof t=="string")return dne(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dne(t,e)}}function dne(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dst(t,e,r){return e&&hne(t.prototype,e),r&&hne(t,r),t}function mb(){return typeof Reflect!="undefined"&&Reflect.get?mb=Reflect.get:mb=function(e,r,n){var i=hst(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},mb.apply(this,arguments)}function hst(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=dl(t),t!==null););return t}function vst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OT(t,e)}function OT(t,e){return OT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},OT(t,e)}function yst(t){var e=bst();return function(){var n=dl(t),i;if(e){var a=dl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gst(this,i)}}function gst(t,e){if(e&&(gb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mst(t)}function mst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function dl(t){return dl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},dl(t)}var _st=hl&&hl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hl,"__esModule",{value:!0});hl.Socket=void 0;var rn=vb(),bb=ST(),wst=iu(),Sst=_st(An()),vr=Sst.default("socket.io-client:socket"),Ost=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Pst=function(t){vst(r,t);var e=yst(r);function r(n,i,a){var o;return pst(this,r),o=e.call(this),o.connected=!1,o.disconnected=!0,o.receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=n,o.nsp=i,a&&a.auth&&(o.auth=a.auth),o.io._autoConnect&&o.open(),o}return dst(r,[{key:"subEvents",value:function(){if(!this.subs){var i=this.io;this.subs=[bb.on(i,"open",this.onopen.bind(this)),bb.on(i,"packet",this.onpacket.bind(this)),bb.on(i,"error",this.onerror.bind(this)),bb.on(i,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return a.unshift("message"),this.emit.apply(this,a),this}},{key:"emit",value:function(i){if(Ost.hasOwnProperty(i))throw new Error('"'+i+'" is a reserved event name');for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];o.unshift(i);var s={type:rn.PacketType.EVENT,data:o};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){var l=this.ids++;vr("emitting packet with ack id %d",l);var c=o.pop();this._registerAckCallback(l,c),s.id=l}var f=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,p=this.flags.volatile&&(!f||!this.connected);return p?vr("discard packet as the transport is not currently writable"):this.connected?this.packet(s):this.sendBuffer.push(s),this.flags={},this}},{key:"_registerAckCallback",value:function(i,a){var o=this,u=this.flags.timeout;if(u===void 0){this.acks[i]=a;return}var s=this.io.setTimeoutFn(function(){delete o.acks[i];for(var l=0;l<o.sendBuffer.length;l++)o.sendBuffer[l].id===i&&(vr("removing packet with ack id %d from the buffer",i),o.sendBuffer.splice(l,1));vr("event with ack id %d has timed out after %d ms",i,u),a.call(o,new Error("operation has timed out"))},u);this.acks[i]=function(){o.io.clearTimeoutFn(s);for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];a.apply(o,[null].concat(c))}}},{key:"packet",value:function(i){i.nsp=this.nsp,this.io._packet(i)}},{key:"onopen",value:function(){var i=this;vr("transport is open - connecting"),typeof this.auth=="function"?this.auth(function(a){i.packet({type:rn.PacketType.CONNECT,data:a})}):this.packet({type:rn.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(i){this.connected||this.emitReserved("connect_error",i)}},{key:"onclose",value:function(i){vr("close (%s)",i),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",i)}},{key:"onpacket",value:function(i){var a=i.nsp===this.nsp;if(!!a)switch(i.type){case rn.PacketType.CONNECT:if(i.data&&i.data.sid){var o=i.data.sid;this.onconnect(o)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case rn.PacketType.EVENT:this.onevent(i);break;case rn.PacketType.BINARY_EVENT:this.onevent(i);break;case rn.PacketType.ACK:this.onack(i);break;case rn.PacketType.BINARY_ACK:this.onack(i);break;case rn.PacketType.DISCONNECT:this.ondisconnect();break;case rn.PacketType.CONNECT_ERROR:this.destroy();var u=new Error(i.data.message);u.data=i.data.data,this.emitReserved("connect_error",u);break}}},{key:"onevent",value:function(i){var a=i.data||[];vr("emitting event %j",a),i.id!=null&&(vr("attaching ack callback to event"),a.push(this.ack(i.id))),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}},{key:"emitEvent",value:function(i){if(this._anyListeners&&this._anyListeners.length){var a=this._anyListeners.slice(),o=cst(a),u;try{for(o.s();!(u=o.n()).done;){var s=u.value;s.apply(this,i)}}catch(l){o.e(l)}finally{o.f()}}mb(dl(r.prototype),"emit",this).apply(this,i)}},{key:"ack",value:function(i){var a=this,o=!1;return function(){if(!o){o=!0;for(var u=arguments.length,s=new Array(u),l=0;l<u;l++)s[l]=arguments[l];vr("sending ack %j",s),a.packet({type:rn.PacketType.ACK,id:i,data:s})}}}},{key:"onack",value:function(i){var a=this.acks[i.id];typeof a=="function"?(vr("calling ack %s with %j",i.id,i.data),a.apply(this,i.data),delete this.acks[i.id]):vr("bad ack %s",i.id)}},{key:"onconnect",value:function(i){vr("socket connected with id %s",i),this.id=i,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var i=this;this.receiveBuffer.forEach(function(a){return i.emitEvent(a)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(a){return i.packet(a)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){vr("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(i){return i()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(vr("performing disconnect (%s)",this.nsp),this.packet({type:rn.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(i){return this.flags.compress=i,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(i){return this.flags.timeout=i,this}},{key:"onAny",value:function(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(i),this}},{key:"prependAny",value:function(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(i),this}},{key:"offAny",value:function(i){if(!this._anyListeners)return this;if(i){for(var a=this._anyListeners,o=0;o<a.length;o++)if(i===a[o])return a.splice(o,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),r}(wst.Emitter);hl.Socket=Pst});var yne=h(function(W_t,vne){vne.exports=vl;function vl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}vl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};vl.prototype.reset=function(){this.attempts=0};vl.prototype.setMin=function(t){this.ms=t};vl.prototype.setMax=function(t){this.max=t};vl.prototype.setJitter=function(t){this.jitter=t}});var wne=h(function(nn){"use strict";function xp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xp=function(r){return typeof r}:xp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xp(t)}function qst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rst(t,e,r){return e&&gne(t.prototype,e),r&&gne(t,r),t}function Est(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qT(t,e)}function qT(t,e){return qT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},qT(t,e)}function Tst(t){var e=Ist();return function(){var n=_b(t),i;if(e){var a=_b(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ast(this,i)}}function Ast(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mne(t)}function mne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ist(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(t)}var kst=nn&&nn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xst=nn&&nn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fst=nn&&nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kst(e,t,r);return xst(e,t),e},bne=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nn,"__esModule",{value:!0});nn.Manager=void 0;var _ne=one(),Cst=PT(),Dst=Fst(vb()),uu=ST(),Ust=bne(yne()),jst=iu(),Mst=bne(An()),zt=Mst.default("socket.io-client:manager"),Nst=function(t){Est(r,t);var e=Tst(r);function r(n,i){var a;qst(this,r);var o;a=e.call(this),a.nsps={},a.subs=[],n&&xp(n)==="object"&&(i=n,n=void 0),i=i||{},i.path=i.path||"/socket.io",a.opts=i,_ne.installTimerFunctions(mne(a),i),a.reconnection(i.reconnection!==!1),a.reconnectionAttempts(i.reconnectionAttempts||1/0),a.reconnectionDelay(i.reconnectionDelay||1e3),a.reconnectionDelayMax(i.reconnectionDelayMax||5e3),a.randomizationFactor((o=i.randomizationFactor)!==null&&o!==void 0?o:.5),a.backoff=new Ust.default({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(i.timeout==null?2e4:i.timeout),a._readyState="closed",a.uri=n;var u=i.parser||Dst;return a.encoder=new u.Encoder,a.decoder=new u.Decoder,a._autoConnect=i.autoConnect!==!1,a._autoConnect&&a.open(),a}return Rst(r,[{key:"reconnection",value:function(i){return arguments.length?(this._reconnection=!!i,this):this._reconnection}},{key:"reconnectionAttempts",value:function(i){return i===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=i,this)}},{key:"reconnectionDelay",value:function(i){var a;return i===void 0?this._reconnectionDelay:(this._reconnectionDelay=i,(a=this.backoff)===null||a===void 0||a.setMin(i),this)}},{key:"randomizationFactor",value:function(i){var a;return i===void 0?this._randomizationFactor:(this._randomizationFactor=i,(a=this.backoff)===null||a===void 0||a.setJitter(i),this)}},{key:"reconnectionDelayMax",value:function(i){var a;return i===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=i,(a=this.backoff)===null||a===void 0||a.setMax(i),this)}},{key:"timeout",value:function(i){return arguments.length?(this._timeout=i,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}},{key:"open",value:function(i){var a=this;if(zt("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;zt("opening %s",this.uri),this.engine=new _ne.Socket(this.uri,this.opts);var o=this.engine,u=this;this._readyState="opening",this.skipReconnect=!1;var s=uu.on(o,"open",function(){u.onopen(),i&&i()}),l=uu.on(o,"error",function(p){zt("error"),u.cleanup(),u._readyState="closed",a.emitReserved("error",p),i?i(p):u.maybeReconnectOnOpen()});if(this._timeout!==!1){var c=this._timeout;zt("connect attempt will timeout after %d",c),c===0&&s();var f=this.setTimeoutFn(function(){zt("connect attempt timed out after %d",c),s(),o.close(),o.emit("error",new Error("timeout"))},c);this.opts.autoUnref&&f.unref(),this.subs.push(function(){clearTimeout(f)})}return this.subs.push(s),this.subs.push(l),this}},{key:"connect",value:function(i){return this.open(i)}},{key:"onopen",value:function(){zt("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var i=this.engine;this.subs.push(uu.on(i,"ping",this.onping.bind(this)),uu.on(i,"data",this.ondata.bind(this)),uu.on(i,"error",this.onerror.bind(this)),uu.on(i,"close",this.onclose.bind(this)),uu.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(i){this.decoder.add(i)}},{key:"ondecoded",value:function(i){this.emitReserved("packet",i)}},{key:"onerror",value:function(i){zt("error",i),this.emitReserved("error",i)}},{key:"socket",value:function(i,a){var o=this.nsps[i];return o||(o=new Cst.Socket(this,i,a),this.nsps[i]=o),o}},{key:"_destroy",value:function(i){for(var a=Object.keys(this.nsps),o=0,u=a;o<u.length;o++){var s=u[o],l=this.nsps[s];if(l.active){zt("socket %s is still active, skipping close",s);return}}this._close()}},{key:"_packet",value:function(i){zt("writing packet %j",i);for(var a=this.encoder.encode(i),o=0;o<a.length;o++)this.engine.write(a[o],i.options)}},{key:"cleanup",value:function(){zt("cleanup"),this.subs.forEach(function(i){return i()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){zt("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(i){zt("closed due to %s",i),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",i),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var i=this;if(this._reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)zt("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var o=this.backoff.duration();zt("will wait %dms before reconnect attempt",o),this._reconnecting=!0;var u=this.setTimeoutFn(function(){a.skipReconnect||(zt("attempting reconnect"),i.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(function(s){s?(zt("reconnect attempt error"),a._reconnecting=!1,a.reconnect(),i.emitReserved("reconnect_error",s)):(zt("reconnect success"),a.onreconnect())}))},o);this.opts.autoUnref&&u.unref(),this.subs.push(function(){clearTimeout(u)})}}},{key:"onreconnect",value:function(){var i=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",i)}}]),r}(jst.Emitter);nn.Manager=Nst});var qne=h(function(Xt,Pne){"use strict";function wb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wb=function(r){return typeof r}:wb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wb(t)}var Bst=Xt&&Xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.default=Xt.connect=Xt.io=Xt.Socket=Xt.Manager=Xt.protocol=void 0;var Lst=pre(),Sb=wne();Object.defineProperty(Xt,"Manager",{enumerable:!0,get:function(){return Sb.Manager}});var Sne=PT();Object.defineProperty(Xt,"Socket",{enumerable:!0,get:function(){return Sne.Socket}});var zst=Bst(An()),One=zst.default("socket.io-client"),Fp={};function su(t,e){wb(t)==="object"&&(e=t,t=void 0),e=e||{};var r=Lst.url(t,e.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=Fp[i]&&a in Fp[i].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||o,s;return u?(One("ignoring socket cache for %s",n),s=new Sb.Manager(n,e)):(Fp[i]||(One("new io instance for %s",n),Fp[i]=new Sb.Manager(n,e)),s=Fp[i]),r.query&&!e.query&&(e.query=r.queryKey),s.socket(r.path,e)}Xt.io=su;Xt.connect=su;Xt.default=su;Object.assign(su,{Manager:Sb.Manager,Socket:Sne.Socket,io:su,connect:su});var $st=vb();Object.defineProperty(Xt,"protocol",{enumerable:!0,get:function(){return $st.protocol}});Pne.exports=su});var Ine=h(function(K_t,Ane){function Ob(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ob=function(r){return typeof r}:Ob=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ob(t)}function Rne(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function Hst(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){Rne(a,n,i,o,u,"next",s)}function u(s){Rne(a,n,i,o,u,"throw",s)}o(void 0)})}}function Vst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ene(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wst(t,e,r){return e&&Ene(t.prototype,e),r&&Ene(t,r),t}function Gst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RT(t,e)}function RT(t,e){return RT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},RT(t,e)}function Kst(t){var e=Xst();return function(){var n=Pb(t),i;if(e){var a=Pb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Yst(this,i)}}function Yst(t,e){if(e&&(Ob(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lu(t)}function lu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Pb(t){return Pb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(t)}function an(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Jst=0;function yl(t){return"__private_"+Jst+++"_"+t}var Qst=WE(),Zst=hf(),elt=No(),tlt=Nv(),rlt=nre(),ET;function nlt(){var t;return(t=ET)!=null||(ET=qne()),ET}var ilt="ASSEMBLY_UPLOADING",TT="ASSEMBLY_EXECUTING",AT="ASSEMBLY_COMPLETED",Tne=[ilt,TT,AT];function qb(t,e){return Tne.indexOf(t)>=Tne.indexOf(e)}var IT=yl("onFinished"),kT=yl("connectSocket"),Ji=yl("onError"),xT=yl("beginPolling"),Qi=yl("fetchStatus"),FT=yl("diffStatus"),alt=function(t){Gst(r,t);var e=Kst(r);function r(n){var i;return Vst(this,r),i=e.call(this),Object.defineProperty(lu(i),FT,{value:flt}),Object.defineProperty(lu(i),Qi,{value:clt}),Object.defineProperty(lu(i),xT,{value:llt}),Object.defineProperty(lu(i),Ji,{value:slt}),Object.defineProperty(lu(i),kT,{value:ult}),Object.defineProperty(lu(i),IT,{value:olt}),i.status=n,i.socket=null,i.pollInterval=null,i.closed=!1,i}return Wst(r,[{key:"connect",value:function(){an(this,kT)[kT](),an(this,xT)[xT]()}},{key:"update",value:function(){return an(this,Qi)[Qi]({diff:!0})}},{key:"updateStatus",value:function(i){an(this,FT)[FT](this.status,i),this.status=i}},{key:"close",value:function(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval)}}]),r}(Qst);function olt(){this.emit("finished"),this.close()}function ult(){var t=this,e=rlt(this.status.websocket_url),r=nlt().connect(e.origin,{transports:["websocket"],path:e.pathname});r.on("connect",function(){r.emit("assembly_connect",{id:t.status.assembly_id}),t.emit("connect")}),r.on("connect_error",function(){r.disconnect(),t.socket=null}),r.on("assembly_finished",function(){an(t,IT)[IT]()}),r.on("assembly_upload_finished",function(n){t.emit("upload",n),t.status.uploads.push(n)}),r.on("assembly_uploading_finished",function(){t.emit("executing")}),r.on("assembly_upload_meta_data_extracted",function(){t.emit("metadata"),an(t,Qi)[Qi]({diff:!1})}),r.on("assembly_result_finished",function(n,i){t.emit("result",n,i),t.status.results[n]||(t.status.results[n]=[]),t.status.results[n].push(i)}),r.on("assembly_error",function(n){an(t,Ji)[Ji](n),an(t,Qi)[Qi]({diff:!1})}),this.socket=r}function slt(t){this.emit("error",Object.assign(new Error(t.message),t)),this.close()}function llt(){var t=this;this.pollInterval=setInterval(function(){(!t.socket||!t.socket.connected)&&an(t,Qi)[Qi]()},2e3)}function clt(t){return CT.apply(this,arguments)}function CT(){return CT=Hst(regeneratorRuntime.mark(function t(e){var r,n,i,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(r=e===void 0?{}:e,n=r.diff,i=n===void 0?!0:n,!this.closed){s.next=3;break}return s.abrupt("return");case 3:return s.prev=3,s.next=6,tlt(this.status.assembly_ssl_url);case 6:if(a=s.sent,!this.closed){s.next=9;break}return s.abrupt("return");case 9:if(a.status!==429){s.next=11;break}return s.abrupt("return");case 11:if(a.ok){s.next=14;break}return an(this,Ji)[Ji](new elt(a.statusText)),s.abrupt("return");case 14:return s.next=16,a.json();case 16:if(o=s.sent,!this.closed){s.next=19;break}return s.abrupt("return");case 19:this.emit("status",o),i?this.updateStatus(o):this.status=o,s.next=26;break;case 23:s.prev=23,s.t0=s.catch(3),an(this,Ji)[Ji](s.t0);case 26:case"end":return s.stop()}},t,this,[[3,23]])})),CT.apply(this,arguments)}function flt(t,e){var r=this,n=t.ok,i=e.ok;if(e.error&&!t.error)return an(this,Ji)[Ji](e);var a=qb(i,TT)&&!qb(n,TT);a&&this.emit("executing"),Object.keys(e.uploads).filter(function(o){return!Zst(t.uploads,o)}).forEach(function(o){r.emit("upload",e.uploads[o])}),a&&this.emit("metadata"),Object.keys(e.results).forEach(function(o){var u=e.results[o],s=t.results[o];u.filter(function(l){return!s||!s.some(function(c){return c.id===l.id})}).forEach(function(l){r.emit("result",o,l)})}),qb(i,AT)&&!qb(n,AT)&&this.emit("finished")}Ane.exports=alt});var Cne=h(function(Y_t,Fne){function plt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dlt(t,e,r){return e&&kne(t.prototype,e),r&&kne(t,r),t}var yr,on;function xn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var hlt=0;function xne(t){return"__private_"+hlt+++"_"+t}var vlt=Nv(),ylt=No();function cu(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return vlt.apply(void 0,e).then(function(n){return n.status===429?new Promise(function(i,a){setTimeout(function(){return cu.apply(void 0,e).then(i,a)},2e3)}):n.ok?n.json():Promise.reject(new ylt(n.statusText))})}Fne.exports=(yr=xne("headers"),on=xne("reportError"),function(){function t(e){var r=this;plt(this,t),e===void 0&&(e={}),Object.defineProperty(this,yr,{writable:!0,value:{}}),Object.defineProperty(this,on,{writable:!0,value:function(i,a){if(r.opts.errorReporting===!1)throw i;var o={type:a.type};throw a.assembly&&(o.assembly=a.assembly.assembly_id,o.instance=a.assembly.instance),a.url&&(o.endpoint=a.url),r.submitError(i,o).catch(function(){}),i}}),this.opts=e,this.opts.client!=null&&(xn(this,yr)[yr]["Transloadit-Client"]=this.opts.client)}return dlt(t,[{key:"createAssembly",value:function(r){var n=this,i=r.params,a=r.fields,o=r.signature,u=r.expectedFiles,s=new FormData;s.append("params",typeof i=="string"?i:JSON.stringify(i)),o&&s.append("signature",o),Object.keys(a).forEach(function(c){s.append(c,a[c])}),s.append("num_expected_upload_files",u);var l=new URL("/assemblies","".concat(this.opts.service)).href;return cu(l,{method:"post",headers:xn(this,yr)[yr],body:s}).then(function(c){if(c.error){var f=new Error(c.error);throw f.details=c.message,f.assembly=c,c.assembly_id&&(f.details+=" Assembly ID: ".concat(c.assembly_id)),f}return c}).catch(function(c){return xn(n,on)[on](c,{url:l,type:"API_ERROR"})})}},{key:"reserveFile",value:function(r,n){var i=this,a=encodeURIComponent(n.size),o="".concat(r.assembly_ssl_url,"/reserve_file?size=").concat(a);return cu(o,{method:"post",headers:xn(this,yr)[yr]}).catch(function(u){return xn(i,on)[on](u,{assembly:r,file:n,url:o,type:"API_ERROR"})})}},{key:"addFile",value:function(r,n){var i=this;if(!n.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var a=encodeURIComponent(n.size),o=encodeURIComponent(n.uploadURL),u=encodeURIComponent(n.name),s="file",l="size=".concat(a,"&filename=").concat(u,"&fieldname=").concat(s,"&s3Url=").concat(o),c="".concat(r.assembly_ssl_url,"/add_file?").concat(l);return cu(c,{method:"post",headers:xn(this,yr)[yr]}).catch(function(f){return xn(i,on)[on](f,{assembly:r,file:n,url:c,type:"API_ERROR"})})}},{key:"cancelAssembly",value:function(r){var n=this,i=r.assembly_ssl_url;return cu(i,{method:"delete",headers:xn(this,yr)[yr]}).catch(function(a){return xn(n,on)[on](a,{url:i,type:"API_ERROR"})})}},{key:"getAssemblyStatus",value:function(r){var n=this;return cu(r,{headers:xn(this,yr)[yr]}).catch(function(i){return xn(n,on)[on](i,{url:r,type:"STATUS_ERROR"})})}},{key:"submitError",value:function(r,n){var i=n===void 0?{}:n,a=i.endpoint,o=i.instance,u=i.assembly,s=r.details?"".concat(r.message," (").concat(r.details,")"):r.message;return cu("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:a,instance:o,assembly_id:u,agent:typeof navigator!="undefined"?navigator.userAgent:"",client:this.opts.client,error:s})})}}]),t}())});var Nne=h(function(X_t,MT){function Dne(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function Une(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){Dne(a,n,i,o,u,"next",s)}function u(s){Dne(a,n,i,o,u,"throw",s)}o(void 0)})}}function glt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mlt(t,e,r){return e&&jne(t.prototype,e),r&&jne(t,r),t}function blt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_lt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function _lt(t,e){if(!!t){if(typeof t=="string")return Mne(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mne(t,e)}}function Mne(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wlt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Slt=0;function Olt(t){return"__private_"+Slt+++"_"+t}function DT(t){if(t==null)throw new Error("Transloadit: The `params` option is required.");if(typeof t=="string")try{t=JSON.parse(t)}catch(r){var e=new Error("Transloadit: The `params` option is a malformed JSON string.");throw r.cause=r,e}if(!t.auth||!t.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}function Plt(t){var e=Object.create(null),r=blt(t),n;try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.fileIDs,o=i.options,u=JSON.stringify(o);u in e?e[u].fileIDArrays.push(a):e[u]={options:o,fileIDArrays:[a]}}}catch(s){r.e(s)}finally{r.f()}return Object.values(e).map(function(s){var l=s.options,c=s.fileIDArrays;return{options:l,fileIDs:c.flat(1)}})}var UT=Olt("getAssemblyOptions"),qlt=function(){function t(e,r){glt(this,t),Object.defineProperty(this,UT,{value:Rlt}),this.files=e,this.opts=r}return mlt(t,[{key:"build",value:function(){var e=Une(regeneratorRuntime.mark(function n(){var i=this,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=this.opts,!(this.files.length>0)){s.next=3;break}return s.abrupt("return",Promise.all(this.files.map(function(l){return wlt(i,UT)[UT](l)})).then(Plt));case 3:if(!a.alwaysRunAssembly){s.next=9;break}return s.next=6,a.getAssemblyOptions(null,a);case 6:return o=s.sent,DT(o.params),s.abrupt("return",[{fileIDs:this.files.map(function(l){return l.id}),options:o}]);case 9:return s.abrupt("return",[]);case 10:case"end":return s.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()}]),t}();function Rlt(t){return jT.apply(this,arguments)}function jT(){return jT=Une(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=this.opts,a.next=3,r.getAssemblyOptions(e,r);case 3:return n=a.sent,Array.isArray(n.fields)?n.fields=Object.fromEntries(n.fields.map(function(o){return[o,e.meta[o]]})):n.fields==null&&(n.fields={}),DT(n.params),a.abrupt("return",{fileIDs:[e.id],options:n});case 7:case"end":return a.stop()}},t,this)})),jT.apply(this,arguments)}MT.exports=qlt;MT.exports.validateParams=DT});var Lne=h(function(J_t,Bne){function Rb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rb=function(r){return typeof r}:Rb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rb(t)}function Elt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tlt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NT(t,e)}function NT(t,e){return NT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},NT(t,e)}function Alt(t){var e=klt();return function(){var n=Eb(t),i;if(e){var a=Eb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ilt(this,i)}}function Ilt(t,e){if(e&&(Rb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return De(t)}function De(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function klt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(t)}function Se(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var xlt=0;function Ir(t){return"__private_"+xlt+++"_"+t}var Flt=WE(),Cp=Ir("assemblyIDs"),BT=Ir("reject"),fu=Ir("remaining"),Dp=Ir("resolve"),Je=Ir("uppy"),Zi=Ir("watching"),Up=Ir("onAssemblyComplete"),jp=Ir("onAssemblyCancel"),pu=Ir("onAssemblyError"),Mp=Ir("onImportError"),du=Ir("checkAllComplete"),LT=Ir("removeListeners"),zT=Ir("addListeners"),Clt=function(t){Tlt(r,t);var e=Alt(r);function r(n,i){var a;return Elt(this,r),a=e.call(this),Object.defineProperty(De(a),zT,{value:Mlt}),Object.defineProperty(De(a),LT,{value:jlt}),Object.defineProperty(De(a),du,{value:Ult}),Object.defineProperty(De(a),Zi,{value:Dlt}),Object.defineProperty(De(a),Cp,{writable:!0,value:void 0}),Object.defineProperty(De(a),BT,{writable:!0,value:void 0}),Object.defineProperty(De(a),fu,{writable:!0,value:void 0}),Object.defineProperty(De(a),Dp,{writable:!0,value:void 0}),Object.defineProperty(De(a),Je,{writable:!0,value:void 0}),Object.defineProperty(De(a),Up,{writable:!0,value:function(u){!Se(De(a),Zi)[Zi](u.assembly_id)||(Se(De(a),Je)[Je].log("[Transloadit] AssemblyWatcher: Got Assembly finish ".concat(u.assembly_id)),a.emit("assembly-complete",u.assembly_id),Se(De(a),du)[du]())}}),Object.defineProperty(De(a),jp,{writable:!0,value:function(u){!Se(De(a),Zi)[Zi](u.assembly_id)||Se(De(a),du)[du]()}}),Object.defineProperty(De(a),pu,{writable:!0,value:function(u,s){!Se(De(a),Zi)[Zi](u.assembly_id)||(Se(De(a),Je)[Je].log("[Transloadit] AssemblyWatcher: Got Assembly error ".concat(u.assembly_id)),Se(De(a),Je)[Je].log(s),a.emit("assembly-error",u.assembly_id,s),Se(De(a),du)[du]())}}),Object.defineProperty(De(a),Mp,{writable:!0,value:function(u,s,l){!Se(De(a),Zi)[Zi](u.assembly_id)||Se(De(a),pu)[pu](u,l)}}),Se(De(a),Je)[Je]=n,Se(De(a),Cp)[Cp]=i,Se(De(a),fu)[fu]=i.length,a.promise=new Promise(function(o,u){Se(De(a),Dp)[Dp]=o,Se(De(a),BT)[BT]=u}),Se(De(a),zT)[zT](),a}return r}(Flt);function Dlt(t){return Se(this,Cp)[Cp].indexOf(t)!==-1}function Ult(){Se(this,fu)[fu]-=1,Se(this,fu)[fu]===0&&(Se(this,LT)[LT](),Se(this,Dp)[Dp]())}function jlt(){Se(this,Je)[Je].off("transloadit:complete",Se(this,Up)[Up]),Se(this,Je)[Je].off("transloadit:assembly-cancel",Se(this,jp)[jp]),Se(this,Je)[Je].off("transloadit:assembly-error",Se(this,pu)[pu]),Se(this,Je)[Je].off("transloadit:import-error",Se(this,Mp)[Mp])}function Mlt(){Se(this,Je)[Je].on("transloadit:complete",Se(this,Up)[Up]),Se(this,Je)[Je].on("transloadit:assembly-cancel",Se(this,jp)[jp]),Se(this,Je)[Je].on("transloadit:assembly-error",Se(this,pu)[pu]),Se(this,Je)[Je].on("transloadit:import-error",Se(this,Mp)[Mp])}Bne.exports=Clt});var $ne=h(function(Q_t,zne){zne.exports={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}}});var eie=h(function(Z_t,zb){function Tb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tb=function(r){return typeof r}:Tb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tb(t)}function Hne(t){return Llt(t)||Blt(t)||$T(t)||Nlt()}function Nlt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Blt(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Llt(t){if(Array.isArray(t))return HT(t)}function Vne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vne(Object(r),!0).forEach(function(n){Xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vne(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wne(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function Gne(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){Wne(a,n,i,o,u,"next",s)}function u(s){Wne(a,n,i,o,u,"throw",s)}o(void 0)})}}function zlt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=$T(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function $lt(t,e){return Wlt(t)||Vlt(t,e)||$T(t,e)||Hlt()}function Hlt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $T(t,e){if(!!t){if(typeof t=="string")return HT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HT(t,e)}}function HT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vlt(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function Wlt(t){if(Array.isArray(t))return t}function Xa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Glt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Klt(t,e,r){return e&&Kne(t.prototype,e),r&&Kne(t,r),t}function Ylt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VT(t,e)}function VT(t,e){return VT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},VT(t,e)}function Xlt(t){var e=Qlt();return function(){var n=Ab(t),i;if(e){var a=Ab(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Jlt(this,i)}}function Jlt(t,e){if(e&&(Tb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ie(t)}function Ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qlt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(t)}var Yne,Ib,kb,xb,gl,Fb,Cb,ml,bl,Db,Ub,_l,jb,Mb,Nb,Bb,wl,Sl,Ja,Ol,Pl,Lb,Xne;function Ue(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Zlt=0;function ct(t){return"__private_"+Zlt+++"_"+t}var ect=hf(),tct=_n(),Jne=HE(),Qne=Ine(),rct=Cne(),WT=Nne(),nct=Lne(),ict=$ne();function act(t,e){return{params:e.params,signature:e.signature,fields:e.fields}}var Zne=function(e){return function(r){var n=new Error("Failed to send error to the client");n.cause=r,console.error(n,e)}},oct="https://api2.transloadit.com/companion",uct=/\.transloadit\.com$/,sct=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/;zb.exports=(Xne=(Ib=ct("getClientVersion"),kb=ct("attachAssemblyMetadata"),xb=ct("createAssembly"),gl=ct("createAssemblyWatcher"),Fb=ct("shouldWaitAfterUpload"),Cb=ct("reserveFiles"),ml=ct("onFileUploadURLAvailable"),bl=ct("findFile"),Db=ct("onFileUploadComplete"),Ub=ct("onResult"),_l=ct("onAssemblyFinished"),jb=ct("cancelAssembly"),Mb=ct("onCancelAll"),Nb=ct("getPersistentData"),Bb=ct("onRestored"),wl=ct("connectAssembly"),Sl=ct("prepareUpload"),Ja=ct("afterUpload"),Ol=ct("closeAssemblyIfExists"),Pl=ct("onError"),Lb=ct("onTusError"),Yne=function(t){Ylt(r,t);var e=Xlt(r);function r(n,i){var a;Glt(this,r);var o;a=e.call(this,n,i),o=Ie(a),Object.defineProperty(Ie(a),wl,{value:_ct}),Object.defineProperty(Ie(a),jb,{value:bct}),Object.defineProperty(Ie(a),_l,{value:mct}),Object.defineProperty(Ie(a),Ub,{value:gct}),Object.defineProperty(Ie(a),Db,{value:yct}),Object.defineProperty(Ie(a),bl,{value:vct}),Object.defineProperty(Ie(a),Cb,{value:hct}),Object.defineProperty(Ie(a),Fb,{value:dct}),Object.defineProperty(Ie(a),gl,{value:pct}),Object.defineProperty(Ie(a),xb,{value:fct}),Object.defineProperty(Ie(a),kb,{value:cct}),Object.defineProperty(Ie(a),Ib,{value:lct}),Object.defineProperty(Ie(a),ml,{writable:!0,value:function(c){var f=a.uppy.getFile(c.id);if(!(!f||!f.transloadit||!f.transloadit.assembly)){var p=a.getPluginState(),d=p.assemblies,v=d[f.transloadit.assembly];a.client.addFile(v,f).catch(function(g){a.uppy.log(g),a.uppy.emit("transloadit:import-error",v,f.id,g)})}}}),Object.defineProperty(Ie(a),Mb,{writable:!0,value:function(){var c=a.getPluginState(),f=c.uploadsAssemblies,p=Object.values(f).flat(1),d=p.map(function(v){var g=a.getAssembly(v);return Ue(Ie(a),jb)[jb](g)});Promise.all(d).catch(function(v){a.uppy.log(v)})}}),Object.defineProperty(Ie(a),Nb,{writable:!0,value:function(c){var f=a.getPluginState(),p=f.assemblies,d=f.uploadsAssemblies;c(Xa({},a.id,{assemblies:p,uploadsAssemblies:d}))}}),Object.defineProperty(Ie(a),Bb,{writable:!0,value:function(c){var f=c&&c[a.id]?c[a.id]:{},p=f.assemblies||{},d=f.uploadsAssemblies||{};if(Object.keys(d).length!==0){var v=function(O){for(var E={},F=[],j=function(){var T=$lt(Y[C],2),N=T[0],re=T[1];re.uploads.forEach(function(A){var k=Ue(Ie(a),bl)[bl](A);E[A.id]={id:k.id,assembly:N,uploadedFile:A}});var J=a.getPluginState();Object.keys(re.results).forEach(function(A){var k=zlt(re.results[A]),$;try{for(k.s();!($=k.n()).done;){var D=$.value,U=J.files[D.original_id];D.localId=U?U.id:null,F.push({id:D.id,result:D,stepName:A,assembly:N})}}catch(L){k.e(L)}finally{k.f()}})},C=0,Y=Object.entries(O);C<Y.length;C++)j();a.setPluginState({assemblies:O,files:E,results:F,uploadsAssemblies:d})},g=function(){var O=a.getPluginState(),E=O.assemblies,F=O.uploadsAssemblies;Object.keys(F).forEach(function(C){var Y=F[C],ie=Y.flatMap(function(T){return a.getAssemblyFiles(T).map(function(N){return N.id})});Ue(Ie(a),gl)[gl](Y,ie,C)});var j=Object.keys(E);j.forEach(function(C){var Y=new Qne(E[C]);Ue(Ie(a),wl)[wl](Y)})},m=function(){var O=a.getPluginState(),E=O.assemblies;return Promise.all(Object.keys(E).map(function(F){return a.activeAssemblies[F].update()}))};a.restored=Promise.resolve().then(function(){return v(p),g(),m()}),a.restored.then(function(){a.restored=null})}}}),Object.defineProperty(Ie(a),Sl,{writable:!0,value:function(c,f){var p=c.filter(function(O){return!O.error}),d=p.map(function(O){var E=a.uppy.getFile(O);return a.uppy.emit("preprocess-progress",E,{mode:"indeterminate",message:a.i18n("creatingAssembly")}),E}),v=function(){var O=Gne(regeneratorRuntime.mark(function E(F){var j,C,Y;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return j=F.fileIDs,C=F.options,T.prev=1,T.next=4,Ue(Ie(a),xb)[xb](j,f,C);case 4:if(Y=T.sent,!a.opts.importFromUploadURLs){T.next=8;break}return T.next=8,Ue(Ie(a),Cb)[Cb](Y,j);case 8:return j.forEach(function(N){var re=a.uppy.getFile(N);a.uppy.emit("preprocess-complete",re)}),T.abrupt("return",Y);case 12:throw T.prev=12,T.t0=T.catch(1),j.forEach(function(N){var re=a.uppy.getFile(N);a.uppy.emit("preprocess-complete",re),a.uppy.emit("upload-error",re,T.t0)}),T.t0;case 16:case"end":return T.stop()}},E,null,[[1,12]])}));return function(F){return O.apply(this,arguments)}}(),g=a.getPluginState(),m=g.uploadsAssemblies;a.setPluginState({uploadsAssemblies:ze(ze({},m),{},Xa({},f,[]))});var _=new WT(d,a.opts);return _.build().then(function(O){return Promise.all(O.map(v))}).then(function(O){var E=O.map(function(F){return F.status.assembly_id});return Ue(Ie(a),gl)[gl](E,p,f),Promise.all(O.map(function(F){return Ue(Ie(a),wl)[wl](F)}))}).catch(function(O){throw d.forEach(function(E){a.uppy.emit("preprocess-complete",E),a.uppy.emit("upload-error",E,O)}),O})}}),Object.defineProperty(Ie(a),Ja,{writable:!0,value:function(c,f){var p=c.map(function(F){return a.uppy.getFile(F)}),d=p.filter(function(F){return!F.error}).map(function(F){return F.id}),v=a.getPluginState();if(a.restored)return a.restored.then(function(){return Ue(Ie(a),Ja)[Ja](d,f)});var g=v.uploadsAssemblies[f],m=function(){g.forEach(function(j){var C=a.activeAssemblies[j];C.close(),delete a.activeAssemblies[j]})};if(!Ue(Ie(a),Fb)[Fb]()){m();var _=g.map(function(F){return a.getAssembly(F)});return a.uppy.addResultData(f,{transloadit:_}),Promise.resolve()}if(g.length===0)return a.uppy.addResultData(f,{transloadit:[]}),Promise.resolve();var O=p.filter(function(F){return!ect(a.completedFiles,F.id)});O.forEach(function(F){a.uppy.emit("postprocess-progress",F,{mode:"indeterminate",message:a.i18n("encoding")})});var E=a.assemblyWatchers[f];return E.promise.then(function(){m();var F=g.map(function(C){return a.getAssembly(C)}),j=ze({},a.getPluginState().uploadsAssemblies);delete j[f],a.setPluginState({uploadsAssemblies:j}),a.uppy.addResultData(f,{transloadit:F})})}}),Object.defineProperty(Ie(a),Ol,{writable:!0,value:function(c){var f;(f=a.activeAssemblies[c])==null||f.close()}}),Object.defineProperty(Ie(a),Pl,{writable:!0,value:function(c,f){c===void 0&&(c=null);var p=o.getPluginState(),d=p.uploadsAssemblies[f];d==null||d.forEach(Ue(o,Ol)[Ol]),o.client.submitError(c).catch(Zne(c))}}),Object.defineProperty(Ie(a),Lb,{writable:!0,value:function(c,f){var p,d;if(Ue(Ie(a),Ol)[Ol]((p=c.transloadit)==null?void 0:p.assembly),f!=null&&(d=f.message)!=null&&d.startsWith("tus: ")){var v,g,m=(v=f.originalRequest)==null||(g=v.getUnderlyingObject())==null?void 0:g.responseURL;a.client.submitError(f,{endpoint:m,type:"TUS_ERROR"}).catch(Zne(f))}}}),a.type="uploader",a.id=a.opts.id||"Transloadit",a.title="Transloadit",a.defaultLocale=ict;var u={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:act,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};a.opts=ze(ze({},u),i),a.i18nInit();var s=a.opts.getAssemblyOptions!==u.getAssemblyOptions;return a.opts.params?WT.validateParams(a.opts.params):s||WT.validateParams(null),a.client=new rct({service:a.opts.service,client:Ue(Ie(a),Ib)[Ib](),errorReporting:a.opts.errorReporting}),a.activeAssemblies={},a.assemblyWatchers={},a.completedFiles=Object.create(null),a}return Klt(r,[{key:"install",value:function(){this.uppy.addPreProcessor(Ue(this,Sl)[Sl]),this.uppy.addPostProcessor(Ue(this,Ja)[Ja]),this.uppy.on("error",Ue(this,Pl)[Pl]),this.uppy.on("cancel-all",Ue(this,Mb)[Mb]),this.uppy.on("upload-error",Ue(this,Lb)[Lb]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",Ue(this,ml)[ml]):this.uppy.use(Jne,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,metaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",Ue(this,Nb)[Nb]),this.uppy.on("restored",Ue(this,Bb)[Bb]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:ze(ze({},a),{},{individualCancellation:!1})})}},{key:"uninstall",value:function(){this.uppy.removePreProcessor(Ue(this,Sl)[Sl]),this.uppy.removePostProcessor(Ue(this,Ja)[Ja]),this.uppy.off("error",Ue(this,Pl)[Pl]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",Ue(this,ml)[ml]);var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:ze(ze({},a),{},{individualCancellation:!0})})}},{key:"getAssembly",value:function(i){var a=this.getPluginState(),o=a.assemblies;return o[i]}},{key:"getAssemblyFiles",value:function(i){return this.uppy.getFiles().filter(function(a){return a&&a.transloadit&&a.transloadit.assembly===i})}}]),r}(tct)),Yne.VERSION="2.1.1",Xne);function lct(){var t=this,e=["uppy-core:".concat(this.uppy.constructor.VERSION),"uppy-transloadit:".concat(this.constructor.VERSION),"uppy-tus:".concat(Jne.VERSION)],r=function(i,a){var o=t.uppy.getPlugin(i);o&&e.push("".concat(a,":").concat(o.constructor.VERSION))};return this.opts.importFromUploadURLs&&(r("XHRUpload","uppy-xhr-upload"),r("AwsS3","uppy-aws-s3"),r("AwsS3Multipart","uppy-aws-s3-multipart")),r("Dropbox","uppy-dropbox"),r("Box","uppy-box"),r("Facebook","uppy-facebook"),r("GoogleDrive","uppy-google-drive"),r("Instagram","uppy-instagram"),r("OneDrive","uppy-onedrive"),r("Zoom","uppy-zoom"),r("Url","uppy-url"),e.join(",")}function cct(t,e){var r=ze(ze({},t.meta),{},{assembly_url:e.assembly_url,filename:t.name,fieldname:"file"}),n=ze(ze({},t.tus),{},{endpoint:e.tus_url,addRequestId:!0}),i=t.remote;if(t.remote&&sct.test(t.remote.companionUrl)){var a=e.companion_url.replace(/\/$/,""),o=t.remote.url.replace(t.remote.companionUrl,"").replace(/^\//,"");i=ze(ze({},t.remote),{},{companionUrl:a,url:"".concat(a,"/").concat(o)})}var u=ze(ze({},t),{},{transloadit:{assembly:e.assembly_id}});return this.opts.importFromUploadURLs||Object.assign(u,{meta:r,tus:n,remote:i}),u}function fct(t,e,r){var n=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:r.params,fields:r.fields,expectedFiles:t.length,signature:r.signature}).then(function(i){var a=new Qne(i),o=a.status,u=o.assembly_id,s=n.getPluginState(),l=s.assemblies,c=s.uploadsAssemblies;n.setPluginState({assemblies:ze(ze({},l),{},Xa({},u,o)),uploadsAssemblies:ze(ze({},c),{},Xa({},e,[].concat(Hne(c[e]),[u])))});var f=n.uppy.getState(),p=f.files,d={};return t.forEach(function(v){d[v]=Ue(n,kb)[kb](n.uppy.getFile(v),o)}),n.uppy.setState({files:ze(ze({},p),d)}),n.uppy.emit("transloadit:assembly-created",o,t),n.uppy.log("[Transloadit] Created Assembly ".concat(u)),a}).catch(function(i){var a=new Error("".concat(n.i18n("creatingAssemblyFailed"),": ").concat(i.message));throw a.cause=i,a})}function pct(t,e,r){var n=this,i=new nct(this.uppy,t);i.on("assembly-complete",function(a){var o=n.getAssemblyFiles(a);o.forEach(function(u){n.completedFiles[u.id]=!0,n.uppy.emit("postprocess-complete",u)})}),i.on("assembly-error",function(a,o){var u=n.getAssemblyFiles(a);u.forEach(function(s){n.uppy.emit("upload-error",s,o),n.uppy.emit("postprocess-complete",s)})}),this.assemblyWatchers[r]=i}function dct(){return this.opts.waitForEncoding||this.opts.waitForMetadata}function hct(t,e){var r=this;return Promise.all(e.map(function(n){var i=r.uppy.getFile(n);return r.client.reserveFile(t.status,i)}))}function vct(t){for(var e=this.uppy.getFiles(),r=0;r<e.length;r++){var n=e[r];if(n.uploadURL===t.tus_upload_url||n.tus&&n.tus.uploadUrl===t.tus_upload_url||!t.is_tus_file&&n.name===t.name&&n.size===t.size)return n}}function yct(t,e){var r=this.getPluginState(),n=Ue(this,bl)[bl](e);if(!n){this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process");return}this.setPluginState({files:ze(ze({},r.files),{},Xa({},e.id,{assembly:t,id:n.id,uploadedFile:e}))}),this.uppy.emit("transloadit:upload",e,this.getAssembly(t))}function gct(t,e,r){var n=this.getPluginState(),i=n.files[r.original_id];r.localId=i?i.id:null;var a={result:r,stepName:e,id:r.id,assembly:t};this.setPluginState({results:[].concat(Hne(n.results),[a])}),this.uppy.emit("transloadit:result",e,r,this.getAssembly(t))}function mct(t){var e=this,r=t.assembly_ssl_url;this.client.getAssemblyStatus(r).then(function(n){var i=n.assembly_id,a=e.getPluginState();e.setPluginState({assemblies:ze(ze({},a.assemblies),{},Xa({},i,n))}),e.uppy.emit("transloadit:complete",n)})}function bct(t){return GT.apply(this,arguments)}function GT(){return GT=Gne(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.client.cancelAssembly(e);case 2:this.uppy.emit("transloadit:assembly-cancelled",e);case 3:case"end":return n.stop()}},t,this)})),GT.apply(this,arguments)}function _ct(t){var e=this,r=t.status,n=r.assembly_id;return this.activeAssemblies[n]=t,t.on("status",function(i){var a=e.getPluginState(),o=a.assemblies;e.setPluginState({assemblies:ze(ze({},o),{},Xa({},n,i))})}),t.on("upload",function(i){Ue(e,Db)[Db](n,i)}),t.on("error",function(i){i.assembly=t.status,e.uppy.emit("transloadit:assembly-error",t.status,i)}),t.on("executing",function(){e.uppy.emit("transloadit:assembly-executing",t.status)}),this.opts.waitForEncoding&&t.on("result",function(i,a){Ue(e,Ub)[Ub](n,i,a)}),this.opts.waitForEncoding?t.on("finished",function(){Ue(e,_l)[_l](t.status)}):this.opts.waitForMetadata&&t.on("metadata",function(){Ue(e,_l)[_l](t.status)}),t.ok==="ASSEMBLY_COMPLETE"||t.connect(),t}zb.exports.COMPANION=oct;zb.exports.COMPANION_PATTERN=uct});var rie=h(function(ewt,tie){tie.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}});var yie=h(function(twt,vie){function $b(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$b=function(r){return typeof r}:$b=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$b(t)}function nie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nie(Object(r),!0).forEach(function(n){wct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nie(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wct(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Oct(t,e,r){return e&&iie(t.prototype,e),r&&iie(t,r),t}function Pct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KT(t,e)}function KT(t,e){return KT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},KT(t,e)}function qct(t){var e=Ect();return function(){var n=Hb(t),i;if(e){var a=Hb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Rct(this,i)}}function Rct(t,e){if(e&&($b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aie(t)}function aie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ect(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Hb(t){return Hb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(t)}var oie,uie,Tct=_n(),Act=Co(),Ict=Act.nanoid,YT=tr(),kct=YT.Provider,xct=YT.RequestClient,Fct=YT.Socket,Cct=up(),Dct=sp(),Uct=LE(),sie=cp(),lie=JR(),cie=$s(),jct=cie.RateLimitedQueue,XT=cie.internalRateLimitedQueue,fie=No(),pie=Sm(),Mct=rie();function die(t,e){var r=e;return r||(r=new Error("Upload error")),typeof r=="string"&&(r=new Error(r)),r instanceof Error||(r=Object.assign(new Error("Upload error"),{data:r})),pie(t)?(r=new fie(r,t),r):(r.request=t,r)}function hie(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}vie.exports=(uie=oie=function(t){Pct(r,t);var e=qct(r);function r(n,i){var a;Sct(this,r),a=e.call(this,n,i),a.type="uploader",a.id=a.opts.id||"XHRUpload",a.title="XHRUpload",a.defaultLocale=Mct;var o={formData:!0,fieldName:i.bundle?"files[]":"file",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData:function(s){var l={};try{l=JSON.parse(s)}catch(c){n.log(c)}return l},getResponseError:function(s,l){var c=new Error("Upload error");return pie(l)&&(c=new fie(c,l)),c},validateStatus:function(s){return s>=200&&s<300}};if(a.opts=gr(gr({},o),i),a.i18nInit(),a.handleUpload=a.handleUpload.bind(aie(a)),XT in a.opts?a.requests=a.opts[XT]:a.requests=new jct(a.opts.limit),a.opts.bundle&&!a.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return a.uploaderEvents=Object.create(null),a}return Oct(r,[{key:"getOptions",value:function(i){var a=this.uppy.getState().xhrUpload,o=this.opts.headers,u=gr(gr(gr(gr({},this.opts),a||{}),i.xhrUpload||{}),{},{headers:{}});return typeof o=="function"?u.headers=o(i):Object.assign(u.headers,this.opts.headers),a&&Object.assign(u.headers,a.headers),i.xhrUpload&&Object.assign(u.headers,i.xhrUpload.headers),u}},{key:"addMetadata",value:function(i,a,o){var u=Array.isArray(o.metaFields)?o.metaFields:Object.keys(a);u.forEach(function(s){i.append(s,a[s])})}},{key:"createFormDataUpload",value:function(i,a){var o=new FormData;this.addMetadata(o,i.meta,a);var u=hie(i);return i.name?o.append(a.fieldName,u,i.meta.name):o.append(a.fieldName,u),o}},{key:"createBundledUpload",value:function(i,a){var o=this,u=new FormData,s=this.uppy.getState(),l=s.meta;return this.addMetadata(u,l,a),i.forEach(function(c){var f=o.getOptions(c),p=hie(c);c.name?u.append(f.fieldName,p,c.name):u.append(f.fieldName,p)}),u}},{key:"upload",value:function(i,a,o){var u=this,s=this.getOptions(i);return this.uppy.log("uploading ".concat(a," of ").concat(o)),new Promise(function(l,c){u.uppy.emit("upload-started",i);var f=s.formData?u.createFormDataUpload(i,s):i.data,p=new XMLHttpRequest;u.uploaderEvents[i.id]=new sie(u.uppy);var d=new lie(s.timeout,function(){p.abort(),g.done();var m=new Error(u.i18n("timedOut",{seconds:Math.ceil(s.timeout/1e3)}));u.uppy.emit("upload-error",i,m),c(m)}),v=Ict();p.upload.addEventListener("loadstart",function(){u.uppy.log("[XHRUpload] ".concat(v," started"))}),p.upload.addEventListener("progress",function(m){u.uppy.log("[XHRUpload] ".concat(v," progress: ").concat(m.loaded," / ").concat(m.total)),d.progress(),m.lengthComputable&&u.uppy.emit("upload-progress",i,{uploader:u,bytesUploaded:m.loaded,bytesTotal:m.total})}),p.addEventListener("load",function(m){if(u.uppy.log("[XHRUpload] ".concat(v," finished")),d.done(),g.done(),u.uploaderEvents[i.id]&&(u.uploaderEvents[i.id].remove(),u.uploaderEvents[i.id]=null),s.validateStatus(m.target.status,p.responseText,p)){var _=s.getResponseData(p.responseText,p),O=_[s.responseUrlFieldName],E={status:m.target.status,body:_,uploadURL:O};return u.uppy.emit("upload-success",i,E),O&&u.uppy.log("Download ".concat(i.name," from ").concat(O)),l(i)}var F=s.getResponseData(p.responseText,p),j=die(p,s.getResponseError(p.responseText,p)),C={status:m.target.status,body:F};return u.uppy.emit("upload-error",i,j,C),c(j)}),p.addEventListener("error",function(){u.uppy.log("[XHRUpload] ".concat(v," errored")),d.done(),g.done(),u.uploaderEvents[i.id]&&(u.uploaderEvents[i.id].remove(),u.uploaderEvents[i.id]=null);var m=die(p,s.getResponseError(p.responseText,p));return u.uppy.emit("upload-error",i,m),c(m)}),p.open(s.method.toUpperCase(),s.endpoint,!0),p.withCredentials=s.withCredentials,s.responseType!==""&&(p.responseType=s.responseType);var g=u.requests.run(function(){u.uppy.emit("upload-started",i);var m=u.getOptions(i);return Object.keys(m.headers).forEach(function(_){p.setRequestHeader(_,m.headers[_])}),p.send(f),function(){d.done(),p.abort()}});u.onFileRemove(i.id,function(){g.abort(),c(new Error("File removed"))}),u.onCancelAll(i.id,function(){g.abort(),c(new Error("Upload cancelled"))})})}},{key:"uploadRemote",value:function(i){var a=this,o=this.getOptions(i);return new Promise(function(u,s){a.uppy.emit("upload-started",i);var l={},c=Array.isArray(o.metaFields)?o.metaFields:Object.keys(i.meta);c.forEach(function(d){l[d]=i.meta[d]});var f=i.remote.providerOptions.provider?kct:xct,p=new f(a.uppy,i.remote.providerOptions);p.post(i.remote.url,gr(gr({},i.remote.body),{},{endpoint:o.endpoint,size:i.data.size,fieldname:o.fieldName,metadata:l,httpMethod:o.method,useFormData:o.formData,headers:o.headers})).then(function(d){var v=d.token,g=Dct(i.remote.companionUrl),m=new Fct({target:"".concat(g,"/api/").concat(v),autoOpen:!1});a.uploaderEvents[i.id]=new sie(a.uppy),a.onFileRemove(i.id,function(){m.send("cancel",{}),_.abort(),u("upload ".concat(i.id," was removed"))}),a.onCancelAll(i.id,function(){m.send("cancel",{}),_.abort(),u("upload ".concat(i.id," was canceled"))}),a.onRetry(i.id,function(){m.send("pause",{}),m.send("resume",{})}),a.onRetryAll(i.id,function(){m.send("pause",{}),m.send("resume",{})}),m.on("progress",function(O){return Cct(a,O,i)}),m.on("success",function(O){var E=o.getResponseData(O.response.responseText,O.response),F=E[o.responseUrlFieldName],j={status:O.response.status,body:E,uploadURL:F};return a.uppy.emit("upload-success",i,j),_.done(),a.uploaderEvents[i.id]&&(a.uploaderEvents[i.id].remove(),a.uploaderEvents[i.id]=null),u()}),m.on("error",function(O){var E=O.response,F=E?o.getResponseError(E.responseText,E):Object.assign(new Error(O.error.message),{cause:O.error});a.uppy.emit("upload-error",i,F),_.done(),a.uploaderEvents[i.id]&&(a.uploaderEvents[i.id].remove(),a.uploaderEvents[i.id]=null),s(F)});var _=a.requests.run(function(){return m.open(),i.isPaused&&m.send("pause",{}),function(){return m.close()}})}).catch(function(d){a.uppy.emit("upload-error",i,d),s(d)})})}},{key:"uploadBundle",value:function(i){var a=this;return new Promise(function(o,u){var s=a.opts.endpoint,l=a.opts.method,c=a.uppy.getState().xhrUpload,f=a.createBundledUpload(i,gr(gr({},a.opts),c||{})),p=new XMLHttpRequest,d=new lie(a.opts.timeout,function(){p.abort();var g=new Error(a.i18n("timedOut",{seconds:Math.ceil(a.opts.timeout/1e3)}));v(g),u(g)}),v=function(m){i.forEach(function(_){a.uppy.emit("upload-error",_,m)})};p.upload.addEventListener("loadstart",function(){a.uppy.log("[XHRUpload] started uploading bundle"),d.progress()}),p.upload.addEventListener("progress",function(g){d.progress(),!!g.lengthComputable&&i.forEach(function(m){a.uppy.emit("upload-progress",m,{uploader:a,bytesUploaded:g.loaded/g.total*m.size,bytesTotal:m.size})})}),p.addEventListener("load",function(g){if(d.done(),a.opts.validateStatus(g.target.status,p.responseText,p)){var m=a.opts.getResponseData(p.responseText,p),_={status:g.target.status,body:m};return i.forEach(function(E){a.uppy.emit("upload-success",E,_)}),o()}var O=a.opts.getResponseError(p.responseText,p)||new Error("Upload error");return O.request=p,v(O),u(O)}),p.addEventListener("error",function(){d.done();var g=a.opts.getResponseError(p.responseText,p)||new Error("Upload error");return v(g),u(g)}),a.uppy.on("cancel-all",function(){d.done(),p.abort()}),p.open(l.toUpperCase(),s,!0),p.withCredentials=a.opts.withCredentials,a.opts.responseType!==""&&(p.responseType=a.opts.responseType),Object.keys(a.opts.headers).forEach(function(g){p.setRequestHeader(g,a.opts.headers[g])}),p.send(f),i.forEach(function(g){a.uppy.emit("upload-started",g)})})}},{key:"uploadFiles",value:function(i){var a=this,o=i.map(function(u,s){var l=parseInt(s,10)+1,c=i.length;return u.error?Promise.reject(new Error(u.error)):u.isRemote?a.uploadRemote(u,l,c):a.upload(u,l,c)});return Uct(o)}},{key:"onFileRemove",value:function(i,a){this.uploaderEvents[i].on("file-removed",function(o){i===o.id&&a(o.id)})}},{key:"onRetry",value:function(i,a){this.uploaderEvents[i].on("upload-retry",function(o){i===o&&a()})}},{key:"onRetryAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("retry-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onCancelAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("cancel-all",function(){!o.uppy.getFile(i)||a()})}},{key:"handleUpload",value:function(i){var a=this;if(i.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[XT]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var o=i.map(function(s){return a.uppy.getFile(s)});if(this.opts.bundle){var u=o.some(function(s){return s.isRemote});if(u)throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(o)}return this.uploadFiles(o).then(function(){return null})}},{key:"install",value:function(){if(this.opts.bundle){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:gr(gr({},a),{},{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)}},{key:"uninstall",value:function(){if(this.opts.bundle){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:gr(gr({},a),{},{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)}}]),r}(Tct),oie.VERSION="2.0.7",uie)});var QT=h(function(Vb){"use strict";Vb.__esModule=!0;Vb.default=mie;Vb.getFieldData=JT;var Nct={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},Bct={button:!0,fieldset:!0,reset:!0,submit:!0},Lct={checkbox:!0,radio:!0},zct=/^\s+|\s+$/g,$ct=Array.prototype.slice,gie=Object.prototype.toString;function mie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{trim:!1};if(!t)throw new Error("A form is required by getFormData, was given form="+t);for(var r={},n=void 0,i=[],a={},o=0,u=t.elements.length;o<u;o++){var s=t.elements[o];Bct[s.type]||s.disabled||(n=s.name||s.id,n&&!a[n]&&(i.push(n),a[n]=!0))}for(var l=0,c=i.length;l<c;l++){n=i[l];var f=JT(t,n,e);f!=null&&(r[n]=f)}return r}function JT(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{trim:!1};if(!t)throw new Error("A form is required by getFieldData, was given form="+t);if(!e&&gie.call(e)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+e);var n=t.elements[e];if(!n||n.disabled)return null;if(!Nct[gie.call(n)])return bie(n,r.trim);for(var i=[],a=!0,o=0,u=n.length;o<u;o++)if(!n[o].disabled){a&&n[o].type!=="radio"&&(a=!1);var s=bie(n[o],r.trim);s!=null&&(i=i.concat(s))}return a&&i.length===1?i[0]:i.length>0?i:null}function bie(t,e){var r=null,n=t.type;if(n==="select-one")return t.options.length&&(r=t.options[t.selectedIndex].value),r;if(n==="select-multiple"){r=[];for(var i=0,a=t.options.length;i<a;i++)t.options[i].selected&&r.push(t.options[i].value);return r.length===0&&(r=null),r}return n==="file"&&"files"in t?(t.multiple?(r=$ct.call(t.files),r.length===0&&(r=null)):r=t.files[0],r):(Lct[n]?t.checked&&(r=t.value):r=e?t.value.replace(zct,""):t.value,r)}mie.getFieldData=JT});var Rie=h(function(nwt,qie){function Wb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wb=function(r){return typeof r}:Wb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wb(t)}function _ie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_ie(Object(r),!0).forEach(function(n){Hct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_ie(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hct(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wct(t,e,r){return e&&Sie(t.prototype,e),r&&Sie(t,r),t}function Gct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZT(t,e)}function ZT(t,e){return ZT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ZT(t,e)}function Kct(t){var e=Xct();return function(){var n=Gb(t),i;if(e){var a=Gb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Yct(this,i)}}function Yct(t,e){if(e&&(Wb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ql(t)}function ql(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(t)}var Oie,Pie,Jct=_n(),Qct=mP(),Zct=En(),eft=QT().default||QT();qie.exports=(Pie=Oie=function(t){Gct(r,t);var e=Kct(r);function r(n,i){var a;Vct(this,r),a=e.call(this,n,i),a.type="acquirer",a.id=a.opts.id||"Form",a.title="Form";var o={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};return a.opts=wie(wie({},o),i),a.handleFormSubmit=a.handleFormSubmit.bind(ql(a)),a.handleUploadStart=a.handleUploadStart.bind(ql(a)),a.handleSuccess=a.handleSuccess.bind(ql(a)),a.addResultToForm=a.addResultToForm.bind(ql(a)),a.getMetaFromForm=a.getMetaFromForm.bind(ql(a)),a}return Wct(r,[{key:"handleUploadStart",value:function(){this.opts.getMetaFromForm&&this.getMetaFromForm()}},{key:"handleSuccess",value:function(i){this.opts.addResultToForm&&this.addResultToForm(i),this.opts.submitOnSuccess&&this.form.submit()}},{key:"handleFormSubmit",value:function(i){var a=this;if(this.opts.triggerUploadOnSubmit){i.preventDefault();var o=Zct(i.target.elements),u=[];o.forEach(function(s){var l=s.tagName==="BUTTON"||s.tagName==="INPUT"&&s.type==="submit";l&&!s.disabled&&(s.disabled=!0,u.push(s))}),this.uppy.upload().then(function(){u.forEach(function(s){s.disabled=!1})},function(s){return u.forEach(function(l){l.disabled=!1}),Promise.reject(s)}).catch(function(s){a.uppy.log(s.stack||s.message||s)})}}},{key:"addResultToForm",value:function(i){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(i);var a=this.form.querySelector('[name="'.concat(this.opts.resultName,'"]'));if(a){var o;try{o=JSON.parse(a.value)}catch(u){}Array.isArray(o)||(o=[]),o.push(i),a.value=JSON.stringify(o);return}a=document.createElement("input"),a.name=this.opts.resultName,a.type="hidden",a.value=JSON.stringify([i]),this.form.appendChild(a)}},{key:"getMetaFromForm",value:function(){var i=eft(this.form);delete i[this.opts.resultName],this.uppy.setMeta(i)}},{key:"install",value:function(){if(this.form=Qct(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)}},{key:"uninstall",value:function(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)}}]),r}(Jct),Oie.VERSION="2.0.4",Pie)});var kie=h(function(iwt,Iie){function tft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rft(t,e,r){return e&&Eie(t.prototype,e),r&&Eie(t,r),t}var Tie=typeof navigator!="undefined"&&"serviceWorker"in navigator;function nft(){return new Promise(function(t,e){Tie?navigator.serviceWorker.controller?t():navigator.serviceWorker.addEventListener("controllerchange",function(){t()}):e(new Error("Unsupported"))})}var Aie=function(){function t(e){tft(this,t),this.ready=nft(),this.name=e.storeName}return rft(t,[{key:"list",value:function(){var r=this,n={},i=new Promise(function(o,u){n.resolve=o,n.reject=u});console.log("Loading stored blobs from Service Worker");var a=function o(u){if(u.data.store===r.name)switch(u.data.type){case"uppy/ALL_FILES":n.resolve(u.data.files),navigator.serviceWorker.removeEventListener("message",o);break;default:n.reject()}};return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",a),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:r.name})}),i}},{key:"put",value:function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:n.name,file:r})})}},{key:"delete",value:function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:n.name,fileID:r})})}}]),t}();Aie.isSupported=Tie;Iie.exports=Aie});var Lie=h(function(awt,Bie){function xie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ift(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xie(Object(r),!0).forEach(function(n){aft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xie(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aft(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uft(t,e,r){return e&&Fie(t.prototype,e),r&&Fie(t,r),t}var Cie=typeof window!="undefined"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),sft=!!Cie,Die="uppy-blobs",mr="files",Uie=24*60*60*1e3,lft=3;function cft(t){var e=t.openCursor();e.onsuccess=function(r){var n=r.target.result;if(!!n){var i=n.value;i.expires=Date.now()+Uie,n.update(i)}}}function jie(t){var e=Cie.open(t,lft);return new Promise(function(r,n){e.onupgradeneeded=function(i){var a=i.target.result,o=i.currentTarget.transaction;if(i.oldVersion<2){var u=a.createObjectStore(mr,{keyPath:"id"});u.createIndex("store","store",{unique:!1})}if(i.oldVersion<3){var s=o.objectStore(mr);s.createIndex("expires","expires",{unique:!1}),cft(s)}o.oncomplete=function(){r(a)}},e.onsuccess=function(i){r(i.target.result)},e.onerror=n})}function Kb(t){return new Promise(function(e,r){t.onsuccess=function(n){e(n.target.result)},t.onerror=r})}var Mie=!1,Nie=function(){function t(e){var r=this;oft(this,t),this.opts=ift({dbName:Die,storeName:"default",expires:Uie,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024},e),this.name=this.opts.storeName;var n=function(){return jie(r.opts.dbName)};Mie?this.ready=n():(Mie=!0,this.ready=t.cleanup().then(n,n))}return uft(t,[{key:"key",value:function(r){return"".concat(this.name,"!").concat(r)}},{key:"list",value:function(){var r=this;return this.ready.then(function(n){var i=n.transaction([mr],"readonly"),a=i.objectStore(mr),o=a.index("store").getAll(IDBKeyRange.only(r.name));return Kb(o)}).then(function(n){var i={};return n.forEach(function(a){i[a.fileID]=a.data}),i})}},{key:"get",value:function(r){var n=this;return this.ready.then(function(i){var a=i.transaction([mr],"readonly"),o=a.objectStore(mr).get(n.key(r));return Kb(o)}).then(function(i){return{id:i.data.fileID,data:i.data.data}})}},{key:"getSize",value:function(){var r=this;return this.ready.then(function(n){var i=n.transaction([mr],"readonly"),a=i.objectStore(mr),o=a.index("store").openCursor(IDBKeyRange.only(r.name));return new Promise(function(u,s){var l=0;o.onsuccess=function(c){var f=c.target.result;f?(l+=f.value.data.size,f.continue()):u(l)},o.onerror=function(){s(new Error("Could not retrieve stored blobs size"))}})})}},{key:"put",value:function(r){var n=this;return r.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(function(i){return i>n.opts.maxTotalSize?Promise.reject(new Error("No space left")):n.ready}).then(function(i){var a=i.transaction([mr],"readwrite"),o=a.objectStore(mr).add({id:n.key(r.id),fileID:r.id,store:n.name,expires:Date.now()+n.opts.expires,data:r.data});return Kb(o)})}},{key:"delete",value:function(r){var n=this;return this.ready.then(function(i){var a=i.transaction([mr],"readwrite"),o=a.objectStore(mr).delete(n.key(r));return Kb(o)})}}],[{key:"cleanup",value:function(){return jie(Die).then(function(r){var n=r.transaction([mr],"readwrite"),i=n.objectStore(mr),a=i.index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(function(o,u){a.onsuccess=function(s){var l=s.target.result;l?(l.delete(),l.continue()):o(r)},a.onerror=u})}).then(function(r){r.close()})}}]),t}();Nie.isSupported=sft;Bie.exports=Nie});var Gie=h(function(owt,Wie){function zie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zie(Object(r),!0).forEach(function(n){pft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zie(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pft(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hft(t,e,r){return e&&$ie(t.prototype,e),r&&$ie(t,r),t}function vft(){for(var t=[],e=0;e<localStorage.length;e++){var r=localStorage.key(e);/^uppyState:/.test(r)&&t.push(r.slice("uppyState:".length))}return t}function Hie(t){try{return JSON.parse(t)}catch(e){return null}}var Vie=!1;Wie.exports=function(){function t(e){dft(this,t),this.opts=fft({expires:24*60*60*1e3},e),this.name="uppyState:".concat(e.storeName),Vie||(Vie=!0,t.cleanup())}return hft(t,[{key:"load",value:function(){var r=localStorage.getItem(this.name);if(!r)return null;var n=Hie(r);return n?n.metadata?n.metadata:(this.save(n),n):null}},{key:"save",value:function(r){var n=Date.now()+this.opts.expires,i=JSON.stringify({metadata:r,expires:n});localStorage.setItem(this.name,i)}}],[{key:"cleanup",value:function(r){if(r){localStorage.removeItem("uppyState:".concat(r));return}var n=vft(),i=Date.now();n.forEach(function(a){var o=localStorage.getItem("uppyState:".concat(a));if(!o)return null;var u=Hie(o);if(!u)return null;u.expires&&u.expires<i&&localStorage.removeItem("uppyState:".concat(a))})}}]),t}()});var Zie=h(function(uwt,Qie){function Yb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yb=function(r){return typeof r}:Yb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yb(t)}function Kie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kie(Object(r),!0).forEach(function(n){yft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kie(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yft(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mft(t,e,r){return e&&Yie(t.prototype,e),r&&Yie(t,r),t}function bft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eA(t,e)}function eA(t,e){return eA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},eA(t,e)}function _ft(t){var e=Sft();return function(){var n=Xb(t),i;if(e){var a=Xb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wft(this,i)}}function wft(t,e){if(e&&(Yb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rl(t)}function Rl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sft(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Xb(t)}var Xie,Jie,Oft=vf(),Pft=_n(),qft=kie(),Rft=Lie(),Jb=Gie();Qie.exports=(Jie=Xie=function(t){bft(r,t);var e=_ft(r);function r(n,i){var a;gft(this,r),a=e.call(this,n,i),a.addBlobToStores=function(u){u.isRemote||(a.ServiceWorkerStore&&a.ServiceWorkerStore.put(u).catch(function(s){a.uppy.log("[GoldenRetriever] Could not store file","warning"),a.uppy.log(s)}),a.IndexedDBStore.put(u).catch(function(s){a.uppy.log("[GoldenRetriever] Could not store file","warning"),a.uppy.log(s)}))},a.removeBlobFromStores=function(u){a.ServiceWorkerStore&&a.ServiceWorkerStore.delete(u.id).catch(function(s){a.uppy.log("[GoldenRetriever] Failed to remove file","warning"),a.uppy.log(s)}),a.IndexedDBStore.delete(u.id).catch(function(s){a.uppy.log("[GoldenRetriever] Failed to remove file","warning"),a.uppy.log(s)})},a.replaceBlobInStores=function(u){a.removeBlobFromStores(u),a.addBlobToStores(u)},a.handleRestoreConfirmed=function(){a.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");var u=a.uppy.getState(),s=u.currentUploads;s&&(Object.keys(s).forEach(function(l){a.uppy.restore(l,s[l])}),a.uppy.resumeAll()),a.uppy.upload(),a.uppy.setState({recoveredState:null})},a.abortRestore=function(){a.uppy.log("[GoldenRetriever] Aborting restore...");var u=Object.keys(a.uppy.getState().files);a.deleteBlobs(u).then(function(){a.uppy.log("[GoldenRetriever] Removed ".concat(u.length," files"))}).catch(function(s){a.uppy.log("[GoldenRetriever] Could not remove ".concat(u.length," files"),"warning"),a.uppy.log(s)}),a.uppy.cancelAll(),a.uppy.setState({recoveredState:null}),Jb.cleanup(a.uppy.opts.id)},a.handleComplete=function(u){var s=u.successful,l=s.map(function(c){return c.id});a.deleteBlobs(l).then(function(){a.uppy.log("[GoldenRetriever] Removed ".concat(s.length," files that finished uploading"))}).catch(function(c){a.uppy.log("[GoldenRetriever] Could not remove ".concat(s.length," files that finished uploading"),"warning"),a.uppy.log(c)}),a.uppy.setState({recoveredState:null}),Jb.cleanup(a.uppy.opts.id)},a.restoreBlobs=function(){a.uppy.getFiles().length>0?Promise.all([a.loadFileBlobsFromServiceWorker(),a.loadFileBlobsFromIndexedDB()]).then(function(u){var s=$t($t({},u[0]),u[1]);a.onBlobsLoaded(s)}):(a.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state..."),a.onBlobsLoaded([]))},a.type="debugger",a.id=a.opts.id||"GoldenRetriever",a.title="Golden Retriever";var o={expires:24*60*60*1e3,serviceWorker:!1};return a.opts=$t($t({},o),i),a.MetaDataStore=new Jb({expires:a.opts.expires,storeName:n.getID()}),a.ServiceWorkerStore=null,a.opts.serviceWorker&&(a.ServiceWorkerStore=new qft({storeName:n.getID()})),a.IndexedDBStore=new Rft($t($t({expires:a.opts.expires},a.opts.indexedDB||{}),{},{storeName:n.getID()})),a.saveFilesStateToLocalStorage=Oft(a.saveFilesStateToLocalStorage.bind(Rl(a)),500,{leading:!0,trailing:!0}),a.restoreState=a.restoreState.bind(Rl(a)),a.loadFileBlobsFromServiceWorker=a.loadFileBlobsFromServiceWorker.bind(Rl(a)),a.loadFileBlobsFromIndexedDB=a.loadFileBlobsFromIndexedDB.bind(Rl(a)),a.onBlobsLoaded=a.onBlobsLoaded.bind(Rl(a)),a}return mft(r,[{key:"restoreState",value:function(){var i=this.MetaDataStore.load();i&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:i.currentUploads||{},files:i.files||{},recoveredState:i}),this.savedPluginData=i.pluginData)}},{key:"getWaitingFiles",value:function(){var i={};return this.uppy.getFiles().forEach(function(a){(!a.progress||!a.progress.uploadStarted)&&(i[a.id]=a)}),i}},{key:"getUploadingFiles",value:function(){var i=this,a={},o=this.uppy.getState(),u=o.currentUploads;if(u){var s=Object.keys(u);s.forEach(function(l){var c=u[l].fileIDs;c.forEach(function(f){a[f]=i.uppy.getFile(f)})})}return a}},{key:"saveFilesStateToLocalStorage",value:function(){var i=$t($t({},this.getWaitingFiles()),this.getUploadingFiles());if(Object.keys(i).length===0){this.uppy.setState({recoveredState:null}),Jb.cleanup(this.uppy.opts.id);return}var a={};Object.keys(i).forEach(function(l){i[l].isRemote?a[l]=$t($t({},i[l]),{},{isRestored:!0}):a[l]=$t($t({},i[l]),{},{isRestored:!0,data:null,preview:null})});var o={};this.uppy.emit("restore:get-data",function(l){Object.assign(o,l)});var u=this.uppy.getState(),s=u.currentUploads;this.MetaDataStore.save({currentUploads:s,files:a,pluginData:o})}},{key:"loadFileBlobsFromServiceWorker",value:function(){var i=this;return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(function(a){var o=i.uppy.getFiles(),u=o.filter(function(c){return!c.isRemote}),s=Object.keys(a).length,l=u.length;return s===l?(i.uppy.log("[GoldenRetriever] Successfully recovered ".concat(s," blobs from Service Worker!")),a):(i.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})}).catch(function(a){return i.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),i.uppy.log(a),{}}):Promise.resolve({})}},{key:"loadFileBlobsFromIndexedDB",value:function(){var i=this;return this.IndexedDBStore.list().then(function(a){var o=Object.keys(a).length;return o>0?(i.uppy.log("[GoldenRetriever] Successfully recovered ".concat(o," blobs from IndexedDB!")),a):(i.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})}).catch(function(a){return i.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),i.uppy.log(a),{}})}},{key:"onBlobsLoaded",value:function(i){var a=this,o=[],u=$t({},this.uppy.getState().files);Object.keys(i).forEach(function(s){var l=a.uppy.getFile(s);if(!l){o.push(s);return}var c=i[s],f={data:c,isRestored:!0,isGhost:!1};u[s]=$t($t({},l),f)}),Object.keys(u).forEach(function(s){u[s].data===null&&(u[s]=$t($t({},u[s]),{},{isGhost:!0}))}),this.uppy.setState({files:u}),this.uppy.emit("restored",this.savedPluginData),o.length&&this.deleteBlobs(o).then(function(){a.uppy.log("[GoldenRetriever] Cleaned up ".concat(o.length," old files"))}).catch(function(s){a.uppy.log("[GoldenRetriever] Could not clean up ".concat(o.length," old files"),"warning"),a.uppy.log(s)})}},{key:"deleteBlobs",value:function(i){var a=this,o=[];return i.forEach(function(u){a.ServiceWorkerStore&&o.push(a.ServiceWorkerStore.delete(u)),a.IndexedDBStore&&o.push(a.IndexedDBStore.delete(u))}),Promise.all(o)}},{key:"install",value:function(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)}},{key:"uninstall",value:function(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)}}]),r}(Pft),Xie.VERSION="2.0.6",Jie)});var aae=h(function(swt,iae){function Qb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qb=function(r){return typeof r}:Qb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qb(t)}function eae(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function El(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eae(Object(r),!0).forEach(function(n){Eft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eae(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eft(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Aft(t,e,r){return e&&tae(t.prototype,e),r&&tae(t,r),t}function Ift(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tA(t,e)}function tA(t,e){return tA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},tA(t,e)}function kft(t){var e=Fft();return function(){var n=Zb(t),i;if(e){var a=Zb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return xft(this,i)}}function xft(t,e){if(e&&(Qb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rA(t)}function rA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fft(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(t)}var rae,nae,Cft=ot(),Dft=Cft.UIPlugin;iae.exports=(nae=rae=function(t){Ift(r,t);var e=kft(r);function r(n,i){var a;Tft(this,r),a=e.call(this,n,i),a.type="debugger",a.id=a.opts.id||"ReduxDevTools",a.title="Redux DevTools";var o={};return a.opts=El(El({},o),i),a.handleStateChange=a.handleStateChange.bind(rA(a)),a.initDevTools=a.initDevTools.bind(rA(a)),a}return Aft(r,[{key:"handleStateChange",value:function(i,a){this.devTools.send("UPPY_STATE_UPDATE",a)}},{key:"initDevTools",value:function(){var i=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(function(a){if(a.type==="DISPATCH")switch(a.payload.type){case"RESET":i.uppy.reset();return;case"IMPORT_STATE":{var o=a.payload.nextLiftedState.computedStates;i.uppy.store.state=El(El({},i.uppy.getState()),o[o.length-1].state),i.uppy.updateAll(i.uppy.getState());return}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":i.uppy.store.state=El(El({},i.uppy.getState()),JSON.parse(a.state)),i.uppy.updateAll(i.uppy.getState())}})}},{key:"install",value:function(){this.withDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))}},{key:"uninstall",value:function(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))}}]),r}(Dft),rae.VERSION="2.0.3",nae)});var oae=h(function(Oe){Oe.Core=ot();Oe.debugLogger=Oe.Core.debugLogger;Oe.server=tr();Oe.views={ProviderView:Ni()};Oe.DefaultStore=eP();Oe.ReduxStore=iW();Oe.Dashboard=MY();Oe.DragDrop=KY();Oe.DropTarget=rX();Oe.FileInput=fX();Oe.Informer=uq();Oe.ProgressBar=bX();Oe.StatusBar=rq();Oe.ImageEditor=xX();Oe.Dropbox=BX();Oe.GoogleDrive=JX();Oe.Instagram=aJ();Oe.OneDrive=dJ();Oe.Box=wJ();Oe.Facebook=AJ();Oe.Unsplash=UJ();Oe.Url=QJ();Oe.Webcam=UQ();Oe.ScreenCapture=sZ();Oe.Audio=tee();Oe.AwsS3=xee();Oe.AwsS3Multipart=Zee();Oe.Transloadit=eie();Oe.Tus=HE();Oe.XHRUpload=yie();Oe.Form=Rie();Oe.GoldenRetriever=Zie();Oe.ReduxDevTools=aae();Oe.ThumbnailGenerator=Eq();Oe.locales={}});var jft=h(function(yqt,uae){Ak();Uk();jk();Mk();Nk();Bk();Lk();zk();$k();Hk();Vk();Wk();Gk();Kk();Yk();var qwt=Cr(uw());Ax();xx();Dx();Ux();Mx();Bx();zx();$x();Qx();Zx();var Uwt=Cr(ec());bF();_F();SF();qF();BF();$F();HF();VF();WF();bC();PC();TC();xC();var Xwt=Cr(jw());UC();jC();var Zwt=Cr(zd());r3();a3();u3();l3();c3();d3();v3();g3();b3();w3();S3();O3();P3();q3();T3();k3();x3();F3();L3();z3();H3();W3();G3();K3();Y3();X3();nD();fD();bD();PD();ED();TD();xD();FD();CD();jD();MD();ND();LD();$D();VD();GD();YD();JD();QD();ZD();eU();tU();iU();aU();aj();var J0t=Cr(H0()),Q0t=Cr(V0());cj();fj();Oj();Rj();Ej();kj();xj();Fj();Cj();Dj();Uj();jj();zj();Hj();Vj();o5();s5();var ySt=Cr(fh());d5();v5();y5();b5();_5();P5();k5();C5();U5();var RSt=Cr(dS());K5();var TSt=Cr(wS());uM();sM();pM();dM();bM();var CSt=Cr(IS());RM();xM();jM();LM();HM();GM();JM();QM();ZM();eN();tN();rN();nN();iN();aN();oN();uN();sN();lN();zN();$N();HN();VN();WN();GN();KN();YN();XN();QN();e8();r8();l8();f8();d8();v8();y8();m8();_8();T8();I8();D8();j8();N8();$8();V8();G8();Y8();J8();Z8();o6();l6();h6();y6();var COt=Cr(Dh());R6();E6();A6();I6();F6();C6();j6();M6();L6();H6();n4();l4();c4();h4();v4();y4();q4();R4();E4();T4();I4();k4();x4();F4();B4();G4();Y4();X4();tB();uB();sB();lB();fB();pB();hB();vB();yB();mB();bB();_B();SB();OB();qB();EB();AB();IB();kB();xB();UB();jB();BB();zB();$B();HB();VB();WB();KB();YB();XB();JB();ZB();eL();tL();rL();nL();aL();oL();uL();sL();lL();cL();fL();vL();yL();gL();bL();_L();SL();RL();EL();TL();NL();BL();LL();zL();KL();XL();JL();e9();r9();i9();o9();s9();c9();p9();d9();h9();y9();g9();m9();b9();S9();O9();P9();q9();R9();E9();T9();A9();I9();F9();C9();D9();N9();B9();L9();z9();$9();H9();V9();W9();G9();K9();J9();Z9();t7();n7();a7();o7();u7();s7();l7();c7();f7();p7();d7();h7();O7();A7();I7();Ez();Tz();var vqt=Cr(T1());Iz();kz();xz();var Uft=Fz();typeof window.ResizeObserver!="function"&&(window.ResizeObserver=Uft);Cz();globalThis.Uppy=uae.exports=oae()});jft();})();
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 */
/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */
//# sourceMappingURL=uppy.legacy.min.js.map
